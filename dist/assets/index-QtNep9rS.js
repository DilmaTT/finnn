function c1(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var Ht=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function u1(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var Hg={exports:{}},Sl={},Wg={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ki=Symbol.for("react.element"),d1=Symbol.for("react.portal"),f1=Symbol.for("react.fragment"),h1=Symbol.for("react.strict_mode"),p1=Symbol.for("react.profiler"),m1=Symbol.for("react.provider"),g1=Symbol.for("react.context"),v1=Symbol.for("react.forward_ref"),y1=Symbol.for("react.suspense"),x1=Symbol.for("react.memo"),w1=Symbol.for("react.lazy"),lp=Symbol.iterator;function S1(e){return e===null||typeof e!="object"?null:(e=lp&&e[lp]||e["@@iterator"],typeof e=="function"?e:null)}var Kg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Gg=Object.assign,qg={};function oo(e,t,n){this.props=e,this.context=t,this.refs=qg,this.updater=n||Kg}oo.prototype.isReactComponent={};oo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};oo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Yg(){}Yg.prototype=oo.prototype;function rf(e,t,n){this.props=e,this.context=t,this.refs=qg,this.updater=n||Kg}var sf=rf.prototype=new Yg;sf.constructor=rf;Gg(sf,oo.prototype);sf.isPureReactComponent=!0;var cp=Array.isArray,Jg=Object.prototype.hasOwnProperty,of={current:null},Xg={key:!0,ref:!0,__self:!0,__source:!0};function Qg(e,t,n){var r,s={},o=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)Jg.call(t,r)&&!Xg.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:ki,type:e,key:o,ref:i,props:s,_owner:of.current}}function b1(e,t){return{$$typeof:ki,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function af(e){return typeof e=="object"&&e!==null&&e.$$typeof===ki}function j1(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var up=/\/+/g;function Cc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?j1(""+e.key):t.toString(36)}function ya(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case ki:case d1:i=!0}}if(i)return i=e,s=s(i),e=r===""?"."+Cc(i,0):r,cp(s)?(n="",e!=null&&(n=e.replace(up,"$&/")+"/"),ya(s,t,n,"",function(u){return u})):s!=null&&(af(s)&&(s=b1(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(up,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=r===""?".":r+":",cp(e))for(var l=0;l<e.length;l++){o=e[l];var c=r+Cc(o,l);i+=ya(o,t,n,c,s)}else if(c=S1(e),typeof c=="function")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=r+Cc(o,l++),i+=ya(o,t,n,c,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Bi(e,t,n){if(e==null)return e;var r=[],s=0;return ya(e,r,"","",function(o){return t.call(n,o,s++)}),r}function _1(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var pt={current:null},xa={transition:null},C1={ReactCurrentDispatcher:pt,ReactCurrentBatchConfig:xa,ReactCurrentOwner:of};function Zg(){throw Error("act(...) is not supported in production builds of React.")}ye.Children={map:Bi,forEach:function(e,t,n){Bi(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Bi(e,function(){t++}),t},toArray:function(e){return Bi(e,function(t){return t})||[]},only:function(e){if(!af(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ye.Component=oo;ye.Fragment=f1;ye.Profiler=p1;ye.PureComponent=rf;ye.StrictMode=h1;ye.Suspense=y1;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=C1;ye.act=Zg;ye.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Gg({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=of.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Jg.call(t,c)&&!Xg.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:ki,type:e.type,key:s,ref:o,props:r,_owner:i}};ye.createContext=function(e){return e={$$typeof:g1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:m1,_context:e},e.Consumer=e};ye.createElement=Qg;ye.createFactory=function(e){var t=Qg.bind(null,e);return t.type=e,t};ye.createRef=function(){return{current:null}};ye.forwardRef=function(e){return{$$typeof:v1,render:e}};ye.isValidElement=af;ye.lazy=function(e){return{$$typeof:w1,_payload:{_status:-1,_result:e},_init:_1}};ye.memo=function(e,t){return{$$typeof:x1,type:e,compare:t===void 0?null:t}};ye.startTransition=function(e){var t=xa.transition;xa.transition={};try{e()}finally{xa.transition=t}};ye.unstable_act=Zg;ye.useCallback=function(e,t){return pt.current.useCallback(e,t)};ye.useContext=function(e){return pt.current.useContext(e)};ye.useDebugValue=function(){};ye.useDeferredValue=function(e){return pt.current.useDeferredValue(e)};ye.useEffect=function(e,t){return pt.current.useEffect(e,t)};ye.useId=function(){return pt.current.useId()};ye.useImperativeHandle=function(e,t,n){return pt.current.useImperativeHandle(e,t,n)};ye.useInsertionEffect=function(e,t){return pt.current.useInsertionEffect(e,t)};ye.useLayoutEffect=function(e,t){return pt.current.useLayoutEffect(e,t)};ye.useMemo=function(e,t){return pt.current.useMemo(e,t)};ye.useReducer=function(e,t,n){return pt.current.useReducer(e,t,n)};ye.useRef=function(e){return pt.current.useRef(e)};ye.useState=function(e){return pt.current.useState(e)};ye.useSyncExternalStore=function(e,t,n){return pt.current.useSyncExternalStore(e,t,n)};ye.useTransition=function(){return pt.current.useTransition()};ye.version="18.3.1";Wg.exports=ye;var h=Wg.exports;const q=Vg(h),ev=c1({__proto__:null,default:q},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k1=h,N1=Symbol.for("react.element"),E1=Symbol.for("react.fragment"),R1=Object.prototype.hasOwnProperty,P1=k1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,T1={key:!0,ref:!0,__self:!0,__source:!0};function tv(e,t,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)R1.call(t,r)&&!T1.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:N1,type:e,key:o,ref:i,props:s,_owner:P1.current}}Sl.Fragment=E1;Sl.jsx=tv;Sl.jsxs=tv;Hg.exports=Sl;var a=Hg.exports,nv={exports:{}},Ot={},rv={exports:{}},sv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,E){var I=T.length;T.push(E);e:for(;0<I;){var $=I-1>>>1,V=T[$];if(0<s(V,E))T[$]=E,T[I]=V,I=$;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var E=T[0],I=T.pop();if(I!==E){T[0]=I;e:for(var $=0,V=T.length,Y=V>>>1;$<Y;){var Q=2*($+1)-1,he=T[Q],D=Q+1,M=T[D];if(0>s(he,I))D<V&&0>s(M,he)?(T[$]=M,T[D]=I,$=D):(T[$]=he,T[Q]=I,$=Q);else if(D<V&&0>s(M,I))T[$]=M,T[D]=I,$=D;else break e}}return E}function s(T,E){var I=T.sortIndex-E.sortIndex;return I!==0?I:T.id-E.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,f=null,p=3,y=!1,S=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(T){for(var E=n(u);E!==null;){if(E.callback===null)r(u);else if(E.startTime<=T)r(u),E.sortIndex=E.expirationTime,t(c,E);else break;E=n(u)}}function w(T){if(x=!1,g(T),!S)if(n(c)!==null)S=!0,H(k);else{var E=n(u);E!==null&&B(w,E.startTime-T)}}function k(T,E){S=!1,x&&(x=!1,m(_),_=-1),y=!0;var I=p;try{for(g(E),f=n(c);f!==null&&(!(f.expirationTime>E)||T&&!P());){var $=f.callback;if(typeof $=="function"){f.callback=null,p=f.priorityLevel;var V=$(f.expirationTime<=E);E=e.unstable_now(),typeof V=="function"?f.callback=V:f===n(c)&&r(c),g(E)}else r(c);f=n(c)}if(f!==null)var Y=!0;else{var Q=n(u);Q!==null&&B(w,Q.startTime-E),Y=!1}return Y}finally{f=null,p=I,y=!1}}var C=!1,j=null,_=-1,N=5,R=-1;function P(){return!(e.unstable_now()-R<N)}function O(){if(j!==null){var T=e.unstable_now();R=T;var E=!0;try{E=j(!0,T)}finally{E?A():(C=!1,j=null)}}else C=!1}var A;if(typeof v=="function")A=function(){v(O)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,U=z.port2;z.port1.onmessage=O,A=function(){U.postMessage(null)}}else A=function(){b(O,0)};function H(T){j=T,C||(C=!0,A())}function B(T,E){_=b(function(){T(e.unstable_now())},E)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){S||y||(S=!0,H(k))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(T){switch(p){case 1:case 2:case 3:var E=3;break;default:E=p}var I=p;p=E;try{return T()}finally{p=I}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,E){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var I=p;p=T;try{return E()}finally{p=I}},e.unstable_scheduleCallback=function(T,E,I){var $=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?$+I:$):I=$,T){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=I+V,T={id:d++,callback:E,priorityLevel:T,startTime:I,expirationTime:V,sortIndex:-1},I>$?(T.sortIndex=I,t(u,T),n(c)===null&&T===n(u)&&(x?(m(_),_=-1):x=!0,B(w,I-$))):(T.sortIndex=V,t(c,T),S||y||(S=!0,H(k))),T},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(T){var E=p;return function(){var I=p;p=E;try{return T.apply(this,arguments)}finally{p=I}}}})(sv);rv.exports=sv;var A1=rv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I1=h,It=A1;function K(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ov=new Set,ti={};function as(e,t){qs(e,t),qs(e+"Capture",t)}function qs(e,t){for(ti[e]=t,e=0;e<t.length;e++)ov.add(t[e])}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Eu=Object.prototype.hasOwnProperty,O1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,dp={},fp={};function D1(e){return Eu.call(fp,e)?!0:Eu.call(dp,e)?!1:O1.test(e)?fp[e]=!0:(dp[e]=!0,!1)}function M1(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function L1(e,t,n,r){if(t===null||typeof t>"u"||M1(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function mt(e,t,n,r,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var rt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){rt[e]=new mt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];rt[t]=new mt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){rt[e]=new mt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){rt[e]=new mt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){rt[e]=new mt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){rt[e]=new mt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){rt[e]=new mt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){rt[e]=new mt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){rt[e]=new mt(e,5,!1,e.toLowerCase(),null,!1,!1)});var lf=/[\-:]([a-z])/g;function cf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(lf,cf);rt[t]=new mt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(lf,cf);rt[t]=new mt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(lf,cf);rt[t]=new mt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){rt[e]=new mt(e,1,!1,e.toLowerCase(),null,!1,!1)});rt.xlinkHref=new mt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){rt[e]=new mt(e,1,!1,e.toLowerCase(),null,!0,!0)});function uf(e,t,n,r){var s=rt.hasOwnProperty(t)?rt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(L1(t,n,s,r)&&(n=null),r||s===null?D1(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Jn=I1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vi=Symbol.for("react.element"),_s=Symbol.for("react.portal"),Cs=Symbol.for("react.fragment"),df=Symbol.for("react.strict_mode"),Ru=Symbol.for("react.profiler"),iv=Symbol.for("react.provider"),av=Symbol.for("react.context"),ff=Symbol.for("react.forward_ref"),Pu=Symbol.for("react.suspense"),Tu=Symbol.for("react.suspense_list"),hf=Symbol.for("react.memo"),lr=Symbol.for("react.lazy"),lv=Symbol.for("react.offscreen"),hp=Symbol.iterator;function wo(e){return e===null||typeof e!="object"?null:(e=hp&&e[hp]||e["@@iterator"],typeof e=="function"?e:null)}var Fe=Object.assign,kc;function Io(e){if(kc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);kc=t&&t[1]||""}return`
`+kc+e}var Nc=!1;function Ec(e,t){if(!e||Nc)return"";Nc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=r.stack.split(`
`),i=s.length-1,l=o.length-1;1<=i&&0<=l&&s[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||s[i]!==o[l]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{Nc=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Io(e):""}function $1(e){switch(e.tag){case 5:return Io(e.type);case 16:return Io("Lazy");case 13:return Io("Suspense");case 19:return Io("SuspenseList");case 0:case 2:case 15:return e=Ec(e.type,!1),e;case 11:return e=Ec(e.type.render,!1),e;case 1:return e=Ec(e.type,!0),e;default:return""}}function Au(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Cs:return"Fragment";case _s:return"Portal";case Ru:return"Profiler";case df:return"StrictMode";case Pu:return"Suspense";case Tu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case av:return(e.displayName||"Context")+".Consumer";case iv:return(e._context.displayName||"Context")+".Provider";case ff:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case hf:return t=e.displayName||null,t!==null?t:Au(e.type)||"Memo";case lr:t=e._payload,e=e._init;try{return Au(e(t))}catch{}}return null}function F1(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Au(t);case 8:return t===df?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function _r(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function cv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function z1(e){var t=cv(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Hi(e){e._valueTracker||(e._valueTracker=z1(e))}function uv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=cv(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Fa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Iu(e,t){var n=t.checked;return Fe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function pp(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=_r(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function dv(e,t){t=t.checked,t!=null&&uf(e,"checked",t,!1)}function Ou(e,t){dv(e,t);var n=_r(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Du(e,t.type,n):t.hasOwnProperty("defaultValue")&&Du(e,t.type,_r(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function mp(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Du(e,t,n){(t!=="number"||Fa(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Oo=Array.isArray;function Ls(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+_r(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Mu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(K(91));return Fe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function gp(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(K(92));if(Oo(n)){if(1<n.length)throw Error(K(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:_r(n)}}function fv(e,t){var n=_r(t.value),r=_r(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function vp(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function hv(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?hv(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Wi,pv=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Wi=Wi||document.createElement("div"),Wi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Wi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ni(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Vo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},U1=["Webkit","ms","Moz","O"];Object.keys(Vo).forEach(function(e){U1.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Vo[t]=Vo[e]})});function mv(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Vo.hasOwnProperty(e)&&Vo[e]?(""+t).trim():t+"px"}function gv(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=mv(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var B1=Fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $u(e,t){if(t){if(B1[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(K(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(K(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(K(61))}if(t.style!=null&&typeof t.style!="object")throw Error(K(62))}}function Fu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zu=null;function pf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Uu=null,$s=null,Fs=null;function yp(e){if(e=Ri(e)){if(typeof Uu!="function")throw Error(K(280));var t=e.stateNode;t&&(t=kl(t),Uu(e.stateNode,e.type,t))}}function vv(e){$s?Fs?Fs.push(e):Fs=[e]:$s=e}function yv(){if($s){var e=$s,t=Fs;if(Fs=$s=null,yp(e),t)for(e=0;e<t.length;e++)yp(t[e])}}function xv(e,t){return e(t)}function wv(){}var Rc=!1;function Sv(e,t,n){if(Rc)return e(t,n);Rc=!0;try{return xv(e,t,n)}finally{Rc=!1,($s!==null||Fs!==null)&&(wv(),yv())}}function ri(e,t){var n=e.stateNode;if(n===null)return null;var r=kl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(K(231,t,typeof n));return n}var Bu=!1;if(Hn)try{var So={};Object.defineProperty(So,"passive",{get:function(){Bu=!0}}),window.addEventListener("test",So,So),window.removeEventListener("test",So,So)}catch{Bu=!1}function V1(e,t,n,r,s,o,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Ho=!1,za=null,Ua=!1,Vu=null,H1={onError:function(e){Ho=!0,za=e}};function W1(e,t,n,r,s,o,i,l,c){Ho=!1,za=null,V1.apply(H1,arguments)}function K1(e,t,n,r,s,o,i,l,c){if(W1.apply(this,arguments),Ho){if(Ho){var u=za;Ho=!1,za=null}else throw Error(K(198));Ua||(Ua=!0,Vu=u)}}function ls(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function bv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function xp(e){if(ls(e)!==e)throw Error(K(188))}function G1(e){var t=e.alternate;if(!t){if(t=ls(e),t===null)throw Error(K(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return xp(s),e;if(o===r)return xp(s),t;o=o.sibling}throw Error(K(188))}if(n.return!==r.return)n=s,r=o;else{for(var i=!1,l=s.child;l;){if(l===n){i=!0,n=s,r=o;break}if(l===r){i=!0,r=s,n=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===n){i=!0,n=o,r=s;break}if(l===r){i=!0,r=o,n=s;break}l=l.sibling}if(!i)throw Error(K(189))}}if(n.alternate!==r)throw Error(K(190))}if(n.tag!==3)throw Error(K(188));return n.stateNode.current===n?e:t}function jv(e){return e=G1(e),e!==null?_v(e):null}function _v(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=_v(e);if(t!==null)return t;e=e.sibling}return null}var Cv=It.unstable_scheduleCallback,wp=It.unstable_cancelCallback,q1=It.unstable_shouldYield,Y1=It.unstable_requestPaint,Ue=It.unstable_now,J1=It.unstable_getCurrentPriorityLevel,mf=It.unstable_ImmediatePriority,kv=It.unstable_UserBlockingPriority,Ba=It.unstable_NormalPriority,X1=It.unstable_LowPriority,Nv=It.unstable_IdlePriority,bl=null,jn=null;function Q1(e){if(jn&&typeof jn.onCommitFiberRoot=="function")try{jn.onCommitFiberRoot(bl,e,void 0,(e.current.flags&128)===128)}catch{}}var rn=Math.clz32?Math.clz32:t_,Z1=Math.log,e_=Math.LN2;function t_(e){return e>>>=0,e===0?32:31-(Z1(e)/e_|0)|0}var Ki=64,Gi=4194304;function Do(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Va(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,i=n&268435455;if(i!==0){var l=i&~s;l!==0?r=Do(l):(o&=i,o!==0&&(r=Do(o)))}else i=n&~s,i!==0?r=Do(i):o!==0&&(r=Do(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-rn(t),s=1<<n,r|=e[n],t&=~s;return r}function n_(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function r_(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-rn(o),l=1<<i,c=s[i];c===-1?(!(l&n)||l&r)&&(s[i]=n_(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}function Hu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ev(){var e=Ki;return Ki<<=1,!(Ki&4194240)&&(Ki=64),e}function Pc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ni(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-rn(t),e[t]=n}function s_(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-rn(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function gf(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-rn(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var je=0;function Rv(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Pv,vf,Tv,Av,Iv,Wu=!1,qi=[],mr=null,gr=null,vr=null,si=new Map,oi=new Map,ur=[],o_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sp(e,t){switch(e){case"focusin":case"focusout":mr=null;break;case"dragenter":case"dragleave":gr=null;break;case"mouseover":case"mouseout":vr=null;break;case"pointerover":case"pointerout":si.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":oi.delete(t.pointerId)}}function bo(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=Ri(t),t!==null&&vf(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function i_(e,t,n,r,s){switch(t){case"focusin":return mr=bo(mr,e,t,n,r,s),!0;case"dragenter":return gr=bo(gr,e,t,n,r,s),!0;case"mouseover":return vr=bo(vr,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return si.set(o,bo(si.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,oi.set(o,bo(oi.get(o)||null,e,t,n,r,s)),!0}return!1}function Ov(e){var t=Br(e.target);if(t!==null){var n=ls(t);if(n!==null){if(t=n.tag,t===13){if(t=bv(n),t!==null){e.blockedOn=t,Iv(e.priority,function(){Tv(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ku(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);zu=r,n.target.dispatchEvent(r),zu=null}else return t=Ri(n),t!==null&&vf(t),e.blockedOn=n,!1;t.shift()}return!0}function bp(e,t,n){wa(e)&&n.delete(t)}function a_(){Wu=!1,mr!==null&&wa(mr)&&(mr=null),gr!==null&&wa(gr)&&(gr=null),vr!==null&&wa(vr)&&(vr=null),si.forEach(bp),oi.forEach(bp)}function jo(e,t){e.blockedOn===t&&(e.blockedOn=null,Wu||(Wu=!0,It.unstable_scheduleCallback(It.unstable_NormalPriority,a_)))}function ii(e){function t(s){return jo(s,e)}if(0<qi.length){jo(qi[0],e);for(var n=1;n<qi.length;n++){var r=qi[n];r.blockedOn===e&&(r.blockedOn=null)}}for(mr!==null&&jo(mr,e),gr!==null&&jo(gr,e),vr!==null&&jo(vr,e),si.forEach(t),oi.forEach(t),n=0;n<ur.length;n++)r=ur[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ur.length&&(n=ur[0],n.blockedOn===null);)Ov(n),n.blockedOn===null&&ur.shift()}var zs=Jn.ReactCurrentBatchConfig,Ha=!0;function l_(e,t,n,r){var s=je,o=zs.transition;zs.transition=null;try{je=1,yf(e,t,n,r)}finally{je=s,zs.transition=o}}function c_(e,t,n,r){var s=je,o=zs.transition;zs.transition=null;try{je=4,yf(e,t,n,r)}finally{je=s,zs.transition=o}}function yf(e,t,n,r){if(Ha){var s=Ku(e,t,n,r);if(s===null)zc(e,t,r,Wa,n),Sp(e,r);else if(i_(s,e,t,n,r))r.stopPropagation();else if(Sp(e,r),t&4&&-1<o_.indexOf(e)){for(;s!==null;){var o=Ri(s);if(o!==null&&Pv(o),o=Ku(e,t,n,r),o===null&&zc(e,t,r,Wa,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else zc(e,t,r,null,n)}}var Wa=null;function Ku(e,t,n,r){if(Wa=null,e=pf(r),e=Br(e),e!==null)if(t=ls(e),t===null)e=null;else if(n=t.tag,n===13){if(e=bv(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wa=e,null}function Dv(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(J1()){case mf:return 1;case kv:return 4;case Ba:case X1:return 16;case Nv:return 536870912;default:return 16}default:return 16}}var hr=null,xf=null,Sa=null;function Mv(){if(Sa)return Sa;var e,t=xf,n=t.length,r,s="value"in hr?hr.value:hr.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===s[o-r];r++);return Sa=s.slice(e,1<r?1-r:void 0)}function ba(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Yi(){return!0}function jp(){return!1}function Dt(e){function t(n,r,s,o,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Yi:jp,this.isPropagationStopped=jp,this}return Fe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Yi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Yi)},persist:function(){},isPersistent:Yi}),t}var io={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wf=Dt(io),Ei=Fe({},io,{view:0,detail:0}),u_=Dt(Ei),Tc,Ac,_o,jl=Fe({},Ei,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_o&&(_o&&e.type==="mousemove"?(Tc=e.screenX-_o.screenX,Ac=e.screenY-_o.screenY):Ac=Tc=0,_o=e),Tc)},movementY:function(e){return"movementY"in e?e.movementY:Ac}}),_p=Dt(jl),d_=Fe({},jl,{dataTransfer:0}),f_=Dt(d_),h_=Fe({},Ei,{relatedTarget:0}),Ic=Dt(h_),p_=Fe({},io,{animationName:0,elapsedTime:0,pseudoElement:0}),m_=Dt(p_),g_=Fe({},io,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),v_=Dt(g_),y_=Fe({},io,{data:0}),Cp=Dt(y_),x_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},w_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},S_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function b_(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=S_[e])?!!t[e]:!1}function Sf(){return b_}var j_=Fe({},Ei,{key:function(e){if(e.key){var t=x_[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ba(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?w_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sf,charCode:function(e){return e.type==="keypress"?ba(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ba(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),__=Dt(j_),C_=Fe({},jl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kp=Dt(C_),k_=Fe({},Ei,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sf}),N_=Dt(k_),E_=Fe({},io,{propertyName:0,elapsedTime:0,pseudoElement:0}),R_=Dt(E_),P_=Fe({},jl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),T_=Dt(P_),A_=[9,13,27,32],bf=Hn&&"CompositionEvent"in window,Wo=null;Hn&&"documentMode"in document&&(Wo=document.documentMode);var I_=Hn&&"TextEvent"in window&&!Wo,Lv=Hn&&(!bf||Wo&&8<Wo&&11>=Wo),Np=" ",Ep=!1;function $v(e,t){switch(e){case"keyup":return A_.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ks=!1;function O_(e,t){switch(e){case"compositionend":return Fv(t);case"keypress":return t.which!==32?null:(Ep=!0,Np);case"textInput":return e=t.data,e===Np&&Ep?null:e;default:return null}}function D_(e,t){if(ks)return e==="compositionend"||!bf&&$v(e,t)?(e=Mv(),Sa=xf=hr=null,ks=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Lv&&t.locale!=="ko"?null:t.data;default:return null}}var M_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!M_[e.type]:t==="textarea"}function zv(e,t,n,r){vv(r),t=Ka(t,"onChange"),0<t.length&&(n=new wf("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ko=null,ai=null;function L_(e){Xv(e,0)}function _l(e){var t=Rs(e);if(uv(t))return e}function $_(e,t){if(e==="change")return t}var Uv=!1;if(Hn){var Oc;if(Hn){var Dc="oninput"in document;if(!Dc){var Pp=document.createElement("div");Pp.setAttribute("oninput","return;"),Dc=typeof Pp.oninput=="function"}Oc=Dc}else Oc=!1;Uv=Oc&&(!document.documentMode||9<document.documentMode)}function Tp(){Ko&&(Ko.detachEvent("onpropertychange",Bv),ai=Ko=null)}function Bv(e){if(e.propertyName==="value"&&_l(ai)){var t=[];zv(t,ai,e,pf(e)),Sv(L_,t)}}function F_(e,t,n){e==="focusin"?(Tp(),Ko=t,ai=n,Ko.attachEvent("onpropertychange",Bv)):e==="focusout"&&Tp()}function z_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _l(ai)}function U_(e,t){if(e==="click")return _l(t)}function B_(e,t){if(e==="input"||e==="change")return _l(t)}function V_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var on=typeof Object.is=="function"?Object.is:V_;function li(e,t){if(on(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Eu.call(t,s)||!on(e[s],t[s]))return!1}return!0}function Ap(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ip(e,t){var n=Ap(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ap(n)}}function Vv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Vv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Hv(){for(var e=window,t=Fa();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Fa(e.document)}return t}function jf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function H_(e){var t=Hv(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Vv(n.ownerDocument.documentElement,n)){if(r!==null&&jf(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=Ip(n,o);var i=Ip(n,r);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var W_=Hn&&"documentMode"in document&&11>=document.documentMode,Ns=null,Gu=null,Go=null,qu=!1;function Op(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;qu||Ns==null||Ns!==Fa(r)||(r=Ns,"selectionStart"in r&&jf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Go&&li(Go,r)||(Go=r,r=Ka(Gu,"onSelect"),0<r.length&&(t=new wf("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ns)))}function Ji(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Es={animationend:Ji("Animation","AnimationEnd"),animationiteration:Ji("Animation","AnimationIteration"),animationstart:Ji("Animation","AnimationStart"),transitionend:Ji("Transition","TransitionEnd")},Mc={},Wv={};Hn&&(Wv=document.createElement("div").style,"AnimationEvent"in window||(delete Es.animationend.animation,delete Es.animationiteration.animation,delete Es.animationstart.animation),"TransitionEvent"in window||delete Es.transitionend.transition);function Cl(e){if(Mc[e])return Mc[e];if(!Es[e])return e;var t=Es[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Wv)return Mc[e]=t[n];return e}var Kv=Cl("animationend"),Gv=Cl("animationiteration"),qv=Cl("animationstart"),Yv=Cl("transitionend"),Jv=new Map,Dp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Er(e,t){Jv.set(e,t),as(t,[e])}for(var Lc=0;Lc<Dp.length;Lc++){var $c=Dp[Lc],K_=$c.toLowerCase(),G_=$c[0].toUpperCase()+$c.slice(1);Er(K_,"on"+G_)}Er(Kv,"onAnimationEnd");Er(Gv,"onAnimationIteration");Er(qv,"onAnimationStart");Er("dblclick","onDoubleClick");Er("focusin","onFocus");Er("focusout","onBlur");Er(Yv,"onTransitionEnd");qs("onMouseEnter",["mouseout","mouseover"]);qs("onMouseLeave",["mouseout","mouseover"]);qs("onPointerEnter",["pointerout","pointerover"]);qs("onPointerLeave",["pointerout","pointerover"]);as("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));as("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));as("onBeforeInput",["compositionend","keypress","textInput","paste"]);as("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));as("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));as("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),q_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mo));function Mp(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,K1(r,t,void 0,e),e.currentTarget=null}function Xv(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var l=r[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&s.isPropagationStopped())break e;Mp(s,l,u),o=c}else for(i=0;i<r.length;i++){if(l=r[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&s.isPropagationStopped())break e;Mp(s,l,u),o=c}}}if(Ua)throw e=Vu,Ua=!1,Vu=null,e}function Te(e,t){var n=t[Zu];n===void 0&&(n=t[Zu]=new Set);var r=e+"__bubble";n.has(r)||(Qv(t,e,2,!1),n.add(r))}function Fc(e,t,n){var r=0;t&&(r|=4),Qv(n,e,r,t)}var Xi="_reactListening"+Math.random().toString(36).slice(2);function ci(e){if(!e[Xi]){e[Xi]=!0,ov.forEach(function(n){n!=="selectionchange"&&(q_.has(n)||Fc(n,!1,e),Fc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Xi]||(t[Xi]=!0,Fc("selectionchange",!1,t))}}function Qv(e,t,n,r){switch(Dv(t)){case 1:var s=l_;break;case 4:s=c_;break;default:s=yf}n=s.bind(null,t,n,e),s=void 0,!Bu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function zc(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;l!==null;){if(i=Br(l),i===null)return;if(c=i.tag,c===5||c===6){r=o=i;continue e}l=l.parentNode}}r=r.return}Sv(function(){var u=o,d=pf(n),f=[];e:{var p=Jv.get(e);if(p!==void 0){var y=wf,S=e;switch(e){case"keypress":if(ba(n)===0)break e;case"keydown":case"keyup":y=__;break;case"focusin":S="focus",y=Ic;break;case"focusout":S="blur",y=Ic;break;case"beforeblur":case"afterblur":y=Ic;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=_p;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=f_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=N_;break;case Kv:case Gv:case qv:y=m_;break;case Yv:y=R_;break;case"scroll":y=u_;break;case"wheel":y=T_;break;case"copy":case"cut":case"paste":y=v_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=kp}var x=(t&4)!==0,b=!x&&e==="scroll",m=x?p!==null?p+"Capture":null:p;x=[];for(var v=u,g;v!==null;){g=v;var w=g.stateNode;if(g.tag===5&&w!==null&&(g=w,m!==null&&(w=ri(v,m),w!=null&&x.push(ui(v,w,g)))),b)break;v=v.return}0<x.length&&(p=new y(p,S,null,n,d),f.push({event:p,listeners:x}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",p&&n!==zu&&(S=n.relatedTarget||n.fromElement)&&(Br(S)||S[Wn]))break e;if((y||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,y?(S=n.relatedTarget||n.toElement,y=u,S=S?Br(S):null,S!==null&&(b=ls(S),S!==b||S.tag!==5&&S.tag!==6)&&(S=null)):(y=null,S=u),y!==S)){if(x=_p,w="onMouseLeave",m="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(x=kp,w="onPointerLeave",m="onPointerEnter",v="pointer"),b=y==null?p:Rs(y),g=S==null?p:Rs(S),p=new x(w,v+"leave",y,n,d),p.target=b,p.relatedTarget=g,w=null,Br(d)===u&&(x=new x(m,v+"enter",S,n,d),x.target=g,x.relatedTarget=b,w=x),b=w,y&&S)t:{for(x=y,m=S,v=0,g=x;g;g=hs(g))v++;for(g=0,w=m;w;w=hs(w))g++;for(;0<v-g;)x=hs(x),v--;for(;0<g-v;)m=hs(m),g--;for(;v--;){if(x===m||m!==null&&x===m.alternate)break t;x=hs(x),m=hs(m)}x=null}else x=null;y!==null&&Lp(f,p,y,x,!1),S!==null&&b!==null&&Lp(f,b,S,x,!0)}}e:{if(p=u?Rs(u):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var k=$_;else if(Rp(p))if(Uv)k=B_;else{k=z_;var C=F_}else(y=p.nodeName)&&y.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(k=U_);if(k&&(k=k(e,u))){zv(f,k,n,d);break e}C&&C(e,p,u),e==="focusout"&&(C=p._wrapperState)&&C.controlled&&p.type==="number"&&Du(p,"number",p.value)}switch(C=u?Rs(u):window,e){case"focusin":(Rp(C)||C.contentEditable==="true")&&(Ns=C,Gu=u,Go=null);break;case"focusout":Go=Gu=Ns=null;break;case"mousedown":qu=!0;break;case"contextmenu":case"mouseup":case"dragend":qu=!1,Op(f,n,d);break;case"selectionchange":if(W_)break;case"keydown":case"keyup":Op(f,n,d)}var j;if(bf)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else ks?$v(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(Lv&&n.locale!=="ko"&&(ks||_!=="onCompositionStart"?_==="onCompositionEnd"&&ks&&(j=Mv()):(hr=d,xf="value"in hr?hr.value:hr.textContent,ks=!0)),C=Ka(u,_),0<C.length&&(_=new Cp(_,e,null,n,d),f.push({event:_,listeners:C}),j?_.data=j:(j=Fv(n),j!==null&&(_.data=j)))),(j=I_?O_(e,n):D_(e,n))&&(u=Ka(u,"onBeforeInput"),0<u.length&&(d=new Cp("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=j))}Xv(f,t)})}function ui(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ka(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=ri(e,n),o!=null&&r.unshift(ui(e,o,s)),o=ri(e,t),o!=null&&r.push(ui(e,o,s))),e=e.return}return r}function hs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Lp(e,t,n,r,s){for(var o=t._reactName,i=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=ri(n,o),c!=null&&i.unshift(ui(n,c,l))):s||(c=ri(n,o),c!=null&&i.push(ui(n,c,l)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var Y_=/\r\n?/g,J_=/\u0000|\uFFFD/g;function $p(e){return(typeof e=="string"?e:""+e).replace(Y_,`
`).replace(J_,"")}function Qi(e,t,n){if(t=$p(t),$p(e)!==t&&n)throw Error(K(425))}function Ga(){}var Yu=null,Ju=null;function Xu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Qu=typeof setTimeout=="function"?setTimeout:void 0,X_=typeof clearTimeout=="function"?clearTimeout:void 0,Fp=typeof Promise=="function"?Promise:void 0,Q_=typeof queueMicrotask=="function"?queueMicrotask:typeof Fp<"u"?function(e){return Fp.resolve(null).then(e).catch(Z_)}:Qu;function Z_(e){setTimeout(function(){throw e})}function Uc(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),ii(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ii(t)}function yr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function zp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ao=Math.random().toString(36).slice(2),yn="__reactFiber$"+ao,di="__reactProps$"+ao,Wn="__reactContainer$"+ao,Zu="__reactEvents$"+ao,eC="__reactListeners$"+ao,tC="__reactHandles$"+ao;function Br(e){var t=e[yn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Wn]||n[yn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=zp(e);e!==null;){if(n=e[yn])return n;e=zp(e)}return t}e=n,n=e.parentNode}return null}function Ri(e){return e=e[yn]||e[Wn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Rs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(K(33))}function kl(e){return e[di]||null}var ed=[],Ps=-1;function Rr(e){return{current:e}}function Ae(e){0>Ps||(e.current=ed[Ps],ed[Ps]=null,Ps--)}function Ee(e,t){Ps++,ed[Ps]=e.current,e.current=t}var Cr={},ct=Rr(Cr),St=Rr(!1),Jr=Cr;function Ys(e,t){var n=e.type.contextTypes;if(!n)return Cr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function bt(e){return e=e.childContextTypes,e!=null}function qa(){Ae(St),Ae(ct)}function Up(e,t,n){if(ct.current!==Cr)throw Error(K(168));Ee(ct,t),Ee(St,n)}function Zv(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(K(108,F1(e)||"Unknown",s));return Fe({},n,r)}function Ya(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Cr,Jr=ct.current,Ee(ct,e),Ee(St,St.current),!0}function Bp(e,t,n){var r=e.stateNode;if(!r)throw Error(K(169));n?(e=Zv(e,t,Jr),r.__reactInternalMemoizedMergedChildContext=e,Ae(St),Ae(ct),Ee(ct,e)):Ae(St),Ee(St,n)}var Ln=null,Nl=!1,Bc=!1;function ey(e){Ln===null?Ln=[e]:Ln.push(e)}function nC(e){Nl=!0,ey(e)}function Pr(){if(!Bc&&Ln!==null){Bc=!0;var e=0,t=je;try{var n=Ln;for(je=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ln=null,Nl=!1}catch(s){throw Ln!==null&&(Ln=Ln.slice(e+1)),Cv(mf,Pr),s}finally{je=t,Bc=!1}}return null}var Ts=[],As=0,Ja=null,Xa=0,$t=[],Ft=0,Xr=null,$n=1,Fn="";function $r(e,t){Ts[As++]=Xa,Ts[As++]=Ja,Ja=e,Xa=t}function ty(e,t,n){$t[Ft++]=$n,$t[Ft++]=Fn,$t[Ft++]=Xr,Xr=e;var r=$n;e=Fn;var s=32-rn(r)-1;r&=~(1<<s),n+=1;var o=32-rn(t)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,$n=1<<32-rn(t)+s|n<<s|r,Fn=o+e}else $n=1<<o|n<<s|r,Fn=e}function _f(e){e.return!==null&&($r(e,1),ty(e,1,0))}function Cf(e){for(;e===Ja;)Ja=Ts[--As],Ts[As]=null,Xa=Ts[--As],Ts[As]=null;for(;e===Xr;)Xr=$t[--Ft],$t[Ft]=null,Fn=$t[--Ft],$t[Ft]=null,$n=$t[--Ft],$t[Ft]=null}var Tt=null,Pt=null,De=!1,nn=null;function ny(e,t){var n=zt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Vp(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Tt=e,Pt=yr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Tt=e,Pt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Xr!==null?{id:$n,overflow:Fn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=zt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Tt=e,Pt=null,!0):!1;default:return!1}}function td(e){return(e.mode&1)!==0&&(e.flags&128)===0}function nd(e){if(De){var t=Pt;if(t){var n=t;if(!Vp(e,t)){if(td(e))throw Error(K(418));t=yr(n.nextSibling);var r=Tt;t&&Vp(e,t)?ny(r,n):(e.flags=e.flags&-4097|2,De=!1,Tt=e)}}else{if(td(e))throw Error(K(418));e.flags=e.flags&-4097|2,De=!1,Tt=e}}}function Hp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Tt=e}function Zi(e){if(e!==Tt)return!1;if(!De)return Hp(e),De=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Xu(e.type,e.memoizedProps)),t&&(t=Pt)){if(td(e))throw ry(),Error(K(418));for(;t;)ny(e,t),t=yr(t.nextSibling)}if(Hp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(K(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Pt=yr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Pt=null}}else Pt=Tt?yr(e.stateNode.nextSibling):null;return!0}function ry(){for(var e=Pt;e;)e=yr(e.nextSibling)}function Js(){Pt=Tt=null,De=!1}function kf(e){nn===null?nn=[e]:nn.push(e)}var rC=Jn.ReactCurrentBatchConfig;function Co(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(K(309));var r=n.stateNode}if(!r)throw Error(K(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var l=s.refs;i===null?delete l[o]:l[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(K(284));if(!n._owner)throw Error(K(290,e))}return e}function ea(e,t){throw e=Object.prototype.toString.call(t),Error(K(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Wp(e){var t=e._init;return t(e._payload)}function sy(e){function t(m,v){if(e){var g=m.deletions;g===null?(m.deletions=[v],m.flags|=16):g.push(v)}}function n(m,v){if(!e)return null;for(;v!==null;)t(m,v),v=v.sibling;return null}function r(m,v){for(m=new Map;v!==null;)v.key!==null?m.set(v.key,v):m.set(v.index,v),v=v.sibling;return m}function s(m,v){return m=br(m,v),m.index=0,m.sibling=null,m}function o(m,v,g){return m.index=g,e?(g=m.alternate,g!==null?(g=g.index,g<v?(m.flags|=2,v):g):(m.flags|=2,v)):(m.flags|=1048576,v)}function i(m){return e&&m.alternate===null&&(m.flags|=2),m}function l(m,v,g,w){return v===null||v.tag!==6?(v=Yc(g,m.mode,w),v.return=m,v):(v=s(v,g),v.return=m,v)}function c(m,v,g,w){var k=g.type;return k===Cs?d(m,v,g.props.children,w,g.key):v!==null&&(v.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===lr&&Wp(k)===v.type)?(w=s(v,g.props),w.ref=Co(m,v,g),w.return=m,w):(w=Ra(g.type,g.key,g.props,null,m.mode,w),w.ref=Co(m,v,g),w.return=m,w)}function u(m,v,g,w){return v===null||v.tag!==4||v.stateNode.containerInfo!==g.containerInfo||v.stateNode.implementation!==g.implementation?(v=Jc(g,m.mode,w),v.return=m,v):(v=s(v,g.children||[]),v.return=m,v)}function d(m,v,g,w,k){return v===null||v.tag!==7?(v=Gr(g,m.mode,w,k),v.return=m,v):(v=s(v,g),v.return=m,v)}function f(m,v,g){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Yc(""+v,m.mode,g),v.return=m,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Vi:return g=Ra(v.type,v.key,v.props,null,m.mode,g),g.ref=Co(m,null,v),g.return=m,g;case _s:return v=Jc(v,m.mode,g),v.return=m,v;case lr:var w=v._init;return f(m,w(v._payload),g)}if(Oo(v)||wo(v))return v=Gr(v,m.mode,g,null),v.return=m,v;ea(m,v)}return null}function p(m,v,g,w){var k=v!==null?v.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return k!==null?null:l(m,v,""+g,w);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Vi:return g.key===k?c(m,v,g,w):null;case _s:return g.key===k?u(m,v,g,w):null;case lr:return k=g._init,p(m,v,k(g._payload),w)}if(Oo(g)||wo(g))return k!==null?null:d(m,v,g,w,null);ea(m,g)}return null}function y(m,v,g,w,k){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(g)||null,l(v,m,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Vi:return m=m.get(w.key===null?g:w.key)||null,c(v,m,w,k);case _s:return m=m.get(w.key===null?g:w.key)||null,u(v,m,w,k);case lr:var C=w._init;return y(m,v,g,C(w._payload),k)}if(Oo(w)||wo(w))return m=m.get(g)||null,d(v,m,w,k,null);ea(v,w)}return null}function S(m,v,g,w){for(var k=null,C=null,j=v,_=v=0,N=null;j!==null&&_<g.length;_++){j.index>_?(N=j,j=null):N=j.sibling;var R=p(m,j,g[_],w);if(R===null){j===null&&(j=N);break}e&&j&&R.alternate===null&&t(m,j),v=o(R,v,_),C===null?k=R:C.sibling=R,C=R,j=N}if(_===g.length)return n(m,j),De&&$r(m,_),k;if(j===null){for(;_<g.length;_++)j=f(m,g[_],w),j!==null&&(v=o(j,v,_),C===null?k=j:C.sibling=j,C=j);return De&&$r(m,_),k}for(j=r(m,j);_<g.length;_++)N=y(j,m,_,g[_],w),N!==null&&(e&&N.alternate!==null&&j.delete(N.key===null?_:N.key),v=o(N,v,_),C===null?k=N:C.sibling=N,C=N);return e&&j.forEach(function(P){return t(m,P)}),De&&$r(m,_),k}function x(m,v,g,w){var k=wo(g);if(typeof k!="function")throw Error(K(150));if(g=k.call(g),g==null)throw Error(K(151));for(var C=k=null,j=v,_=v=0,N=null,R=g.next();j!==null&&!R.done;_++,R=g.next()){j.index>_?(N=j,j=null):N=j.sibling;var P=p(m,j,R.value,w);if(P===null){j===null&&(j=N);break}e&&j&&P.alternate===null&&t(m,j),v=o(P,v,_),C===null?k=P:C.sibling=P,C=P,j=N}if(R.done)return n(m,j),De&&$r(m,_),k;if(j===null){for(;!R.done;_++,R=g.next())R=f(m,R.value,w),R!==null&&(v=o(R,v,_),C===null?k=R:C.sibling=R,C=R);return De&&$r(m,_),k}for(j=r(m,j);!R.done;_++,R=g.next())R=y(j,m,_,R.value,w),R!==null&&(e&&R.alternate!==null&&j.delete(R.key===null?_:R.key),v=o(R,v,_),C===null?k=R:C.sibling=R,C=R);return e&&j.forEach(function(O){return t(m,O)}),De&&$r(m,_),k}function b(m,v,g,w){if(typeof g=="object"&&g!==null&&g.type===Cs&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Vi:e:{for(var k=g.key,C=v;C!==null;){if(C.key===k){if(k=g.type,k===Cs){if(C.tag===7){n(m,C.sibling),v=s(C,g.props.children),v.return=m,m=v;break e}}else if(C.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===lr&&Wp(k)===C.type){n(m,C.sibling),v=s(C,g.props),v.ref=Co(m,C,g),v.return=m,m=v;break e}n(m,C);break}else t(m,C);C=C.sibling}g.type===Cs?(v=Gr(g.props.children,m.mode,w,g.key),v.return=m,m=v):(w=Ra(g.type,g.key,g.props,null,m.mode,w),w.ref=Co(m,v,g),w.return=m,m=w)}return i(m);case _s:e:{for(C=g.key;v!==null;){if(v.key===C)if(v.tag===4&&v.stateNode.containerInfo===g.containerInfo&&v.stateNode.implementation===g.implementation){n(m,v.sibling),v=s(v,g.children||[]),v.return=m,m=v;break e}else{n(m,v);break}else t(m,v);v=v.sibling}v=Jc(g,m.mode,w),v.return=m,m=v}return i(m);case lr:return C=g._init,b(m,v,C(g._payload),w)}if(Oo(g))return S(m,v,g,w);if(wo(g))return x(m,v,g,w);ea(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,v!==null&&v.tag===6?(n(m,v.sibling),v=s(v,g),v.return=m,m=v):(n(m,v),v=Yc(g,m.mode,w),v.return=m,m=v),i(m)):n(m,v)}return b}var Xs=sy(!0),oy=sy(!1),Qa=Rr(null),Za=null,Is=null,Nf=null;function Ef(){Nf=Is=Za=null}function Rf(e){var t=Qa.current;Ae(Qa),e._currentValue=t}function rd(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Us(e,t){Za=e,Nf=Is=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(wt=!0),e.firstContext=null)}function Wt(e){var t=e._currentValue;if(Nf!==e)if(e={context:e,memoizedValue:t,next:null},Is===null){if(Za===null)throw Error(K(308));Is=e,Za.dependencies={lanes:0,firstContext:e}}else Is=Is.next=e;return t}var Vr=null;function Pf(e){Vr===null?Vr=[e]:Vr.push(e)}function iy(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Pf(t)):(n.next=s.next,s.next=n),t.interleaved=n,Kn(e,r)}function Kn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var cr=!1;function Tf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ay(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Bn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function xr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,we&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Kn(e,n)}return s=r.interleaved,s===null?(t.next=t,Pf(r)):(t.next=s.next,s.next=t),r.interleaved=t,Kn(e,n)}function ja(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,gf(e,n)}}function Kp(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function el(e,t,n,r){var s=e.updateQueue;cr=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?o=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(o!==null){var f=s.baseState;i=0,d=u=c=null,l=o;do{var p=l.lane,y=l.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var S=e,x=l;switch(p=t,y=n,x.tag){case 1:if(S=x.payload,typeof S=="function"){f=S.call(y,f,p);break e}f=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=x.payload,p=typeof S=="function"?S.call(y,f,p):S,p==null)break e;f=Fe({},f,p);break e;case 2:cr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else y={eventTime:y,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=y,c=f):d=d.next=y,i|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);Zr|=i,e.lanes=i,e.memoizedState=f}}function Gp(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(K(191,s));s.call(r)}}}var Pi={},_n=Rr(Pi),fi=Rr(Pi),hi=Rr(Pi);function Hr(e){if(e===Pi)throw Error(K(174));return e}function Af(e,t){switch(Ee(hi,t),Ee(fi,e),Ee(_n,Pi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Lu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Lu(t,e)}Ae(_n),Ee(_n,t)}function Qs(){Ae(_n),Ae(fi),Ae(hi)}function ly(e){Hr(hi.current);var t=Hr(_n.current),n=Lu(t,e.type);t!==n&&(Ee(fi,e),Ee(_n,n))}function If(e){fi.current===e&&(Ae(_n),Ae(fi))}var Le=Rr(0);function tl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Vc=[];function Of(){for(var e=0;e<Vc.length;e++)Vc[e]._workInProgressVersionPrimary=null;Vc.length=0}var _a=Jn.ReactCurrentDispatcher,Hc=Jn.ReactCurrentBatchConfig,Qr=0,$e=null,Ke=null,Xe=null,nl=!1,qo=!1,pi=0,sC=0;function st(){throw Error(K(321))}function Df(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!on(e[n],t[n]))return!1;return!0}function Mf(e,t,n,r,s,o){if(Qr=o,$e=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,_a.current=e===null||e.memoizedState===null?lC:cC,e=n(r,s),qo){o=0;do{if(qo=!1,pi=0,25<=o)throw Error(K(301));o+=1,Xe=Ke=null,t.updateQueue=null,_a.current=uC,e=n(r,s)}while(qo)}if(_a.current=rl,t=Ke!==null&&Ke.next!==null,Qr=0,Xe=Ke=$e=null,nl=!1,t)throw Error(K(300));return e}function Lf(){var e=pi!==0;return pi=0,e}function vn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?$e.memoizedState=Xe=e:Xe=Xe.next=e,Xe}function Kt(){if(Ke===null){var e=$e.alternate;e=e!==null?e.memoizedState:null}else e=Ke.next;var t=Xe===null?$e.memoizedState:Xe.next;if(t!==null)Xe=t,Ke=e;else{if(e===null)throw Error(K(310));Ke=e,e={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},Xe===null?$e.memoizedState=Xe=e:Xe=Xe.next=e}return Xe}function mi(e,t){return typeof t=="function"?t(e):t}function Wc(e){var t=Kt(),n=t.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=e;var r=Ke,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var l=i=null,c=null,u=o;do{var d=u.lane;if((Qr&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=r):c=c.next=f,$e.lanes|=d,Zr|=d}u=u.next}while(u!==null&&u!==o);c===null?i=r:c.next=l,on(r,t.memoizedState)||(wt=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,$e.lanes|=o,Zr|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Kc(e){var t=Kt(),n=t.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);on(o,t.memoizedState)||(wt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function cy(){}function uy(e,t){var n=$e,r=Kt(),s=t(),o=!on(r.memoizedState,s);if(o&&(r.memoizedState=s,wt=!0),r=r.queue,$f(hy.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Xe!==null&&Xe.memoizedState.tag&1){if(n.flags|=2048,gi(9,fy.bind(null,n,r,s,t),void 0,null),Qe===null)throw Error(K(349));Qr&30||dy(n,t,s)}return s}function dy(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=$e.updateQueue,t===null?(t={lastEffect:null,stores:null},$e.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function fy(e,t,n,r){t.value=n,t.getSnapshot=r,py(t)&&my(e)}function hy(e,t,n){return n(function(){py(t)&&my(e)})}function py(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!on(e,n)}catch{return!0}}function my(e){var t=Kn(e,1);t!==null&&sn(t,e,1,-1)}function qp(e){var t=vn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:e},t.queue=e,e=e.dispatch=aC.bind(null,$e,e),[t.memoizedState,e]}function gi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=$e.updateQueue,t===null?(t={lastEffect:null,stores:null},$e.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function gy(){return Kt().memoizedState}function Ca(e,t,n,r){var s=vn();$e.flags|=e,s.memoizedState=gi(1|t,n,void 0,r===void 0?null:r)}function El(e,t,n,r){var s=Kt();r=r===void 0?null:r;var o=void 0;if(Ke!==null){var i=Ke.memoizedState;if(o=i.destroy,r!==null&&Df(r,i.deps)){s.memoizedState=gi(t,n,o,r);return}}$e.flags|=e,s.memoizedState=gi(1|t,n,o,r)}function Yp(e,t){return Ca(8390656,8,e,t)}function $f(e,t){return El(2048,8,e,t)}function vy(e,t){return El(4,2,e,t)}function yy(e,t){return El(4,4,e,t)}function xy(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function wy(e,t,n){return n=n!=null?n.concat([e]):null,El(4,4,xy.bind(null,t,e),n)}function Ff(){}function Sy(e,t){var n=Kt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Df(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function by(e,t){var n=Kt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Df(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function jy(e,t,n){return Qr&21?(on(n,t)||(n=Ev(),$e.lanes|=n,Zr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,wt=!0),e.memoizedState=n)}function oC(e,t){var n=je;je=n!==0&&4>n?n:4,e(!0);var r=Hc.transition;Hc.transition={};try{e(!1),t()}finally{je=n,Hc.transition=r}}function _y(){return Kt().memoizedState}function iC(e,t,n){var r=Sr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Cy(e))ky(t,n);else if(n=iy(e,t,n,r),n!==null){var s=ht();sn(n,e,r,s),Ny(n,t,r)}}function aC(e,t,n){var r=Sr(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Cy(e))ky(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,l=o(i,n);if(s.hasEagerState=!0,s.eagerState=l,on(l,i)){var c=t.interleaved;c===null?(s.next=s,Pf(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=iy(e,t,s,r),n!==null&&(s=ht(),sn(n,e,r,s),Ny(n,t,r))}}function Cy(e){var t=e.alternate;return e===$e||t!==null&&t===$e}function ky(e,t){qo=nl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ny(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,gf(e,n)}}var rl={readContext:Wt,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useInsertionEffect:st,useLayoutEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useMutableSource:st,useSyncExternalStore:st,useId:st,unstable_isNewReconciler:!1},lC={readContext:Wt,useCallback:function(e,t){return vn().memoizedState=[e,t===void 0?null:t],e},useContext:Wt,useEffect:Yp,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ca(4194308,4,xy.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ca(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ca(4,2,e,t)},useMemo:function(e,t){var n=vn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=iC.bind(null,$e,e),[r.memoizedState,e]},useRef:function(e){var t=vn();return e={current:e},t.memoizedState=e},useState:qp,useDebugValue:Ff,useDeferredValue:function(e){return vn().memoizedState=e},useTransition:function(){var e=qp(!1),t=e[0];return e=oC.bind(null,e[1]),vn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=$e,s=vn();if(De){if(n===void 0)throw Error(K(407));n=n()}else{if(n=t(),Qe===null)throw Error(K(349));Qr&30||dy(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,Yp(hy.bind(null,r,o,e),[e]),r.flags|=2048,gi(9,fy.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=vn(),t=Qe.identifierPrefix;if(De){var n=Fn,r=$n;n=(r&~(1<<32-rn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=pi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=sC++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},cC={readContext:Wt,useCallback:Sy,useContext:Wt,useEffect:$f,useImperativeHandle:wy,useInsertionEffect:vy,useLayoutEffect:yy,useMemo:by,useReducer:Wc,useRef:gy,useState:function(){return Wc(mi)},useDebugValue:Ff,useDeferredValue:function(e){var t=Kt();return jy(t,Ke.memoizedState,e)},useTransition:function(){var e=Wc(mi)[0],t=Kt().memoizedState;return[e,t]},useMutableSource:cy,useSyncExternalStore:uy,useId:_y,unstable_isNewReconciler:!1},uC={readContext:Wt,useCallback:Sy,useContext:Wt,useEffect:$f,useImperativeHandle:wy,useInsertionEffect:vy,useLayoutEffect:yy,useMemo:by,useReducer:Kc,useRef:gy,useState:function(){return Kc(mi)},useDebugValue:Ff,useDeferredValue:function(e){var t=Kt();return Ke===null?t.memoizedState=e:jy(t,Ke.memoizedState,e)},useTransition:function(){var e=Kc(mi)[0],t=Kt().memoizedState;return[e,t]},useMutableSource:cy,useSyncExternalStore:uy,useId:_y,unstable_isNewReconciler:!1};function Zt(e,t){if(e&&e.defaultProps){t=Fe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function sd(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Fe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Rl={isMounted:function(e){return(e=e._reactInternals)?ls(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ht(),s=Sr(e),o=Bn(r,s);o.payload=t,n!=null&&(o.callback=n),t=xr(e,o,s),t!==null&&(sn(t,e,s,r),ja(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ht(),s=Sr(e),o=Bn(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=xr(e,o,s),t!==null&&(sn(t,e,s,r),ja(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ht(),r=Sr(e),s=Bn(n,r);s.tag=2,t!=null&&(s.callback=t),t=xr(e,s,r),t!==null&&(sn(t,e,r,n),ja(t,e,r))}};function Jp(e,t,n,r,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,i):t.prototype&&t.prototype.isPureReactComponent?!li(n,r)||!li(s,o):!0}function Ey(e,t,n){var r=!1,s=Cr,o=t.contextType;return typeof o=="object"&&o!==null?o=Wt(o):(s=bt(t)?Jr:ct.current,r=t.contextTypes,o=(r=r!=null)?Ys(e,s):Cr),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Rl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function Xp(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Rl.enqueueReplaceState(t,t.state,null)}function od(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Tf(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=Wt(o):(o=bt(t)?Jr:ct.current,s.context=Ys(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(sd(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Rl.enqueueReplaceState(s,s.state,null),el(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Zs(e,t){try{var n="",r=t;do n+=$1(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function Gc(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function id(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var dC=typeof WeakMap=="function"?WeakMap:Map;function Ry(e,t,n){n=Bn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ol||(ol=!0,gd=r),id(e,t)},n}function Py(e,t,n){n=Bn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){id(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){id(e,t),typeof r!="function"&&(wr===null?wr=new Set([this]):wr.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Qp(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new dC;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=CC.bind(null,e,t,n),t.then(e,e))}function Zp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function em(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Bn(-1,1),t.tag=2,xr(n,t,1))),n.lanes|=1),e)}var fC=Jn.ReactCurrentOwner,wt=!1;function ft(e,t,n,r){t.child=e===null?oy(t,null,n,r):Xs(t,e.child,n,r)}function tm(e,t,n,r,s){n=n.render;var o=t.ref;return Us(t,s),r=Mf(e,t,n,r,o,s),n=Lf(),e!==null&&!wt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Gn(e,t,s)):(De&&n&&_f(t),t.flags|=1,ft(e,t,r,s),t.child)}function nm(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!Gf(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Ty(e,t,o,r,s)):(e=Ra(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:li,n(i,r)&&e.ref===t.ref)return Gn(e,t,s)}return t.flags|=1,e=br(o,r),e.ref=t.ref,e.return=t,t.child=e}function Ty(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(li(o,r)&&e.ref===t.ref)if(wt=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&(wt=!0);else return t.lanes=e.lanes,Gn(e,t,s)}return ad(e,t,n,r,s)}function Ay(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ee(Ds,Et),Et|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ee(Ds,Et),Et|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ee(Ds,Et),Et|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ee(Ds,Et),Et|=r;return ft(e,t,s,n),t.child}function Iy(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ad(e,t,n,r,s){var o=bt(n)?Jr:ct.current;return o=Ys(t,o),Us(t,s),n=Mf(e,t,n,r,o,s),r=Lf(),e!==null&&!wt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Gn(e,t,s)):(De&&r&&_f(t),t.flags|=1,ft(e,t,n,s),t.child)}function rm(e,t,n,r,s){if(bt(n)){var o=!0;Ya(t)}else o=!1;if(Us(t,s),t.stateNode===null)ka(e,t),Ey(t,n,r),od(t,n,r,s),r=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=Wt(u):(u=bt(n)?Jr:ct.current,u=Ys(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==r||c!==u)&&Xp(t,i,r,u),cr=!1;var p=t.memoizedState;i.state=p,el(t,r,i,s),c=t.memoizedState,l!==r||p!==c||St.current||cr?(typeof d=="function"&&(sd(t,n,d,r),c=t.memoizedState),(l=cr||Jp(t,n,l,r,p,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=u,r=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,ay(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Zt(t.type,l),i.props=u,f=t.pendingProps,p=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=Wt(c):(c=bt(n)?Jr:ct.current,c=Ys(t,c));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||p!==c)&&Xp(t,i,r,c),cr=!1,p=t.memoizedState,i.state=p,el(t,r,i,s);var S=t.memoizedState;l!==f||p!==S||St.current||cr?(typeof y=="function"&&(sd(t,n,y,r),S=t.memoizedState),(u=cr||Jp(t,n,u,r,p,S,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,S,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,S,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=S),i.props=r,i.state=S,i.context=c,r=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return ld(e,t,n,r,o,s)}function ld(e,t,n,r,s,o){Iy(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return s&&Bp(t,n,!1),Gn(e,t,o);r=t.stateNode,fC.current=t;var l=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=Xs(t,e.child,null,o),t.child=Xs(t,null,l,o)):ft(e,t,l,o),t.memoizedState=r.state,s&&Bp(t,n,!0),t.child}function Oy(e){var t=e.stateNode;t.pendingContext?Up(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Up(e,t.context,!1),Af(e,t.containerInfo)}function sm(e,t,n,r,s){return Js(),kf(s),t.flags|=256,ft(e,t,n,r),t.child}var cd={dehydrated:null,treeContext:null,retryLane:0};function ud(e){return{baseLanes:e,cachePool:null,transitions:null}}function Dy(e,t,n){var r=t.pendingProps,s=Le.current,o=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Ee(Le,s&1),e===null)return nd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,o?(r=t.mode,o=t.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Al(i,r,0,null),e=Gr(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=ud(n),t.memoizedState=cd,e):zf(t,i));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return hC(e,t,i,r,l,s,n);if(o){o=r.fallback,i=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=br(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?o=br(l,o):(o=Gr(o,i,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,i=e.child.memoizedState,i=i===null?ud(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~n,t.memoizedState=cd,r}return o=e.child,e=o.sibling,r=br(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function zf(e,t){return t=Al({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ta(e,t,n,r){return r!==null&&kf(r),Xs(t,e.child,null,n),e=zf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function hC(e,t,n,r,s,o,i){if(n)return t.flags&256?(t.flags&=-257,r=Gc(Error(K(422))),ta(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=Al({mode:"visible",children:r.children},s,0,null),o=Gr(o,s,i,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Xs(t,e.child,null,i),t.child.memoizedState=ud(i),t.memoizedState=cd,o);if(!(t.mode&1))return ta(e,t,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(K(419)),r=Gc(o,r,void 0),ta(e,t,i,r)}if(l=(i&e.childLanes)!==0,wt||l){if(r=Qe,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Kn(e,s),sn(r,e,s,-1))}return Kf(),r=Gc(Error(K(421))),ta(e,t,i,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=kC.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,Pt=yr(s.nextSibling),Tt=t,De=!0,nn=null,e!==null&&($t[Ft++]=$n,$t[Ft++]=Fn,$t[Ft++]=Xr,$n=e.id,Fn=e.overflow,Xr=t),t=zf(t,r.children),t.flags|=4096,t)}function om(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),rd(e.return,t,n)}function qc(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function My(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(ft(e,t,r.children,n),r=Le.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&om(e,n,t);else if(e.tag===19)om(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ee(Le,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&tl(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),qc(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&tl(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}qc(t,!0,n,null,o);break;case"together":qc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ka(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Zr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(K(153));if(t.child!==null){for(e=t.child,n=br(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=br(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function pC(e,t,n){switch(t.tag){case 3:Oy(t),Js();break;case 5:ly(t);break;case 1:bt(t.type)&&Ya(t);break;case 4:Af(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Ee(Qa,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ee(Le,Le.current&1),t.flags|=128,null):n&t.child.childLanes?Dy(e,t,n):(Ee(Le,Le.current&1),e=Gn(e,t,n),e!==null?e.sibling:null);Ee(Le,Le.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return My(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ee(Le,Le.current),r)break;return null;case 22:case 23:return t.lanes=0,Ay(e,t,n)}return Gn(e,t,n)}var Ly,dd,$y,Fy;Ly=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};dd=function(){};$y=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Hr(_n.current);var o=null;switch(n){case"input":s=Iu(e,s),r=Iu(e,r),o=[];break;case"select":s=Fe({},s,{value:void 0}),r=Fe({},r,{value:void 0}),o=[];break;case"textarea":s=Mu(e,s),r=Mu(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ga)}$u(n,r);var i;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ti.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(o||(o=[]),o.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ti.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Te("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};Fy=function(e,t,n,r){n!==r&&(t.flags|=4)};function ko(e,t){if(!De)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ot(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function mC(e,t,n){var r=t.pendingProps;switch(Cf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(t),null;case 1:return bt(t.type)&&qa(),ot(t),null;case 3:return r=t.stateNode,Qs(),Ae(St),Ae(ct),Of(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Zi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,nn!==null&&(xd(nn),nn=null))),dd(e,t),ot(t),null;case 5:If(t);var s=Hr(hi.current);if(n=t.type,e!==null&&t.stateNode!=null)$y(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(K(166));return ot(t),null}if(e=Hr(_n.current),Zi(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[yn]=t,r[di]=o,e=(t.mode&1)!==0,n){case"dialog":Te("cancel",r),Te("close",r);break;case"iframe":case"object":case"embed":Te("load",r);break;case"video":case"audio":for(s=0;s<Mo.length;s++)Te(Mo[s],r);break;case"source":Te("error",r);break;case"img":case"image":case"link":Te("error",r),Te("load",r);break;case"details":Te("toggle",r);break;case"input":pp(r,o),Te("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Te("invalid",r);break;case"textarea":gp(r,o),Te("invalid",r)}$u(n,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&Qi(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Qi(r.textContent,l,e),s=["children",""+l]):ti.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&Te("scroll",r)}switch(n){case"input":Hi(r),mp(r,o,!0);break;case"textarea":Hi(r),vp(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Ga)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=hv(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[yn]=t,e[di]=r,Ly(e,t,!1,!1),t.stateNode=e;e:{switch(i=Fu(n,r),n){case"dialog":Te("cancel",e),Te("close",e),s=r;break;case"iframe":case"object":case"embed":Te("load",e),s=r;break;case"video":case"audio":for(s=0;s<Mo.length;s++)Te(Mo[s],e);s=r;break;case"source":Te("error",e),s=r;break;case"img":case"image":case"link":Te("error",e),Te("load",e),s=r;break;case"details":Te("toggle",e),s=r;break;case"input":pp(e,r),s=Iu(e,r),Te("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Fe({},r,{value:void 0}),Te("invalid",e);break;case"textarea":gp(e,r),s=Mu(e,r),Te("invalid",e);break;default:s=r}$u(n,s),l=s;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?gv(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&pv(e,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&ni(e,c):typeof c=="number"&&ni(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ti.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Te("scroll",e):c!=null&&uf(e,o,c,i))}switch(n){case"input":Hi(e),mp(e,r,!1);break;case"textarea":Hi(e),vp(e);break;case"option":r.value!=null&&e.setAttribute("value",""+_r(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Ls(e,!!r.multiple,o,!1):r.defaultValue!=null&&Ls(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ga)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ot(t),null;case 6:if(e&&t.stateNode!=null)Fy(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(K(166));if(n=Hr(hi.current),Hr(_n.current),Zi(t)){if(r=t.stateNode,n=t.memoizedProps,r[yn]=t,(o=r.nodeValue!==n)&&(e=Tt,e!==null))switch(e.tag){case 3:Qi(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Qi(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[yn]=t,t.stateNode=r}return ot(t),null;case 13:if(Ae(Le),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(De&&Pt!==null&&t.mode&1&&!(t.flags&128))ry(),Js(),t.flags|=98560,o=!1;else if(o=Zi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(K(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(K(317));o[yn]=t}else Js(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ot(t),o=!1}else nn!==null&&(xd(nn),nn=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Le.current&1?Ge===0&&(Ge=3):Kf())),t.updateQueue!==null&&(t.flags|=4),ot(t),null);case 4:return Qs(),dd(e,t),e===null&&ci(t.stateNode.containerInfo),ot(t),null;case 10:return Rf(t.type._context),ot(t),null;case 17:return bt(t.type)&&qa(),ot(t),null;case 19:if(Ae(Le),o=t.memoizedState,o===null)return ot(t),null;if(r=(t.flags&128)!==0,i=o.rendering,i===null)if(r)ko(o,!1);else{if(Ge!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=tl(e),i!==null){for(t.flags|=128,ko(o,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ee(Le,Le.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ue()>eo&&(t.flags|=128,r=!0,ko(o,!1),t.lanes=4194304)}else{if(!r)if(e=tl(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ko(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!De)return ot(t),null}else 2*Ue()-o.renderingStartTime>eo&&n!==1073741824&&(t.flags|=128,r=!0,ko(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(n=o.last,n!==null?n.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ue(),t.sibling=null,n=Le.current,Ee(Le,r?n&1|2:n&1),t):(ot(t),null);case 22:case 23:return Wf(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Et&1073741824&&(ot(t),t.subtreeFlags&6&&(t.flags|=8192)):ot(t),null;case 24:return null;case 25:return null}throw Error(K(156,t.tag))}function gC(e,t){switch(Cf(t),t.tag){case 1:return bt(t.type)&&qa(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Qs(),Ae(St),Ae(ct),Of(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return If(t),null;case 13:if(Ae(Le),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(K(340));Js()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ae(Le),null;case 4:return Qs(),null;case 10:return Rf(t.type._context),null;case 22:case 23:return Wf(),null;case 24:return null;default:return null}}var na=!1,lt=!1,vC=typeof WeakSet=="function"?WeakSet:Set,se=null;function Os(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ze(e,t,r)}else n.current=null}function fd(e,t,n){try{n()}catch(r){ze(e,t,r)}}var im=!1;function yC(e,t){if(Yu=Ha,e=Hv(),jf(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,l=-1,c=-1,u=0,d=0,f=e,p=null;t:for(;;){for(var y;f!==n||s!==0&&f.nodeType!==3||(l=i+s),f!==o||r!==0&&f.nodeType!==3||(c=i+r),f.nodeType===3&&(i+=f.nodeValue.length),(y=f.firstChild)!==null;)p=f,f=y;for(;;){if(f===e)break t;if(p===n&&++u===s&&(l=i),p===o&&++d===r&&(c=i),(y=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=y}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ju={focusedElem:e,selectionRange:n},Ha=!1,se=t;se!==null;)if(t=se,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,se=e;else for(;se!==null;){t=se;try{var S=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var x=S.memoizedProps,b=S.memoizedState,m=t.stateNode,v=m.getSnapshotBeforeUpdate(t.elementType===t.type?x:Zt(t.type,x),b);m.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(w){ze(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,se=e;break}se=t.return}return S=im,im=!1,S}function Yo(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&fd(t,n,o)}s=s.next}while(s!==r)}}function Pl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function hd(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function zy(e){var t=e.alternate;t!==null&&(e.alternate=null,zy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[yn],delete t[di],delete t[Zu],delete t[eC],delete t[tC])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Uy(e){return e.tag===5||e.tag===3||e.tag===4}function am(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Uy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function pd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ga));else if(r!==4&&(e=e.child,e!==null))for(pd(e,t,n),e=e.sibling;e!==null;)pd(e,t,n),e=e.sibling}function md(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(md(e,t,n),e=e.sibling;e!==null;)md(e,t,n),e=e.sibling}var et=null,en=!1;function nr(e,t,n){for(n=n.child;n!==null;)By(e,t,n),n=n.sibling}function By(e,t,n){if(jn&&typeof jn.onCommitFiberUnmount=="function")try{jn.onCommitFiberUnmount(bl,n)}catch{}switch(n.tag){case 5:lt||Os(n,t);case 6:var r=et,s=en;et=null,nr(e,t,n),et=r,en=s,et!==null&&(en?(e=et,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):et.removeChild(n.stateNode));break;case 18:et!==null&&(en?(e=et,n=n.stateNode,e.nodeType===8?Uc(e.parentNode,n):e.nodeType===1&&Uc(e,n),ii(e)):Uc(et,n.stateNode));break;case 4:r=et,s=en,et=n.stateNode.containerInfo,en=!0,nr(e,t,n),et=r,en=s;break;case 0:case 11:case 14:case 15:if(!lt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&fd(n,t,i),s=s.next}while(s!==r)}nr(e,t,n);break;case 1:if(!lt&&(Os(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ze(n,t,l)}nr(e,t,n);break;case 21:nr(e,t,n);break;case 22:n.mode&1?(lt=(r=lt)||n.memoizedState!==null,nr(e,t,n),lt=r):nr(e,t,n);break;default:nr(e,t,n)}}function lm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new vC),t.forEach(function(r){var s=NC.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Jt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:et=l.stateNode,en=!1;break e;case 3:et=l.stateNode.containerInfo,en=!0;break e;case 4:et=l.stateNode.containerInfo,en=!0;break e}l=l.return}if(et===null)throw Error(K(160));By(o,i,s),et=null,en=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){ze(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Vy(t,e),t=t.sibling}function Vy(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Jt(t,e),mn(e),r&4){try{Yo(3,e,e.return),Pl(3,e)}catch(x){ze(e,e.return,x)}try{Yo(5,e,e.return)}catch(x){ze(e,e.return,x)}}break;case 1:Jt(t,e),mn(e),r&512&&n!==null&&Os(n,n.return);break;case 5:if(Jt(t,e),mn(e),r&512&&n!==null&&Os(n,n.return),e.flags&32){var s=e.stateNode;try{ni(s,"")}catch(x){ze(e,e.return,x)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=n!==null?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&dv(s,o),Fu(l,i);var u=Fu(l,o);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?gv(s,f):d==="dangerouslySetInnerHTML"?pv(s,f):d==="children"?ni(s,f):uf(s,d,f,u)}switch(l){case"input":Ou(s,o);break;case"textarea":fv(s,o);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var y=o.value;y!=null?Ls(s,!!o.multiple,y,!1):p!==!!o.multiple&&(o.defaultValue!=null?Ls(s,!!o.multiple,o.defaultValue,!0):Ls(s,!!o.multiple,o.multiple?[]:"",!1))}s[di]=o}catch(x){ze(e,e.return,x)}}break;case 6:if(Jt(t,e),mn(e),r&4){if(e.stateNode===null)throw Error(K(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(x){ze(e,e.return,x)}}break;case 3:if(Jt(t,e),mn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ii(t.containerInfo)}catch(x){ze(e,e.return,x)}break;case 4:Jt(t,e),mn(e);break;case 13:Jt(t,e),mn(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Vf=Ue())),r&4&&lm(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(lt=(u=lt)||d,Jt(t,e),lt=u):Jt(t,e),mn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(se=e,d=e.child;d!==null;){for(f=se=d;se!==null;){switch(p=se,y=p.child,p.tag){case 0:case 11:case 14:case 15:Yo(4,p,p.return);break;case 1:Os(p,p.return);var S=p.stateNode;if(typeof S.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,S.props=t.memoizedProps,S.state=t.memoizedState,S.componentWillUnmount()}catch(x){ze(r,n,x)}}break;case 5:Os(p,p.return);break;case 22:if(p.memoizedState!==null){um(f);continue}}y!==null?(y.return=p,se=y):um(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=mv("display",i))}catch(x){ze(e,e.return,x)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){ze(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Jt(t,e),mn(e),r&4&&lm(e);break;case 21:break;default:Jt(t,e),mn(e)}}function mn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Uy(n)){var r=n;break e}n=n.return}throw Error(K(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ni(s,""),r.flags&=-33);var o=am(e);md(e,o,s);break;case 3:case 4:var i=r.stateNode.containerInfo,l=am(e);pd(e,l,i);break;default:throw Error(K(161))}}catch(c){ze(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function xC(e,t,n){se=e,Hy(e)}function Hy(e,t,n){for(var r=(e.mode&1)!==0;se!==null;){var s=se,o=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||na;if(!i){var l=s.alternate,c=l!==null&&l.memoizedState!==null||lt;l=na;var u=lt;if(na=i,(lt=c)&&!u)for(se=s;se!==null;)i=se,c=i.child,i.tag===22&&i.memoizedState!==null?dm(s):c!==null?(c.return=i,se=c):dm(s);for(;o!==null;)se=o,Hy(o),o=o.sibling;se=s,na=l,lt=u}cm(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,se=o):cm(e)}}function cm(e){for(;se!==null;){var t=se;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:lt||Pl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!lt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Zt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Gp(t,o,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Gp(t,i,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&ii(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}lt||t.flags&512&&hd(t)}catch(p){ze(t,t.return,p)}}if(t===e){se=null;break}if(n=t.sibling,n!==null){n.return=t.return,se=n;break}se=t.return}}function um(e){for(;se!==null;){var t=se;if(t===e){se=null;break}var n=t.sibling;if(n!==null){n.return=t.return,se=n;break}se=t.return}}function dm(e){for(;se!==null;){var t=se;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Pl(4,t)}catch(c){ze(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){ze(t,s,c)}}var o=t.return;try{hd(t)}catch(c){ze(t,o,c)}break;case 5:var i=t.return;try{hd(t)}catch(c){ze(t,i,c)}}}catch(c){ze(t,t.return,c)}if(t===e){se=null;break}var l=t.sibling;if(l!==null){l.return=t.return,se=l;break}se=t.return}}var wC=Math.ceil,sl=Jn.ReactCurrentDispatcher,Uf=Jn.ReactCurrentOwner,Ut=Jn.ReactCurrentBatchConfig,we=0,Qe=null,Be=null,nt=0,Et=0,Ds=Rr(0),Ge=0,vi=null,Zr=0,Tl=0,Bf=0,Jo=null,yt=null,Vf=0,eo=1/0,On=null,ol=!1,gd=null,wr=null,ra=!1,pr=null,il=0,Xo=0,vd=null,Na=-1,Ea=0;function ht(){return we&6?Ue():Na!==-1?Na:Na=Ue()}function Sr(e){return e.mode&1?we&2&&nt!==0?nt&-nt:rC.transition!==null?(Ea===0&&(Ea=Ev()),Ea):(e=je,e!==0||(e=window.event,e=e===void 0?16:Dv(e.type)),e):1}function sn(e,t,n,r){if(50<Xo)throw Xo=0,vd=null,Error(K(185));Ni(e,n,r),(!(we&2)||e!==Qe)&&(e===Qe&&(!(we&2)&&(Tl|=n),Ge===4&&dr(e,nt)),jt(e,r),n===1&&we===0&&!(t.mode&1)&&(eo=Ue()+500,Nl&&Pr()))}function jt(e,t){var n=e.callbackNode;r_(e,t);var r=Va(e,e===Qe?nt:0);if(r===0)n!==null&&wp(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&wp(n),t===1)e.tag===0?nC(fm.bind(null,e)):ey(fm.bind(null,e)),Q_(function(){!(we&6)&&Pr()}),n=null;else{switch(Rv(r)){case 1:n=mf;break;case 4:n=kv;break;case 16:n=Ba;break;case 536870912:n=Nv;break;default:n=Ba}n=Qy(n,Wy.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Wy(e,t){if(Na=-1,Ea=0,we&6)throw Error(K(327));var n=e.callbackNode;if(Bs()&&e.callbackNode!==n)return null;var r=Va(e,e===Qe?nt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=al(e,r);else{t=r;var s=we;we|=2;var o=Gy();(Qe!==e||nt!==t)&&(On=null,eo=Ue()+500,Kr(e,t));do try{jC();break}catch(l){Ky(e,l)}while(!0);Ef(),sl.current=o,we=s,Be!==null?t=0:(Qe=null,nt=0,t=Ge)}if(t!==0){if(t===2&&(s=Hu(e),s!==0&&(r=s,t=yd(e,s))),t===1)throw n=vi,Kr(e,0),dr(e,r),jt(e,Ue()),n;if(t===6)dr(e,r);else{if(s=e.current.alternate,!(r&30)&&!SC(s)&&(t=al(e,r),t===2&&(o=Hu(e),o!==0&&(r=o,t=yd(e,o))),t===1))throw n=vi,Kr(e,0),dr(e,r),jt(e,Ue()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(K(345));case 2:Fr(e,yt,On);break;case 3:if(dr(e,r),(r&130023424)===r&&(t=Vf+500-Ue(),10<t)){if(Va(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){ht(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Qu(Fr.bind(null,e,yt,On),t);break}Fr(e,yt,On);break;case 4:if(dr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-rn(r);o=1<<i,i=t[i],i>s&&(s=i),r&=~o}if(r=s,r=Ue()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*wC(r/1960))-r,10<r){e.timeoutHandle=Qu(Fr.bind(null,e,yt,On),r);break}Fr(e,yt,On);break;case 5:Fr(e,yt,On);break;default:throw Error(K(329))}}}return jt(e,Ue()),e.callbackNode===n?Wy.bind(null,e):null}function yd(e,t){var n=Jo;return e.current.memoizedState.isDehydrated&&(Kr(e,t).flags|=256),e=al(e,t),e!==2&&(t=yt,yt=n,t!==null&&xd(t)),e}function xd(e){yt===null?yt=e:yt.push.apply(yt,e)}function SC(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!on(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function dr(e,t){for(t&=~Bf,t&=~Tl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-rn(t),r=1<<n;e[n]=-1,t&=~r}}function fm(e){if(we&6)throw Error(K(327));Bs();var t=Va(e,0);if(!(t&1))return jt(e,Ue()),null;var n=al(e,t);if(e.tag!==0&&n===2){var r=Hu(e);r!==0&&(t=r,n=yd(e,r))}if(n===1)throw n=vi,Kr(e,0),dr(e,t),jt(e,Ue()),n;if(n===6)throw Error(K(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Fr(e,yt,On),jt(e,Ue()),null}function Hf(e,t){var n=we;we|=1;try{return e(t)}finally{we=n,we===0&&(eo=Ue()+500,Nl&&Pr())}}function es(e){pr!==null&&pr.tag===0&&!(we&6)&&Bs();var t=we;we|=1;var n=Ut.transition,r=je;try{if(Ut.transition=null,je=1,e)return e()}finally{je=r,Ut.transition=n,we=t,!(we&6)&&Pr()}}function Wf(){Et=Ds.current,Ae(Ds)}function Kr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,X_(n)),Be!==null)for(n=Be.return;n!==null;){var r=n;switch(Cf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&qa();break;case 3:Qs(),Ae(St),Ae(ct),Of();break;case 5:If(r);break;case 4:Qs();break;case 13:Ae(Le);break;case 19:Ae(Le);break;case 10:Rf(r.type._context);break;case 22:case 23:Wf()}n=n.return}if(Qe=e,Be=e=br(e.current,null),nt=Et=t,Ge=0,vi=null,Bf=Tl=Zr=0,yt=Jo=null,Vr!==null){for(t=0;t<Vr.length;t++)if(n=Vr[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=s,r.next=i}n.pending=r}Vr=null}return e}function Ky(e,t){do{var n=Be;try{if(Ef(),_a.current=rl,nl){for(var r=$e.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}nl=!1}if(Qr=0,Xe=Ke=$e=null,qo=!1,pi=0,Uf.current=null,n===null||n.return===null){Ge=1,vi=t,Be=null;break}e:{var o=e,i=n.return,l=n,c=t;if(t=nt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=Zp(i);if(y!==null){y.flags&=-257,em(y,i,l,o,t),y.mode&1&&Qp(o,u,t),t=y,c=u;var S=t.updateQueue;if(S===null){var x=new Set;x.add(c),t.updateQueue=x}else S.add(c);break e}else{if(!(t&1)){Qp(o,u,t),Kf();break e}c=Error(K(426))}}else if(De&&l.mode&1){var b=Zp(i);if(b!==null){!(b.flags&65536)&&(b.flags|=256),em(b,i,l,o,t),kf(Zs(c,l));break e}}o=c=Zs(c,l),Ge!==4&&(Ge=2),Jo===null?Jo=[o]:Jo.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var m=Ry(o,c,t);Kp(o,m);break e;case 1:l=c;var v=o.type,g=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(wr===null||!wr.has(g)))){o.flags|=65536,t&=-t,o.lanes|=t;var w=Py(o,l,t);Kp(o,w);break e}}o=o.return}while(o!==null)}Yy(n)}catch(k){t=k,Be===n&&n!==null&&(Be=n=n.return);continue}break}while(!0)}function Gy(){var e=sl.current;return sl.current=rl,e===null?rl:e}function Kf(){(Ge===0||Ge===3||Ge===2)&&(Ge=4),Qe===null||!(Zr&268435455)&&!(Tl&268435455)||dr(Qe,nt)}function al(e,t){var n=we;we|=2;var r=Gy();(Qe!==e||nt!==t)&&(On=null,Kr(e,t));do try{bC();break}catch(s){Ky(e,s)}while(!0);if(Ef(),we=n,sl.current=r,Be!==null)throw Error(K(261));return Qe=null,nt=0,Ge}function bC(){for(;Be!==null;)qy(Be)}function jC(){for(;Be!==null&&!q1();)qy(Be)}function qy(e){var t=Xy(e.alternate,e,Et);e.memoizedProps=e.pendingProps,t===null?Yy(e):Be=t,Uf.current=null}function Yy(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=gC(n,t),n!==null){n.flags&=32767,Be=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ge=6,Be=null;return}}else if(n=mC(n,t,Et),n!==null){Be=n;return}if(t=t.sibling,t!==null){Be=t;return}Be=t=e}while(t!==null);Ge===0&&(Ge=5)}function Fr(e,t,n){var r=je,s=Ut.transition;try{Ut.transition=null,je=1,_C(e,t,n,r)}finally{Ut.transition=s,je=r}return null}function _C(e,t,n,r){do Bs();while(pr!==null);if(we&6)throw Error(K(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(K(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(s_(e,o),e===Qe&&(Be=Qe=null,nt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ra||(ra=!0,Qy(Ba,function(){return Bs(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Ut.transition,Ut.transition=null;var i=je;je=1;var l=we;we|=4,Uf.current=null,yC(e,n),Vy(n,e),H_(Ju),Ha=!!Yu,Ju=Yu=null,e.current=n,xC(n),Y1(),we=l,je=i,Ut.transition=o}else e.current=n;if(ra&&(ra=!1,pr=e,il=s),o=e.pendingLanes,o===0&&(wr=null),Q1(n.stateNode),jt(e,Ue()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ol)throw ol=!1,e=gd,gd=null,e;return il&1&&e.tag!==0&&Bs(),o=e.pendingLanes,o&1?e===vd?Xo++:(Xo=0,vd=e):Xo=0,Pr(),null}function Bs(){if(pr!==null){var e=Rv(il),t=Ut.transition,n=je;try{if(Ut.transition=null,je=16>e?16:e,pr===null)var r=!1;else{if(e=pr,pr=null,il=0,we&6)throw Error(K(331));var s=we;for(we|=4,se=e.current;se!==null;){var o=se,i=o.child;if(se.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(se=u;se!==null;){var d=se;switch(d.tag){case 0:case 11:case 15:Yo(8,d,o)}var f=d.child;if(f!==null)f.return=d,se=f;else for(;se!==null;){d=se;var p=d.sibling,y=d.return;if(zy(d),d===u){se=null;break}if(p!==null){p.return=y,se=p;break}se=y}}}var S=o.alternate;if(S!==null){var x=S.child;if(x!==null){S.child=null;do{var b=x.sibling;x.sibling=null,x=b}while(x!==null)}}se=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,se=i;else e:for(;se!==null;){if(o=se,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Yo(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,se=m;break e}se=o.return}}var v=e.current;for(se=v;se!==null;){i=se;var g=i.child;if(i.subtreeFlags&2064&&g!==null)g.return=i,se=g;else e:for(i=v;se!==null;){if(l=se,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Pl(9,l)}}catch(k){ze(l,l.return,k)}if(l===i){se=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,se=w;break e}se=l.return}}if(we=s,Pr(),jn&&typeof jn.onPostCommitFiberRoot=="function")try{jn.onPostCommitFiberRoot(bl,e)}catch{}r=!0}return r}finally{je=n,Ut.transition=t}}return!1}function hm(e,t,n){t=Zs(n,t),t=Ry(e,t,1),e=xr(e,t,1),t=ht(),e!==null&&(Ni(e,1,t),jt(e,t))}function ze(e,t,n){if(e.tag===3)hm(e,e,n);else for(;t!==null;){if(t.tag===3){hm(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(wr===null||!wr.has(r))){e=Zs(n,e),e=Py(t,e,1),t=xr(t,e,1),e=ht(),t!==null&&(Ni(t,1,e),jt(t,e));break}}t=t.return}}function CC(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ht(),e.pingedLanes|=e.suspendedLanes&n,Qe===e&&(nt&n)===n&&(Ge===4||Ge===3&&(nt&130023424)===nt&&500>Ue()-Vf?Kr(e,0):Bf|=n),jt(e,t)}function Jy(e,t){t===0&&(e.mode&1?(t=Gi,Gi<<=1,!(Gi&130023424)&&(Gi=4194304)):t=1);var n=ht();e=Kn(e,t),e!==null&&(Ni(e,t,n),jt(e,n))}function kC(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Jy(e,n)}function NC(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(K(314))}r!==null&&r.delete(t),Jy(e,n)}var Xy;Xy=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||St.current)wt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return wt=!1,pC(e,t,n);wt=!!(e.flags&131072)}else wt=!1,De&&t.flags&1048576&&ty(t,Xa,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ka(e,t),e=t.pendingProps;var s=Ys(t,ct.current);Us(t,n),s=Mf(null,t,r,e,s,n);var o=Lf();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,bt(r)?(o=!0,Ya(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Tf(t),s.updater=Rl,t.stateNode=s,s._reactInternals=t,od(t,r,e,n),t=ld(null,t,r,!0,o,n)):(t.tag=0,De&&o&&_f(t),ft(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ka(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=RC(r),e=Zt(r,e),s){case 0:t=ad(null,t,r,e,n);break e;case 1:t=rm(null,t,r,e,n);break e;case 11:t=tm(null,t,r,e,n);break e;case 14:t=nm(null,t,r,Zt(r.type,e),n);break e}throw Error(K(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Zt(r,s),ad(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Zt(r,s),rm(e,t,r,s,n);case 3:e:{if(Oy(t),e===null)throw Error(K(387));r=t.pendingProps,o=t.memoizedState,s=o.element,ay(e,t),el(t,r,null,n);var i=t.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=Zs(Error(K(423)),t),t=sm(e,t,r,n,s);break e}else if(r!==s){s=Zs(Error(K(424)),t),t=sm(e,t,r,n,s);break e}else for(Pt=yr(t.stateNode.containerInfo.firstChild),Tt=t,De=!0,nn=null,n=oy(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Js(),r===s){t=Gn(e,t,n);break e}ft(e,t,r,n)}t=t.child}return t;case 5:return ly(t),e===null&&nd(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,Xu(r,s)?i=null:o!==null&&Xu(r,o)&&(t.flags|=32),Iy(e,t),ft(e,t,i,n),t.child;case 6:return e===null&&nd(t),null;case 13:return Dy(e,t,n);case 4:return Af(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Xs(t,null,r,n):ft(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Zt(r,s),tm(e,t,r,s,n);case 7:return ft(e,t,t.pendingProps,n),t.child;case 8:return ft(e,t,t.pendingProps.children,n),t.child;case 12:return ft(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,Ee(Qa,r._currentValue),r._currentValue=i,o!==null)if(on(o.value,i)){if(o.children===s.children&&!St.current){t=Gn(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){i=o.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=Bn(-1,n&-n),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),rd(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(K(341));i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),rd(i,n,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}ft(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Us(t,n),s=Wt(s),r=r(s),t.flags|=1,ft(e,t,r,n),t.child;case 14:return r=t.type,s=Zt(r,t.pendingProps),s=Zt(r.type,s),nm(e,t,r,s,n);case 15:return Ty(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Zt(r,s),ka(e,t),t.tag=1,bt(r)?(e=!0,Ya(t)):e=!1,Us(t,n),Ey(t,r,s),od(t,r,s,n),ld(null,t,r,!0,e,n);case 19:return My(e,t,n);case 22:return Ay(e,t,n)}throw Error(K(156,t.tag))};function Qy(e,t){return Cv(e,t)}function EC(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zt(e,t,n,r){return new EC(e,t,n,r)}function Gf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function RC(e){if(typeof e=="function")return Gf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ff)return 11;if(e===hf)return 14}return 2}function br(e,t){var n=e.alternate;return n===null?(n=zt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ra(e,t,n,r,s,o){var i=2;if(r=e,typeof e=="function")Gf(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Cs:return Gr(n.children,s,o,t);case df:i=8,s|=8;break;case Ru:return e=zt(12,n,t,s|2),e.elementType=Ru,e.lanes=o,e;case Pu:return e=zt(13,n,t,s),e.elementType=Pu,e.lanes=o,e;case Tu:return e=zt(19,n,t,s),e.elementType=Tu,e.lanes=o,e;case lv:return Al(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case iv:i=10;break e;case av:i=9;break e;case ff:i=11;break e;case hf:i=14;break e;case lr:i=16,r=null;break e}throw Error(K(130,e==null?e:typeof e,""))}return t=zt(i,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function Gr(e,t,n,r){return e=zt(7,e,r,t),e.lanes=n,e}function Al(e,t,n,r){return e=zt(22,e,r,t),e.elementType=lv,e.lanes=n,e.stateNode={isHidden:!1},e}function Yc(e,t,n){return e=zt(6,e,null,t),e.lanes=n,e}function Jc(e,t,n){return t=zt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function PC(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pc(0),this.expirationTimes=Pc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pc(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function qf(e,t,n,r,s,o,i,l,c){return e=new PC(e,t,n,l,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=zt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tf(o),e}function TC(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_s,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Zy(e){if(!e)return Cr;e=e._reactInternals;e:{if(ls(e)!==e||e.tag!==1)throw Error(K(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(bt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(K(171))}if(e.tag===1){var n=e.type;if(bt(n))return Zv(e,n,t)}return t}function ex(e,t,n,r,s,o,i,l,c){return e=qf(n,r,!0,e,s,o,i,l,c),e.context=Zy(null),n=e.current,r=ht(),s=Sr(n),o=Bn(r,s),o.callback=t??null,xr(n,o,s),e.current.lanes=s,Ni(e,s,r),jt(e,r),e}function Il(e,t,n,r){var s=t.current,o=ht(),i=Sr(s);return n=Zy(n),t.context===null?t.context=n:t.pendingContext=n,t=Bn(o,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=xr(s,t,i),e!==null&&(sn(e,s,i,o),ja(e,s,i)),i}function ll(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function pm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Yf(e,t){pm(e,t),(e=e.alternate)&&pm(e,t)}function AC(){return null}var tx=typeof reportError=="function"?reportError:function(e){console.error(e)};function Jf(e){this._internalRoot=e}Ol.prototype.render=Jf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(K(409));Il(e,t,null,null)};Ol.prototype.unmount=Jf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;es(function(){Il(null,e,null,null)}),t[Wn]=null}};function Ol(e){this._internalRoot=e}Ol.prototype.unstable_scheduleHydration=function(e){if(e){var t=Av();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ur.length&&t!==0&&t<ur[n].priority;n++);ur.splice(n,0,e),n===0&&Ov(e)}};function Xf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Dl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function mm(){}function IC(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var u=ll(i);o.call(u)}}var i=ex(t,r,e,0,null,!1,!1,"",mm);return e._reactRootContainer=i,e[Wn]=i.current,ci(e.nodeType===8?e.parentNode:e),es(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=ll(c);l.call(u)}}var c=qf(e,0,!1,null,null,!1,!1,"",mm);return e._reactRootContainer=c,e[Wn]=c.current,ci(e.nodeType===8?e.parentNode:e),es(function(){Il(t,c,n,r)}),c}function Ml(e,t,n,r,s){var o=n._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var l=s;s=function(){var c=ll(i);l.call(c)}}Il(t,i,e,s)}else i=IC(n,t,e,s,r);return ll(i)}Pv=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Do(t.pendingLanes);n!==0&&(gf(t,n|1),jt(t,Ue()),!(we&6)&&(eo=Ue()+500,Pr()))}break;case 13:es(function(){var r=Kn(e,1);if(r!==null){var s=ht();sn(r,e,1,s)}}),Yf(e,1)}};vf=function(e){if(e.tag===13){var t=Kn(e,134217728);if(t!==null){var n=ht();sn(t,e,134217728,n)}Yf(e,134217728)}};Tv=function(e){if(e.tag===13){var t=Sr(e),n=Kn(e,t);if(n!==null){var r=ht();sn(n,e,t,r)}Yf(e,t)}};Av=function(){return je};Iv=function(e,t){var n=je;try{return je=e,t()}finally{je=n}};Uu=function(e,t,n){switch(t){case"input":if(Ou(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=kl(r);if(!s)throw Error(K(90));uv(r),Ou(r,s)}}}break;case"textarea":fv(e,n);break;case"select":t=n.value,t!=null&&Ls(e,!!n.multiple,t,!1)}};xv=Hf;wv=es;var OC={usingClientEntryPoint:!1,Events:[Ri,Rs,kl,vv,yv,Hf]},No={findFiberByHostInstance:Br,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},DC={bundleType:No.bundleType,version:No.version,rendererPackageName:No.rendererPackageName,rendererConfig:No.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Jn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=jv(e),e===null?null:e.stateNode},findFiberByHostInstance:No.findFiberByHostInstance||AC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sa.isDisabled&&sa.supportsFiber)try{bl=sa.inject(DC),jn=sa}catch{}}Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OC;Ot.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xf(t))throw Error(K(200));return TC(e,t,null,n)};Ot.createRoot=function(e,t){if(!Xf(e))throw Error(K(299));var n=!1,r="",s=tx;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=qf(e,1,!1,null,null,n,!1,r,s),e[Wn]=t.current,ci(e.nodeType===8?e.parentNode:e),new Jf(t)};Ot.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(K(188)):(e=Object.keys(e).join(","),Error(K(268,e)));return e=jv(t),e=e===null?null:e.stateNode,e};Ot.flushSync=function(e){return es(e)};Ot.hydrate=function(e,t,n){if(!Dl(t))throw Error(K(200));return Ml(null,e,t,!0,n)};Ot.hydrateRoot=function(e,t,n){if(!Xf(e))throw Error(K(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",i=tx;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=ex(t,null,e,1,n??null,s,!1,o,i),e[Wn]=t.current,ci(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Ol(t)};Ot.render=function(e,t,n){if(!Dl(t))throw Error(K(200));return Ml(null,e,t,!1,n)};Ot.unmountComponentAtNode=function(e){if(!Dl(e))throw Error(K(40));return e._reactRootContainer?(es(function(){Ml(null,null,e,!1,function(){e._reactRootContainer=null,e[Wn]=null})}),!0):!1};Ot.unstable_batchedUpdates=Hf;Ot.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Dl(n))throw Error(K(200));if(e==null||e._reactInternals===void 0)throw Error(K(38));return Ml(e,t,n,!1,r)};Ot.version="18.3.1-next-f1338f8080-20240426";function nx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(nx)}catch(e){console.error(e)}}nx(),nv.exports=Ot;var lo=nv.exports;const MC=Vg(lo);var rx,gm=lo;rx=gm.createRoot,gm.hydrateRoot;function vm(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Ll(...e){return t=>{let n=!1;const r=e.map(s=>{const o=vm(s,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():vm(e[s],null)}}}}function me(...e){return h.useCallback(Ll(...e),e)}function ts(e){const t=$C(e),n=h.forwardRef((r,s)=>{const{children:o,...i}=r,l=h.Children.toArray(o),c=l.find(zC);if(c){const u=c.props.children,d=l.map(f=>f===c?h.Children.count(u)>1?h.Children.only(null):h.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...i,ref:s,children:h.isValidElement(u)?h.cloneElement(u,void 0,d):null})}return a.jsx(t,{...i,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}var LC=ts("Slot");function $C(e){const t=h.forwardRef((n,r)=>{const{children:s,...o}=n;if(h.isValidElement(s)){const i=BC(s),l=UC(o,s.props);return s.type!==h.Fragment&&(l.ref=r?Ll(r,i):i),h.cloneElement(s,l)}return h.Children.count(s)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var sx=Symbol("radix.slottable");function FC(e){const t=({children:n})=>a.jsx(a.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=sx,t}function zC(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===sx}function UC(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...l)=>{const c=o(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function BC(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function ox(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=ox(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function ix(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=ox(e))&&(r&&(r+=" "),r+=t);return r}const ym=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,xm=ix,ax=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return xm(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=t,i=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],f=o==null?void 0:o[u];if(d===null)return null;const p=ym(d)||ym(f);return s[u][p]}),l=n&&Object.entries(n).reduce((u,d)=>{let[f,p]=d;return p===void 0||(u[f]=p),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:p,...y}=d;return Object.entries(y).every(S=>{let[x,b]=S;return Array.isArray(b)?b.includes({...o,...l}[x]):{...o,...l}[x]===b})?[...u,f,p]:u},[]);return xm(e,i,c,n==null?void 0:n.class,n==null?void 0:n.className)},Qf="-",VC=e=>{const t=WC(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:i=>{const l=i.split(Qf);return l[0]===""&&l.length!==1&&l.shift(),lx(l,t)||HC(i)},getConflictingClassGroupIds:(i,l)=>{const c=n[i]||[];return l&&r[i]?[...c,...r[i]]:c}}},lx=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?lx(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(Qf);return(i=t.validators.find(({validator:l})=>l(o)))==null?void 0:i.classGroupId},wm=/^\[(.+)\]$/,HC=e=>{if(wm.test(e)){const t=wm.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},WC=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return GC(Object.entries(e.classGroups),n).forEach(([o,i])=>{wd(i,r,o,t)}),r},wd=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:Sm(t,s);o.classGroupId=n;return}if(typeof s=="function"){if(KC(s)){wd(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([o,i])=>{wd(i,Sm(t,o),n,r)})})},Sm=(e,t)=>{let n=e;return t.split(Qf).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},KC=e=>e.isThemeGetter,GC=(e,t)=>t?e.map(([n,r])=>{const s=r.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,l])=>[t+i,l])):o);return[n,s]}):e,qC=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(o,i)=>{n.set(o,i),t++,t>e&&(t=0,r=n,n=new Map)};return{get(o){let i=n.get(o);if(i!==void 0)return i;if((i=r.get(o))!==void 0)return s(o,i),i},set(o,i){n.has(o)?n.set(o,i):s(o,i)}}},cx="!",YC=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],o=t.length,i=l=>{const c=[];let u=0,d=0,f;for(let b=0;b<l.length;b++){let m=l[b];if(u===0){if(m===s&&(r||l.slice(b,b+o)===t)){c.push(l.slice(d,b)),d=b+o;continue}if(m==="/"){f=b;continue}}m==="["?u++:m==="]"&&u--}const p=c.length===0?l:l.substring(d),y=p.startsWith(cx),S=y?p.substring(1):p,x=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:y,baseClassName:S,maybePostfixModifierPosition:x}};return n?l=>n({className:l,parseClassName:i}):i},JC=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},XC=e=>({cache:qC(e.cacheSize),parseClassName:YC(e),...VC(e)}),QC=/\s+/,ZC=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,o=[],i=e.trim().split(QC);let l="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:d,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:y}=n(u);let S=!!y,x=r(S?p.substring(0,y):p);if(!x){if(!S){l=u+(l.length>0?" "+l:l);continue}if(x=r(p),!x){l=u+(l.length>0?" "+l:l);continue}S=!1}const b=JC(d).join(":"),m=f?b+cx:b,v=m+x;if(o.includes(v))continue;o.push(v);const g=s(x,S);for(let w=0;w<g.length;++w){const k=g[w];o.push(m+k)}l=u+(l.length>0?" "+l:l)}return l};function ek(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=ux(t))&&(r&&(r+=" "),r+=n);return r}const ux=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=ux(e[r]))&&(n&&(n+=" "),n+=t);return n};function tk(e,...t){let n,r,s,o=i;function i(c){const u=t.reduce((d,f)=>f(d),e());return n=XC(u),r=n.cache.get,s=n.cache.set,o=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=ZC(c,n);return s(c,d),d}return function(){return o(ek.apply(null,arguments))}}const Pe=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},dx=/^\[(?:([a-z-]+):)?(.+)\]$/i,nk=/^\d+\/\d+$/,rk=new Set(["px","full","screen"]),sk=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ok=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ik=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,ak=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,lk=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Tn=e=>Vs(e)||rk.has(e)||nk.test(e),rr=e=>co(e,"length",gk),Vs=e=>!!e&&!Number.isNaN(Number(e)),Xc=e=>co(e,"number",Vs),Eo=e=>!!e&&Number.isInteger(Number(e)),ck=e=>e.endsWith("%")&&Vs(e.slice(0,-1)),ge=e=>dx.test(e),sr=e=>sk.test(e),uk=new Set(["length","size","percentage"]),dk=e=>co(e,uk,fx),fk=e=>co(e,"position",fx),hk=new Set(["image","url"]),pk=e=>co(e,hk,yk),mk=e=>co(e,"",vk),Ro=()=>!0,co=(e,t,n)=>{const r=dx.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},gk=e=>ok.test(e)&&!ik.test(e),fx=()=>!1,vk=e=>ak.test(e),yk=e=>lk.test(e),xk=()=>{const e=Pe("colors"),t=Pe("spacing"),n=Pe("blur"),r=Pe("brightness"),s=Pe("borderColor"),o=Pe("borderRadius"),i=Pe("borderSpacing"),l=Pe("borderWidth"),c=Pe("contrast"),u=Pe("grayscale"),d=Pe("hueRotate"),f=Pe("invert"),p=Pe("gap"),y=Pe("gradientColorStops"),S=Pe("gradientColorStopPositions"),x=Pe("inset"),b=Pe("margin"),m=Pe("opacity"),v=Pe("padding"),g=Pe("saturate"),w=Pe("scale"),k=Pe("sepia"),C=Pe("skew"),j=Pe("space"),_=Pe("translate"),N=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",ge,t],O=()=>[ge,t],A=()=>["",Tn,rr],z=()=>["auto",Vs,ge],U=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],H=()=>["solid","dashed","dotted","double","none"],B=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],T=()=>["start","end","center","between","around","evenly","stretch"],E=()=>["","0",ge],I=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>[Vs,ge];return{cacheSize:500,separator:":",theme:{colors:[Ro],spacing:[Tn,rr],blur:["none","",sr,ge],brightness:$(),borderColor:[e],borderRadius:["none","","full",sr,ge],borderSpacing:O(),borderWidth:A(),contrast:$(),grayscale:E(),hueRotate:$(),invert:E(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[ck,rr],inset:P(),margin:P(),opacity:$(),padding:O(),saturate:$(),scale:$(),sepia:E(),skew:$(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",ge]}],container:["container"],columns:[{columns:[sr]}],"break-after":[{"break-after":I()}],"break-before":[{"break-before":I()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...U(),ge]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Eo,ge]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ge]}],grow:[{grow:E()}],shrink:[{shrink:E()}],order:[{order:["first","last","none",Eo,ge]}],"grid-cols":[{"grid-cols":[Ro]}],"col-start-end":[{col:["auto",{span:["full",Eo,ge]},ge]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[Ro]}],"row-start-end":[{row:["auto",{span:[Eo,ge]},ge]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ge]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ge]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...T()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...T(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...T(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ge,t]}],"min-w":[{"min-w":[ge,t,"min","max","fit"]}],"max-w":[{"max-w":[ge,t,"none","full","min","max","fit","prose",{screen:[sr]},sr]}],h:[{h:[ge,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ge,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ge,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ge,t,"auto","min","max","fit"]}],"font-size":[{text:["base",sr,rr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Xc]}],"font-family":[{font:[Ro]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ge]}],"line-clamp":[{"line-clamp":["none",Vs,Xc]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Tn,ge]}],"list-image":[{"list-image":["none",ge]}],"list-style-type":[{list:["none","disc","decimal",ge]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[m]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[m]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...H(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Tn,rr]}],"underline-offset":[{"underline-offset":["auto",Tn,ge]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ge]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ge]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[m]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...U(),fk]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",dk]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},pk]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[m]}],"border-style":[{border:[...H(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[m]}],"divide-style":[{divide:H()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...H()]}],"outline-offset":[{"outline-offset":[Tn,ge]}],"outline-w":[{outline:[Tn,rr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:A()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[m]}],"ring-offset-w":[{"ring-offset":[Tn,rr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",sr,mk]}],"shadow-color":[{shadow:[Ro]}],opacity:[{opacity:[m]}],"mix-blend":[{"mix-blend":[...B(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":B()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",sr,ge]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[g]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[m]}],"backdrop-saturate":[{"backdrop-saturate":[g]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ge]}],duration:[{duration:$()}],ease:[{ease:["linear","in","out","in-out",ge]}],delay:[{delay:$()}],animate:[{animate:["none","spin","ping","pulse","bounce",ge]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[Eo,ge]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ge]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ge]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ge]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Tn,rr,Xc]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},wk=tk(xk);function L(...e){return wk(ix(e))}function Sk(e){if(!e||e.length<4)return!1;let t=e.substring(1);if(t.length===3&&(t=t.split("").map(i=>i+i).join("")),t.length!==6)return!1;const n=parseInt(t.substring(0,2),16),r=parseInt(t.substring(2,4),16),s=parseInt(t.substring(4,6),16);return(n*299+r*587+s*114)/1e3<128}const $l=ax("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",raise:"bg-action-raise text-white hover:bg-action-raise/90 shadow-lg",fold:"bg-action-fold text-white hover:bg-action-fold/90 shadow-lg",call:"bg-action-call text-white hover:bg-action-call/90 shadow-lg",poker:"bg-poker-green text-white hover:bg-poker-green/90 shadow-lg"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),X=h.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},o)=>{const i=r?LC:"button";return a.jsx(i,{className:L($l({variant:t,size:n,className:e})),ref:o,...s})});X.displayName="Button";const bm=({activeSection:e,onSectionChange:t,isMobile:n=!1,mobileActions:r})=>{const s=[{id:"editor",label:"Редактор"},{id:"training",label:"Тренировка"},{id:"chart",label:"Чарт"}];return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:L("flex items-center",n?"gap-0":"gap-1"),children:s.map(i=>a.jsx(X,{variant:e===i.id?"poker":"ghost",size:"sm",onClick:()=>t(i.id),className:L("transition-all duration-200",e===i.id&&"shadow-md"),children:i.label},i.id))}),n&&r]})};function te(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function bk(e,t){const n=h.createContext(t),r=o=>{const{children:i,...l}=o,c=h.useMemo(()=>l,Object.values(l));return a.jsx(n.Provider,{value:c,children:i})};r.displayName=e+"Provider";function s(o){const i=h.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,s]}function ut(e,t=[]){let n=[];function r(o,i){const l=h.createContext(i),c=n.length;n=[...n,i];const u=f=>{var m;const{scope:p,children:y,...S}=f,x=((m=p==null?void 0:p[e])==null?void 0:m[c])||l,b=h.useMemo(()=>S,Object.values(S));return a.jsx(x.Provider,{value:b,children:y})};u.displayName=o+"Provider";function d(f,p){var x;const y=((x=p==null?void 0:p[e])==null?void 0:x[c])||l,S=h.useContext(y);if(S)return S;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[u,d]}const s=()=>{const o=n.map(i=>h.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,jk(s,...t)]}function jk(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...l,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}var Ve=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},_k=ev[" useInsertionEffect ".trim().toString()]||Ve;function Gt({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,o,i]=Ck({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:s;{const d=h.useRef(e!==void 0);h.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=h.useCallback(d=>{var f;if(l){const p=kk(d)?d(e):d;p!==e&&((f=i.current)==null||f.call(i,p))}else o(d)},[l,e,o,i]);return[c,u]}function Ck({defaultProp:e,onChange:t}){const[n,r]=h.useState(e),s=h.useRef(n),o=h.useRef(t);return _k(()=>{o.current=t},[t]),h.useEffect(()=>{var i;s.current!==n&&((i=o.current)==null||i.call(o,n),s.current=n)},[n,s]),[n,r,o]}function kk(e){return typeof e=="function"}var Nk=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ae=Nk.reduce((e,t)=>{const n=ts(`Primitive.${t}`),r=h.forwardRef((s,o)=>{const{asChild:i,...l}=s,c=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function hx(e,t){e&&lo.flushSync(()=>e.dispatchEvent(t))}function Ti(e){const t=e+"CollectionProvider",[n,r]=ut(t),[s,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=x=>{const{scope:b,children:m}=x,v=q.useRef(null),g=q.useRef(new Map).current;return a.jsx(s,{scope:b,itemMap:g,collectionRef:v,children:m})};i.displayName=t;const l=e+"CollectionSlot",c=ts(l),u=q.forwardRef((x,b)=>{const{scope:m,children:v}=x,g=o(l,m),w=me(b,g.collectionRef);return a.jsx(c,{ref:w,children:v})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",p=ts(d),y=q.forwardRef((x,b)=>{const{scope:m,children:v,...g}=x,w=q.useRef(null),k=me(b,w),C=o(d,m);return q.useEffect(()=>(C.itemMap.set(w,{ref:w,...g}),()=>void C.itemMap.delete(w))),a.jsx(p,{[f]:"",ref:k,children:v})});y.displayName=d;function S(x){const b=o(e+"CollectionConsumer",x);return q.useCallback(()=>{const v=b.collectionRef.current;if(!v)return[];const g=Array.from(v.querySelectorAll(`[${f}]`));return Array.from(b.itemMap.values()).sort((C,j)=>g.indexOf(C.ref.current)-g.indexOf(j.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:i,Slot:u,ItemSlot:y},S,r]}var Ek=h.createContext(void 0);function cs(e){const t=h.useContext(Ek);return e||t||"ltr"}function an(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function Rk(e,t=globalThis==null?void 0:globalThis.document){const n=an(e);h.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var Pk="DismissableLayer",Sd="dismissableLayer.update",Tk="dismissableLayer.pointerDownOutside",Ak="dismissableLayer.focusOutside",jm,px=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Fl=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:l,...c}=e,u=h.useContext(px),[d,f]=h.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=h.useState({}),S=me(t,j=>f(j)),x=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),m=x.indexOf(b),v=d?x.indexOf(d):-1,g=u.layersWithOutsidePointerEventsDisabled.size>0,w=v>=m,k=Dk(j=>{const _=j.target,N=[...u.branches].some(R=>R.contains(_));!w||N||(s==null||s(j),i==null||i(j),j.defaultPrevented||l==null||l())},p),C=Mk(j=>{const _=j.target;[...u.branches].some(R=>R.contains(_))||(o==null||o(j),i==null||i(j),j.defaultPrevented||l==null||l())},p);return Rk(j=>{v===u.layers.size-1&&(r==null||r(j),!j.defaultPrevented&&l&&(j.preventDefault(),l()))},p),h.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(jm=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),_m(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=jm)}},[d,p,n,u]),h.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),_m())},[d,u]),h.useEffect(()=>{const j=()=>y({});return document.addEventListener(Sd,j),()=>document.removeEventListener(Sd,j)},[]),a.jsx(ae.div,{...c,ref:S,style:{pointerEvents:g?w?"auto":"none":void 0,...e.style},onFocusCapture:te(e.onFocusCapture,C.onFocusCapture),onBlurCapture:te(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:te(e.onPointerDownCapture,k.onPointerDownCapture)})});Fl.displayName=Pk;var Ik="DismissableLayerBranch",Ok=h.forwardRef((e,t)=>{const n=h.useContext(px),r=h.useRef(null),s=me(t,r);return h.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),a.jsx(ae.div,{...e,ref:s})});Ok.displayName=Ik;function Dk(e,t=globalThis==null?void 0:globalThis.document){const n=an(e),r=h.useRef(!1),s=h.useRef(()=>{});return h.useEffect(()=>{const o=l=>{if(l.target&&!r.current){let c=function(){mx(Tk,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function Mk(e,t=globalThis==null?void 0:globalThis.document){const n=an(e),r=h.useRef(!1);return h.useEffect(()=>{const s=o=>{o.target&&!r.current&&mx(Ak,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function _m(){const e=new CustomEvent(Sd);document.dispatchEvent(e)}function mx(e,t,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?hx(s,o):s.dispatchEvent(o)}var Qc=0;function Zf(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Cm()),document.body.insertAdjacentElement("beforeend",e[1]??Cm()),Qc++,()=>{Qc===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Qc--}},[])}function Cm(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Zc="focusScope.autoFocusOnMount",eu="focusScope.autoFocusOnUnmount",km={bubbles:!1,cancelable:!0},Lk="FocusScope",zl=h.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=e,[l,c]=h.useState(null),u=an(s),d=an(o),f=h.useRef(null),p=me(t,x=>c(x)),y=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(r){let x=function(g){if(y.paused||!l)return;const w=g.target;l.contains(w)?f.current=w:ir(f.current,{select:!0})},b=function(g){if(y.paused||!l)return;const w=g.relatedTarget;w!==null&&(l.contains(w)||ir(f.current,{select:!0}))},m=function(g){if(document.activeElement===document.body)for(const k of g)k.removedNodes.length>0&&ir(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",b);const v=new MutationObserver(m);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",b),v.disconnect()}}},[r,l,y.paused]),h.useEffect(()=>{if(l){Em.add(y);const x=document.activeElement;if(!l.contains(x)){const m=new CustomEvent(Zc,km);l.addEventListener(Zc,u),l.dispatchEvent(m),m.defaultPrevented||($k(Vk(gx(l)),{select:!0}),document.activeElement===x&&ir(l))}return()=>{l.removeEventListener(Zc,u),setTimeout(()=>{const m=new CustomEvent(eu,km);l.addEventListener(eu,d),l.dispatchEvent(m),m.defaultPrevented||ir(x??document.body,{select:!0}),l.removeEventListener(eu,d),Em.remove(y)},0)}}},[l,u,d,y]);const S=h.useCallback(x=>{if(!n&&!r||y.paused)return;const b=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,m=document.activeElement;if(b&&m){const v=x.currentTarget,[g,w]=Fk(v);g&&w?!x.shiftKey&&m===w?(x.preventDefault(),n&&ir(g,{select:!0})):x.shiftKey&&m===g&&(x.preventDefault(),n&&ir(w,{select:!0})):m===v&&x.preventDefault()}},[n,r,y.paused]);return a.jsx(ae.div,{tabIndex:-1,...i,ref:p,onKeyDown:S})});zl.displayName=Lk;function $k(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(ir(r,{select:t}),document.activeElement!==n)return}function Fk(e){const t=gx(e),n=Nm(t,e),r=Nm(t.reverse(),e);return[n,r]}function gx(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Nm(e,t){for(const n of e)if(!zk(n,{upTo:t}))return n}function zk(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Uk(e){return e instanceof HTMLInputElement&&"select"in e}function ir(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Uk(e)&&t&&e.select()}}var Em=Bk();function Bk(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Rm(e,t),e.unshift(t)},remove(t){var n;e=Rm(e,t),(n=e[0])==null||n.resume()}}}function Rm(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function Vk(e){return e.filter(t=>t.tagName!=="A")}var Hk=ev[" useId ".trim().toString()]||(()=>{}),Wk=0;function Bt(e){const[t,n]=h.useState(Hk());return Ve(()=>{n(r=>r??String(Wk++))},[e]),t?`radix-${t}`:""}const Kk=["top","right","bottom","left"],kr=Math.min,Rt=Math.max,cl=Math.round,oa=Math.floor,Cn=e=>({x:e,y:e}),Gk={left:"right",right:"left",bottom:"top",top:"bottom"},qk={start:"end",end:"start"};function bd(e,t,n){return Rt(e,kr(t,n))}function qn(e,t){return typeof e=="function"?e(t):e}function Yn(e){return e.split("-")[0]}function uo(e){return e.split("-")[1]}function eh(e){return e==="x"?"y":"x"}function th(e){return e==="y"?"height":"width"}const Yk=new Set(["top","bottom"]);function wn(e){return Yk.has(Yn(e))?"y":"x"}function nh(e){return eh(wn(e))}function Jk(e,t,n){n===void 0&&(n=!1);const r=uo(e),s=nh(e),o=th(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=ul(i)),[i,ul(i)]}function Xk(e){const t=ul(e);return[jd(e),t,jd(t)]}function jd(e){return e.replace(/start|end/g,t=>qk[t])}const Pm=["left","right"],Tm=["right","left"],Qk=["top","bottom"],Zk=["bottom","top"];function eN(e,t,n){switch(e){case"top":case"bottom":return n?t?Tm:Pm:t?Pm:Tm;case"left":case"right":return t?Qk:Zk;default:return[]}}function tN(e,t,n,r){const s=uo(e);let o=eN(Yn(e),n==="start",r);return s&&(o=o.map(i=>i+"-"+s),t&&(o=o.concat(o.map(jd)))),o}function ul(e){return e.replace(/left|right|bottom|top/g,t=>Gk[t])}function nN(e){return{top:0,right:0,bottom:0,left:0,...e}}function vx(e){return typeof e!="number"?nN(e):{top:e,right:e,bottom:e,left:e}}function dl(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function Am(e,t,n){let{reference:r,floating:s}=e;const o=wn(t),i=nh(t),l=th(i),c=Yn(t),u=o==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,p=r[l]/2-s[l]/2;let y;switch(c){case"top":y={x:d,y:r.y-s.height};break;case"bottom":y={x:d,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:f};break;case"left":y={x:r.x-s.width,y:f};break;default:y={x:r.x,y:r.y}}switch(uo(t)){case"start":y[i]-=p*(n&&u?-1:1);break;case"end":y[i]+=p*(n&&u?-1:1);break}return y}const rN=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:i}=n,l=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=Am(u,r,c),p=r,y={},S=0;for(let x=0;x<l.length;x++){const{name:b,fn:m}=l[x],{x:v,y:g,data:w,reset:k}=await m({x:d,y:f,initialPlacement:r,placement:p,strategy:s,middlewareData:y,rects:u,platform:i,elements:{reference:e,floating:t}});d=v??d,f=g??f,y={...y,[b]:{...y[b],...w}},k&&S<=50&&(S++,typeof k=="object"&&(k.placement&&(p=k.placement),k.rects&&(u=k.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):k.rects),{x:d,y:f}=Am(u,p,c)),x=-1)}return{x:d,y:f,placement:p,strategy:s,middlewareData:y}};async function yi(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:o,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:y=0}=qn(t,e),S=vx(y),b=l[p?f==="floating"?"reference":"floating":f],m=dl(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(b)))==null||n?b:b.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),v=f==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,g=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),w=await(o.isElement==null?void 0:o.isElement(g))?await(o.getScale==null?void 0:o.getScale(g))||{x:1,y:1}:{x:1,y:1},k=dl(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:g,strategy:c}):v);return{top:(m.top-k.top+S.top)/w.y,bottom:(k.bottom-m.bottom+S.bottom)/w.y,left:(m.left-k.left+S.left)/w.x,right:(k.right-m.right+S.right)/w.x}}const sN=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:o,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=qn(e,t)||{};if(u==null)return{};const f=vx(d),p={x:n,y:r},y=nh(s),S=th(y),x=await i.getDimensions(u),b=y==="y",m=b?"top":"left",v=b?"bottom":"right",g=b?"clientHeight":"clientWidth",w=o.reference[S]+o.reference[y]-p[y]-o.floating[S],k=p[y]-o.reference[y],C=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let j=C?C[g]:0;(!j||!await(i.isElement==null?void 0:i.isElement(C)))&&(j=l.floating[g]||o.floating[S]);const _=w/2-k/2,N=j/2-x[S]/2-1,R=kr(f[m],N),P=kr(f[v],N),O=R,A=j-x[S]-P,z=j/2-x[S]/2+_,U=bd(O,z,A),H=!c.arrow&&uo(s)!=null&&z!==U&&o.reference[S]/2-(z<O?R:P)-x[S]/2<0,B=H?z<O?z-O:z-A:0;return{[y]:p[y]+B,data:{[y]:U,centerOffset:z-U-B,...H&&{alignmentOffset:B}},reset:H}}}),oN=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:o,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:x=!0,...b}=qn(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const m=Yn(s),v=wn(l),g=Yn(l)===l,w=await(c.isRTL==null?void 0:c.isRTL(u.floating)),k=p||(g||!x?[ul(l)]:Xk(l)),C=S!=="none";!p&&C&&k.push(...tN(l,x,S,w));const j=[l,...k],_=await yi(t,b),N=[];let R=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&N.push(_[m]),f){const z=Jk(s,i,w);N.push(_[z[0]],_[z[1]])}if(R=[...R,{placement:s,overflows:N}],!N.every(z=>z<=0)){var P,O;const z=(((P=o.flip)==null?void 0:P.index)||0)+1,U=j[z];if(U&&(!(f==="alignment"?v!==wn(U):!1)||R.every(T=>T.overflows[0]>0&&wn(T.placement)===v)))return{data:{index:z,overflows:R},reset:{placement:U}};let H=(O=R.filter(B=>B.overflows[0]<=0).sort((B,T)=>B.overflows[1]-T.overflows[1])[0])==null?void 0:O.placement;if(!H)switch(y){case"bestFit":{var A;const B=(A=R.filter(T=>{if(C){const E=wn(T.placement);return E===v||E==="y"}return!0}).map(T=>[T.placement,T.overflows.filter(E=>E>0).reduce((E,I)=>E+I,0)]).sort((T,E)=>T[1]-E[1])[0])==null?void 0:A[0];B&&(H=B);break}case"initialPlacement":H=l;break}if(s!==H)return{reset:{placement:H}}}return{}}}};function Im(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Om(e){return Kk.some(t=>e[t]>=0)}const iN=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=qn(e,t);switch(r){case"referenceHidden":{const o=await yi(t,{...s,elementContext:"reference"}),i=Im(o,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Om(i)}}}case"escaped":{const o=await yi(t,{...s,altBoundary:!0}),i=Im(o,n.floating);return{data:{escapedOffsets:i,escaped:Om(i)}}}default:return{}}}}},yx=new Set(["left","top"]);async function aN(e,t){const{placement:n,platform:r,elements:s}=e,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=Yn(n),l=uo(n),c=wn(n)==="y",u=yx.has(i)?-1:1,d=o&&c?-1:1,f=qn(t,e);let{mainAxis:p,crossAxis:y,alignmentAxis:S}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof S=="number"&&(y=l==="end"?S*-1:S),c?{x:y*d,y:p*u}:{x:p*u,y:y*d}}const lN=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:o,placement:i,middlewareData:l}=t,c=await aN(t,e);return i===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:i}}}}},cN=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:l={fn:b=>{let{x:m,y:v}=b;return{x:m,y:v}}},...c}=qn(e,t),u={x:n,y:r},d=await yi(t,c),f=wn(Yn(s)),p=eh(f);let y=u[p],S=u[f];if(o){const b=p==="y"?"top":"left",m=p==="y"?"bottom":"right",v=y+d[b],g=y-d[m];y=bd(v,y,g)}if(i){const b=f==="y"?"top":"left",m=f==="y"?"bottom":"right",v=S+d[b],g=S-d[m];S=bd(v,S,g)}const x=l.fn({...t,[p]:y,[f]:S});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[p]:o,[f]:i}}}}}},uN=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:o,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=qn(e,t),d={x:n,y:r},f=wn(s),p=eh(f);let y=d[p],S=d[f];const x=qn(l,t),b=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const g=p==="y"?"height":"width",w=o.reference[p]-o.floating[g]+b.mainAxis,k=o.reference[p]+o.reference[g]-b.mainAxis;y<w?y=w:y>k&&(y=k)}if(u){var m,v;const g=p==="y"?"width":"height",w=yx.has(Yn(s)),k=o.reference[f]-o.floating[g]+(w&&((m=i.offset)==null?void 0:m[f])||0)+(w?0:b.crossAxis),C=o.reference[f]+o.reference[g]+(w?0:((v=i.offset)==null?void 0:v[f])||0)-(w?b.crossAxis:0);S<k?S=k:S>C&&(S=C)}return{[p]:y,[f]:S}}}},dN=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:o,platform:i,elements:l}=t,{apply:c=()=>{},...u}=qn(e,t),d=await yi(t,u),f=Yn(s),p=uo(s),y=wn(s)==="y",{width:S,height:x}=o.floating;let b,m;f==="top"||f==="bottom"?(b=f,m=p===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(m=f,b=p==="end"?"top":"bottom");const v=x-d.top-d.bottom,g=S-d.left-d.right,w=kr(x-d[b],v),k=kr(S-d[m],g),C=!t.middlewareData.shift;let j=w,_=k;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(_=g),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(j=v),C&&!p){const R=Rt(d.left,0),P=Rt(d.right,0),O=Rt(d.top,0),A=Rt(d.bottom,0);y?_=S-2*(R!==0||P!==0?R+P:Rt(d.left,d.right)):j=x-2*(O!==0||A!==0?O+A:Rt(d.top,d.bottom))}await c({...t,availableWidth:_,availableHeight:j});const N=await i.getDimensions(l.floating);return S!==N.width||x!==N.height?{reset:{rects:!0}}:{}}}};function Ul(){return typeof window<"u"}function fo(e){return xx(e)?(e.nodeName||"").toLowerCase():"#document"}function At(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Nn(e){var t;return(t=(xx(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function xx(e){return Ul()?e instanceof Node||e instanceof At(e).Node:!1}function ln(e){return Ul()?e instanceof Element||e instanceof At(e).Element:!1}function kn(e){return Ul()?e instanceof HTMLElement||e instanceof At(e).HTMLElement:!1}function Dm(e){return!Ul()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof At(e).ShadowRoot}const fN=new Set(["inline","contents"]);function Ai(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=cn(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!fN.has(s)}const hN=new Set(["table","td","th"]);function pN(e){return hN.has(fo(e))}const mN=[":popover-open",":modal"];function Bl(e){return mN.some(t=>{try{return e.matches(t)}catch{return!1}})}const gN=["transform","translate","scale","rotate","perspective"],vN=["transform","translate","scale","rotate","perspective","filter"],yN=["paint","layout","strict","content"];function rh(e){const t=sh(),n=ln(e)?cn(e):e;return gN.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||vN.some(r=>(n.willChange||"").includes(r))||yN.some(r=>(n.contain||"").includes(r))}function xN(e){let t=Nr(e);for(;kn(t)&&!to(t);){if(rh(t))return t;if(Bl(t))return null;t=Nr(t)}return null}function sh(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const wN=new Set(["html","body","#document"]);function to(e){return wN.has(fo(e))}function cn(e){return At(e).getComputedStyle(e)}function Vl(e){return ln(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Nr(e){if(fo(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Dm(e)&&e.host||Nn(e);return Dm(t)?t.host:t}function wx(e){const t=Nr(e);return to(t)?e.ownerDocument?e.ownerDocument.body:e.body:kn(t)&&Ai(t)?t:wx(t)}function xi(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=wx(e),o=s===((r=e.ownerDocument)==null?void 0:r.body),i=At(s);if(o){const l=_d(i);return t.concat(i,i.visualViewport||[],Ai(s)?s:[],l&&n?xi(l):[])}return t.concat(s,xi(s,[],n))}function _d(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Sx(e){const t=cn(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=kn(e),o=s?e.offsetWidth:n,i=s?e.offsetHeight:r,l=cl(n)!==o||cl(r)!==i;return l&&(n=o,r=i),{width:n,height:r,$:l}}function oh(e){return ln(e)?e:e.contextElement}function Hs(e){const t=oh(e);if(!kn(t))return Cn(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:o}=Sx(t);let i=(o?cl(n.width):n.width)/r,l=(o?cl(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const SN=Cn(0);function bx(e){const t=At(e);return!sh()||!t.visualViewport?SN:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function bN(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==At(e)?!1:t}function ns(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),o=oh(e);let i=Cn(1);t&&(r?ln(r)&&(i=Hs(r)):i=Hs(e));const l=bN(o,n,r)?bx(o):Cn(0);let c=(s.left+l.x)/i.x,u=(s.top+l.y)/i.y,d=s.width/i.x,f=s.height/i.y;if(o){const p=At(o),y=r&&ln(r)?At(r):r;let S=p,x=_d(S);for(;x&&r&&y!==S;){const b=Hs(x),m=x.getBoundingClientRect(),v=cn(x),g=m.left+(x.clientLeft+parseFloat(v.paddingLeft))*b.x,w=m.top+(x.clientTop+parseFloat(v.paddingTop))*b.y;c*=b.x,u*=b.y,d*=b.x,f*=b.y,c+=g,u+=w,S=At(x),x=_d(S)}}return dl({width:d,height:f,x:c,y:u})}function ih(e,t){const n=Vl(e).scrollLeft;return t?t.left+n:ns(Nn(e)).left+n}function jx(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:ih(e,r)),o=r.top+t.scrollTop;return{x:s,y:o}}function jN(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const o=s==="fixed",i=Nn(r),l=t?Bl(t.floating):!1;if(r===i||l&&o)return n;let c={scrollLeft:0,scrollTop:0},u=Cn(1);const d=Cn(0),f=kn(r);if((f||!f&&!o)&&((fo(r)!=="body"||Ai(i))&&(c=Vl(r)),kn(r))){const y=ns(r);u=Hs(r),d.x=y.x+r.clientLeft,d.y=y.y+r.clientTop}const p=i&&!f&&!o?jx(i,c,!0):Cn(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+p.x,y:n.y*u.y-c.scrollTop*u.y+d.y+p.y}}function _N(e){return Array.from(e.getClientRects())}function CN(e){const t=Nn(e),n=Vl(e),r=e.ownerDocument.body,s=Rt(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=Rt(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+ih(e);const l=-n.scrollTop;return cn(r).direction==="rtl"&&(i+=Rt(t.clientWidth,r.clientWidth)-s),{width:s,height:o,x:i,y:l}}function kN(e,t){const n=At(e),r=Nn(e),s=n.visualViewport;let o=r.clientWidth,i=r.clientHeight,l=0,c=0;if(s){o=s.width,i=s.height;const u=sh();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:o,height:i,x:l,y:c}}const NN=new Set(["absolute","fixed"]);function EN(e,t){const n=ns(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,o=kn(e)?Hs(e):Cn(1),i=e.clientWidth*o.x,l=e.clientHeight*o.y,c=s*o.x,u=r*o.y;return{width:i,height:l,x:c,y:u}}function Mm(e,t,n){let r;if(t==="viewport")r=kN(e,n);else if(t==="document")r=CN(Nn(e));else if(ln(t))r=EN(t,n);else{const s=bx(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return dl(r)}function _x(e,t){const n=Nr(e);return n===t||!ln(n)||to(n)?!1:cn(n).position==="fixed"||_x(n,t)}function RN(e,t){const n=t.get(e);if(n)return n;let r=xi(e,[],!1).filter(l=>ln(l)&&fo(l)!=="body"),s=null;const o=cn(e).position==="fixed";let i=o?Nr(e):e;for(;ln(i)&&!to(i);){const l=cn(i),c=rh(i);!c&&l.position==="fixed"&&(s=null),(o?!c&&!s:!c&&l.position==="static"&&!!s&&NN.has(s.position)||Ai(i)&&!c&&_x(e,i))?r=r.filter(d=>d!==i):s=l,i=Nr(i)}return t.set(e,r),r}function PN(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const i=[...n==="clippingAncestors"?Bl(t)?[]:RN(t,this._c):[].concat(n),r],l=i[0],c=i.reduce((u,d)=>{const f=Mm(t,d,s);return u.top=Rt(f.top,u.top),u.right=kr(f.right,u.right),u.bottom=kr(f.bottom,u.bottom),u.left=Rt(f.left,u.left),u},Mm(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function TN(e){const{width:t,height:n}=Sx(e);return{width:t,height:n}}function AN(e,t,n){const r=kn(t),s=Nn(t),o=n==="fixed",i=ns(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const c=Cn(0);function u(){c.x=ih(s)}if(r||!r&&!o)if((fo(t)!=="body"||Ai(s))&&(l=Vl(t)),r){const y=ns(t,!0,o,t);c.x=y.x+t.clientLeft,c.y=y.y+t.clientTop}else s&&u();o&&!r&&s&&u();const d=s&&!r&&!o?jx(s,l):Cn(0),f=i.left+l.scrollLeft-c.x-d.x,p=i.top+l.scrollTop-c.y-d.y;return{x:f,y:p,width:i.width,height:i.height}}function tu(e){return cn(e).position==="static"}function Lm(e,t){if(!kn(e)||cn(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Nn(e)===n&&(n=n.ownerDocument.body),n}function Cx(e,t){const n=At(e);if(Bl(e))return n;if(!kn(e)){let s=Nr(e);for(;s&&!to(s);){if(ln(s)&&!tu(s))return s;s=Nr(s)}return n}let r=Lm(e,t);for(;r&&pN(r)&&tu(r);)r=Lm(r,t);return r&&to(r)&&tu(r)&&!rh(r)?n:r||xN(e)||n}const IN=async function(e){const t=this.getOffsetParent||Cx,n=this.getDimensions,r=await n(e.floating);return{reference:AN(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function ON(e){return cn(e).direction==="rtl"}const DN={convertOffsetParentRelativeRectToViewportRelativeRect:jN,getDocumentElement:Nn,getClippingRect:PN,getOffsetParent:Cx,getElementRects:IN,getClientRects:_N,getDimensions:TN,getScale:Hs,isElement:ln,isRTL:ON};function kx(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function MN(e,t){let n=null,r;const s=Nn(e);function o(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const u=e.getBoundingClientRect(),{left:d,top:f,width:p,height:y}=u;if(l||t(),!p||!y)return;const S=oa(f),x=oa(s.clientWidth-(d+p)),b=oa(s.clientHeight-(f+y)),m=oa(d),g={rootMargin:-S+"px "+-x+"px "+-b+"px "+-m+"px",threshold:Rt(0,kr(1,c))||1};let w=!0;function k(C){const j=C[0].intersectionRatio;if(j!==c){if(!w)return i();j?i(!1,j):r=setTimeout(()=>{i(!1,1e-7)},1e3)}j===1&&!kx(u,e.getBoundingClientRect())&&i(),w=!1}try{n=new IntersectionObserver(k,{...g,root:s.ownerDocument})}catch{n=new IntersectionObserver(k,g)}n.observe(e)}return i(!0),o}function LN(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=oh(e),d=s||o?[...u?xi(u):[],...xi(t)]:[];d.forEach(m=>{s&&m.addEventListener("scroll",n,{passive:!0}),o&&m.addEventListener("resize",n)});const f=u&&l?MN(u,n):null;let p=-1,y=null;i&&(y=new ResizeObserver(m=>{let[v]=m;v&&v.target===u&&y&&(y.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var g;(g=y)==null||g.observe(t)})),n()}),u&&!c&&y.observe(u),y.observe(t));let S,x=c?ns(e):null;c&&b();function b(){const m=ns(e);x&&!kx(x,m)&&n(),x=m,S=requestAnimationFrame(b)}return n(),()=>{var m;d.forEach(v=>{s&&v.removeEventListener("scroll",n),o&&v.removeEventListener("resize",n)}),f==null||f(),(m=y)==null||m.disconnect(),y=null,c&&cancelAnimationFrame(S)}}const $N=lN,FN=cN,zN=oN,UN=dN,BN=iN,$m=sN,VN=uN,HN=(e,t,n)=>{const r=new Map,s={platform:DN,...n},o={...s.platform,_c:r};return rN(e,t,{...s,platform:o})};var WN=typeof document<"u",KN=function(){},Pa=WN?h.useLayoutEffect:KN;function fl(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!fl(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&e.$$typeof)&&!fl(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function Nx(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Fm(e,t){const n=Nx(e);return Math.round(t*n)/n}function nu(e){const t=h.useRef(e);return Pa(()=>{t.current=e}),t}function GN(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=h.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,y]=h.useState(r);fl(p,r)||y(r);const[S,x]=h.useState(null),[b,m]=h.useState(null),v=h.useCallback(T=>{T!==C.current&&(C.current=T,x(T))},[]),g=h.useCallback(T=>{T!==j.current&&(j.current=T,m(T))},[]),w=o||S,k=i||b,C=h.useRef(null),j=h.useRef(null),_=h.useRef(d),N=c!=null,R=nu(c),P=nu(s),O=nu(u),A=h.useCallback(()=>{if(!C.current||!j.current)return;const T={placement:t,strategy:n,middleware:p};P.current&&(T.platform=P.current),HN(C.current,j.current,T).then(E=>{const I={...E,isPositioned:O.current!==!1};z.current&&!fl(_.current,I)&&(_.current=I,lo.flushSync(()=>{f(I)}))})},[p,t,n,P,O]);Pa(()=>{u===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,f(T=>({...T,isPositioned:!1})))},[u]);const z=h.useRef(!1);Pa(()=>(z.current=!0,()=>{z.current=!1}),[]),Pa(()=>{if(w&&(C.current=w),k&&(j.current=k),w&&k){if(R.current)return R.current(w,k,A);A()}},[w,k,A,R,N]);const U=h.useMemo(()=>({reference:C,floating:j,setReference:v,setFloating:g}),[v,g]),H=h.useMemo(()=>({reference:w,floating:k}),[w,k]),B=h.useMemo(()=>{const T={position:n,left:0,top:0};if(!H.floating)return T;const E=Fm(H.floating,d.x),I=Fm(H.floating,d.y);return l?{...T,transform:"translate("+E+"px, "+I+"px)",...Nx(H.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:E,top:I}},[n,l,H.floating,d.x,d.y]);return h.useMemo(()=>({...d,update:A,refs:U,elements:H,floatingStyles:B}),[d,A,U,H,B])}const qN=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?$m({element:r.current,padding:s}).fn(n):{}:r?$m({element:r,padding:s}).fn(n):{}}}},YN=(e,t)=>({...$N(e),options:[e,t]}),JN=(e,t)=>({...FN(e),options:[e,t]}),XN=(e,t)=>({...VN(e),options:[e,t]}),QN=(e,t)=>({...zN(e),options:[e,t]}),ZN=(e,t)=>({...UN(e),options:[e,t]}),eE=(e,t)=>({...BN(e),options:[e,t]}),tE=(e,t)=>({...qN(e),options:[e,t]});var nE="Arrow",Ex=h.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...o}=e;return a.jsx(ae.svg,{...o,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});Ex.displayName=nE;var rE=Ex;function Hl(e){const[t,n]=h.useState(void 0);return Ve(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,l;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;n({width:i,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var ah="Popper",[Rx,Wl]=ut(ah),[sE,Px]=Rx(ah),Tx=e=>{const{__scopePopper:t,children:n}=e,[r,s]=h.useState(null);return a.jsx(sE,{scope:t,anchor:r,onAnchorChange:s,children:n})};Tx.displayName=ah;var Ax="PopperAnchor",Ix=h.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,o=Px(Ax,n),i=h.useRef(null),l=me(t,i);return h.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:a.jsx(ae.div,{...s,ref:l})});Ix.displayName=Ax;var lh="PopperContent",[oE,iE]=Rx(lh),Ox=h.forwardRef((e,t)=>{var M,G,J,Z,ee,le;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:y="optimized",onPlaced:S,...x}=e,b=Px(lh,n),[m,v]=h.useState(null),g=me(t,oe=>v(oe)),[w,k]=h.useState(null),C=Hl(w),j=(C==null?void 0:C.width)??0,_=(C==null?void 0:C.height)??0,N=r+(o!=="center"?"-"+o:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},P=Array.isArray(u)?u:[u],O=P.length>0,A={padding:R,boundary:P.filter(lE),altBoundary:O},{refs:z,floatingStyles:U,placement:H,isPositioned:B,middlewareData:T}=GN({strategy:"fixed",placement:N,whileElementsMounted:(...oe)=>LN(...oe,{animationFrame:y==="always"}),elements:{reference:b.anchor},middleware:[YN({mainAxis:s+_,alignmentAxis:i}),c&&JN({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?XN():void 0,...A}),c&&QN({...A}),ZN({...A,apply:({elements:oe,rects:ne,availableWidth:de,availableHeight:ke})=>{const{width:F,height:re}=ne.reference,ie=oe.floating.style;ie.setProperty("--radix-popper-available-width",`${de}px`),ie.setProperty("--radix-popper-available-height",`${ke}px`),ie.setProperty("--radix-popper-anchor-width",`${F}px`),ie.setProperty("--radix-popper-anchor-height",`${re}px`)}}),w&&tE({element:w,padding:l}),cE({arrowWidth:j,arrowHeight:_}),p&&eE({strategy:"referenceHidden",...A})]}),[E,I]=Lx(H),$=an(S);Ve(()=>{B&&($==null||$())},[B,$]);const V=(M=T.arrow)==null?void 0:M.x,Y=(G=T.arrow)==null?void 0:G.y,Q=((J=T.arrow)==null?void 0:J.centerOffset)!==0,[he,D]=h.useState();return Ve(()=>{m&&D(window.getComputedStyle(m).zIndex)},[m]),a.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...U,transform:B?U.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:he,"--radix-popper-transform-origin":[(Z=T.transformOrigin)==null?void 0:Z.x,(ee=T.transformOrigin)==null?void 0:ee.y].join(" "),...((le=T.hide)==null?void 0:le.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(oE,{scope:n,placedSide:E,onArrowChange:k,arrowX:V,arrowY:Y,shouldHideArrow:Q,children:a.jsx(ae.div,{"data-side":E,"data-align":I,...x,ref:g,style:{...x.style,animation:B?void 0:"none"}})})})});Ox.displayName=lh;var Dx="PopperArrow",aE={top:"bottom",right:"left",bottom:"top",left:"right"},Mx=h.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,o=iE(Dx,r),i=aE[o.placedSide];return a.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:a.jsx(rE,{...s,ref:n,style:{...s.style,display:"block"}})})});Mx.displayName=Dx;function lE(e){return e!==null}var cE=e=>({name:"transformOrigin",options:e,fn(t){var b,m,v;const{placement:n,rects:r,middlewareData:s}=t,i=((b=s.arrow)==null?void 0:b.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,d]=Lx(n),f={start:"0%",center:"50%",end:"100%"}[d],p=(((m=s.arrow)==null?void 0:m.x)??0)+l/2,y=(((v=s.arrow)==null?void 0:v.y)??0)+c/2;let S="",x="";return u==="bottom"?(S=i?f:`${p}px`,x=`${-c}px`):u==="top"?(S=i?f:`${p}px`,x=`${r.floating.height+c}px`):u==="right"?(S=`${-c}px`,x=i?f:`${y}px`):u==="left"&&(S=`${r.floating.width+c}px`,x=i?f:`${y}px`),{data:{x:S,y:x}}}});function Lx(e){const[t,n="center"]=e.split("-");return[t,n]}var $x=Tx,Fx=Ix,zx=Ox,Ux=Mx,uE="Portal",Kl=h.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[s,o]=h.useState(!1);Ve(()=>o(!0),[]);const i=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?MC.createPortal(a.jsx(ae.div,{...r,ref:t}),i):null});Kl.displayName=uE;function dE(e,t){return h.useReducer((n,r)=>t[n][r]??n,e)}var qt=e=>{const{present:t,children:n}=e,r=fE(t),s=typeof n=="function"?n({present:r.isPresent}):h.Children.only(n),o=me(r.ref,hE(s));return typeof n=="function"||r.isPresent?h.cloneElement(s,{ref:o}):null};qt.displayName="Presence";function fE(e){const[t,n]=h.useState(),r=h.useRef(null),s=h.useRef(e),o=h.useRef("none"),i=e?"mounted":"unmounted",[l,c]=dE(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const u=ia(r.current);o.current=l==="mounted"?u:"none"},[l]),Ve(()=>{const u=r.current,d=s.current;if(d!==e){const p=o.current,y=ia(u);e?c("MOUNT"):y==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&p!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Ve(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=y=>{const x=ia(r.current).includes(y.animationName);if(y.target===t&&x&&(c("ANIMATION_END"),!s.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},p=y=>{y.target===t&&(o.current=ia(r.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:h.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function ia(e){return(e==null?void 0:e.animationName)||"none"}function hE(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var ru="rovingFocusGroup.onEntryFocus",pE={bubbles:!1,cancelable:!0},Ii="RovingFocusGroup",[Cd,Bx,mE]=Ti(Ii),[gE,ho]=ut(Ii,[mE]),[vE,yE]=gE(Ii),Vx=h.forwardRef((e,t)=>a.jsx(Cd.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(Cd.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(xE,{...e,ref:t})})}));Vx.displayName=Ii;var xE=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,p=h.useRef(null),y=me(t,p),S=cs(o),[x,b]=Gt({prop:i,defaultProp:l??null,onChange:c,caller:Ii}),[m,v]=h.useState(!1),g=an(u),w=Bx(n),k=h.useRef(!1),[C,j]=h.useState(0);return h.useEffect(()=>{const _=p.current;if(_)return _.addEventListener(ru,g),()=>_.removeEventListener(ru,g)},[g]),a.jsx(vE,{scope:n,orientation:r,dir:S,loop:s,currentTabStopId:x,onItemFocus:h.useCallback(_=>b(_),[b]),onItemShiftTab:h.useCallback(()=>v(!0),[]),onFocusableItemAdd:h.useCallback(()=>j(_=>_+1),[]),onFocusableItemRemove:h.useCallback(()=>j(_=>_-1),[]),children:a.jsx(ae.div,{tabIndex:m||C===0?-1:0,"data-orientation":r,...f,ref:y,style:{outline:"none",...e.style},onMouseDown:te(e.onMouseDown,()=>{k.current=!0}),onFocus:te(e.onFocus,_=>{const N=!k.current;if(_.target===_.currentTarget&&N&&!m){const R=new CustomEvent(ru,pE);if(_.currentTarget.dispatchEvent(R),!R.defaultPrevented){const P=w().filter(H=>H.focusable),O=P.find(H=>H.active),A=P.find(H=>H.id===x),U=[O,A,...P].filter(Boolean).map(H=>H.ref.current);Kx(U,d)}}k.current=!1}),onBlur:te(e.onBlur,()=>v(!1))})})}),Hx="RovingFocusGroupItem",Wx=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,children:i,...l}=e,c=Bt(),u=o||c,d=yE(Hx,n),f=d.currentTabStopId===u,p=Bx(n),{onFocusableItemAdd:y,onFocusableItemRemove:S,currentTabStopId:x}=d;return h.useEffect(()=>{if(r)return y(),()=>S()},[r,y,S]),a.jsx(Cd.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:a.jsx(ae.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:te(e.onMouseDown,b=>{r?d.onItemFocus(u):b.preventDefault()}),onFocus:te(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:te(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){d.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const m=bE(b,d.orientation,d.dir);if(m!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let g=p().filter(w=>w.focusable).map(w=>w.ref.current);if(m==="last")g.reverse();else if(m==="prev"||m==="next"){m==="prev"&&g.reverse();const w=g.indexOf(b.currentTarget);g=d.loop?jE(g,w+1):g.slice(w+1)}setTimeout(()=>Kx(g))}}),children:typeof i=="function"?i({isCurrentTabStop:f,hasTabStop:x!=null}):i})})});Wx.displayName=Hx;var wE={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function SE(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function bE(e,t,n){const r=SE(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return wE[r]}function Kx(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function jE(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var ch=Vx,uh=Wx,_E=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ps=new WeakMap,aa=new WeakMap,la={},su=0,Gx=function(e){return e&&(e.host||Gx(e.parentNode))},CE=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=Gx(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},kE=function(e,t,n,r){var s=CE(t,Array.isArray(e)?e:[e]);la[n]||(la[n]=new WeakMap);var o=la[n],i=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(p){if(l.has(p))d(p);else try{var y=p.getAttribute(r),S=y!==null&&y!=="false",x=(ps.get(p)||0)+1,b=(o.get(p)||0)+1;ps.set(p,x),o.set(p,b),i.push(p),x===1&&S&&aa.set(p,!0),b===1&&p.setAttribute(n,"true"),S||p.setAttribute(r,"true")}catch(m){console.error("aria-hidden: cannot operate on ",p,m)}})};return d(t),l.clear(),su++,function(){i.forEach(function(f){var p=ps.get(f)-1,y=o.get(f)-1;ps.set(f,p),o.set(f,y),p||(aa.has(f)||f.removeAttribute(r),aa.delete(f)),y||f.removeAttribute(n)}),su--,su||(ps=new WeakMap,ps=new WeakMap,aa=new WeakMap,la={})}},dh=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=_E(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),kE(r,s,n,"aria-hidden")):function(){return null}},xn=function(){return xn=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},xn.apply(this,arguments)};function qx(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function NE(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var Ta="right-scroll-bar-position",Aa="width-before-scroll-bar",EE="with-scroll-bars-hidden",RE="--removed-body-scroll-bar-size";function ou(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function PE(e,t){var n=h.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var TE=typeof window<"u"?h.useLayoutEffect:h.useEffect,zm=new WeakMap;function AE(e,t){var n=PE(null,function(r){return e.forEach(function(s){return ou(s,r)})});return TE(function(){var r=zm.get(n);if(r){var s=new Set(r),o=new Set(e),i=n.current;s.forEach(function(l){o.has(l)||ou(l,null)}),o.forEach(function(l){s.has(l)||ou(l,i)})}zm.set(n,e)},[e]),n}function IE(e){return e}function OE(e,t){t===void 0&&(t=IE);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var i=t(o,r);return n.push(i),function(){n=n.filter(function(l){return l!==i})}},assignSyncMedium:function(o){for(r=!0;n.length;){var i=n;n=[],i.forEach(o)}n={push:function(l){return o(l)},filter:function(){return n}}},assignMedium:function(o){r=!0;var i=[];if(n.length){var l=n;n=[],l.forEach(o),i=n}var c=function(){var d=i;i=[],d.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),n}}}};return s}function DE(e){e===void 0&&(e={});var t=OE(null);return t.options=xn({async:!0,ssr:!1},e),t}var Yx=function(e){var t=e.sideCar,n=qx(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return h.createElement(r,xn({},n))};Yx.isSideCarExport=!0;function ME(e,t){return e.useMedium(t),Yx}var Jx=DE(),iu=function(){},Gl=h.forwardRef(function(e,t){var n=h.useRef(null),r=h.useState({onScrollCapture:iu,onWheelCapture:iu,onTouchMoveCapture:iu}),s=r[0],o=r[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,p=e.sideCar,y=e.noRelative,S=e.noIsolation,x=e.inert,b=e.allowPinchZoom,m=e.as,v=m===void 0?"div":m,g=e.gapMode,w=qx(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=p,C=AE([n,t]),j=xn(xn({},w),s);return h.createElement(h.Fragment,null,d&&h.createElement(k,{sideCar:Jx,removeScrollBar:u,shards:f,noRelative:y,noIsolation:S,inert:x,setCallbacks:o,allowPinchZoom:!!b,lockRef:n,gapMode:g}),i?h.cloneElement(h.Children.only(l),xn(xn({},j),{ref:C})):h.createElement(v,xn({},j,{className:c,ref:C}),l))});Gl.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Gl.classNames={fullWidth:Aa,zeroRight:Ta};var LE=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function $E(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=LE();return t&&e.setAttribute("nonce",t),e}function FE(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function zE(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var UE=function(){var e=0,t=null;return{add:function(n){e==0&&(t=$E())&&(FE(t,n),zE(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},BE=function(){var e=UE();return function(t,n){h.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Xx=function(){var e=BE(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},VE={left:0,top:0,right:0,gap:0},au=function(e){return parseInt(e||"",10)||0},HE=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[au(n),au(r),au(s)]},WE=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return VE;var t=HE(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},KE=Xx(),Ws="data-scroll-locked",GE=function(e,t,n,r){var s=e.left,o=e.top,i=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(EE,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Ws,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ta,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Aa,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Ta," .").concat(Ta,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Aa," .").concat(Aa,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ws,`] {
    `).concat(RE,": ").concat(l,`px;
  }
`)},Um=function(){var e=parseInt(document.body.getAttribute(Ws)||"0",10);return isFinite(e)?e:0},qE=function(){h.useEffect(function(){return document.body.setAttribute(Ws,(Um()+1).toString()),function(){var e=Um()-1;e<=0?document.body.removeAttribute(Ws):document.body.setAttribute(Ws,e.toString())}},[])},YE=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;qE();var o=h.useMemo(function(){return WE(s)},[s]);return h.createElement(KE,{styles:GE(o,!t,s,n?"":"!important")})},kd=!1;if(typeof window<"u")try{var ca=Object.defineProperty({},"passive",{get:function(){return kd=!0,!0}});window.addEventListener("test",ca,ca),window.removeEventListener("test",ca,ca)}catch{kd=!1}var ms=kd?{passive:!1}:!1,JE=function(e){return e.tagName==="TEXTAREA"},Qx=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!JE(e)&&n[t]==="visible")},XE=function(e){return Qx(e,"overflowY")},QE=function(e){return Qx(e,"overflowX")},Bm=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=Zx(e,r);if(s){var o=ew(e,r),i=o[1],l=o[2];if(i>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},ZE=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},eR=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Zx=function(e,t){return e==="v"?XE(t):QE(t)},ew=function(e,t){return e==="v"?ZE(t):eR(t)},tR=function(e,t){return e==="h"&&t==="rtl"?-1:1},nR=function(e,t,n,r,s){var o=tR(e,window.getComputedStyle(t).direction),i=o*r,l=n.target,c=t.contains(l),u=!1,d=i>0,f=0,p=0;do{if(!l)break;var y=ew(e,l),S=y[0],x=y[1],b=y[2],m=x-b-o*S;(S||m)&&Zx(e,l)&&(f+=m,p+=S);var v=l.parentNode;l=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(p)<1)&&(u=!0),u},ua=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Vm=function(e){return[e.deltaX,e.deltaY]},Hm=function(e){return e&&"current"in e?e.current:e},rR=function(e,t){return e[0]===t[0]&&e[1]===t[1]},sR=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},oR=0,gs=[];function iR(e){var t=h.useRef([]),n=h.useRef([0,0]),r=h.useRef(),s=h.useState(oR++)[0],o=h.useState(Xx)[0],i=h.useRef(e);h.useEffect(function(){i.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var x=NE([e.lockRef.current],(e.shards||[]).map(Hm),!0).filter(Boolean);return x.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),x.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=h.useCallback(function(x,b){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!i.current.allowPinchZoom;var m=ua(x),v=n.current,g="deltaX"in x?x.deltaX:v[0]-m[0],w="deltaY"in x?x.deltaY:v[1]-m[1],k,C=x.target,j=Math.abs(g)>Math.abs(w)?"h":"v";if("touches"in x&&j==="h"&&C.type==="range")return!1;var _=Bm(j,C);if(!_)return!0;if(_?k=j:(k=j==="v"?"h":"v",_=Bm(j,C)),!_)return!1;if(!r.current&&"changedTouches"in x&&(g||w)&&(r.current=k),!k)return!0;var N=r.current||k;return nR(N,b,x,N==="h"?g:w)},[]),c=h.useCallback(function(x){var b=x;if(!(!gs.length||gs[gs.length-1]!==o)){var m="deltaY"in b?Vm(b):ua(b),v=t.current.filter(function(k){return k.name===b.type&&(k.target===b.target||b.target===k.shadowParent)&&rR(k.delta,m)})[0];if(v&&v.should){b.cancelable&&b.preventDefault();return}if(!v){var g=(i.current.shards||[]).map(Hm).filter(Boolean).filter(function(k){return k.contains(b.target)}),w=g.length>0?l(b,g[0]):!i.current.noIsolation;w&&b.cancelable&&b.preventDefault()}}},[]),u=h.useCallback(function(x,b,m,v){var g={name:x,delta:b,target:m,should:v,shadowParent:aR(m)};t.current.push(g),setTimeout(function(){t.current=t.current.filter(function(w){return w!==g})},1)},[]),d=h.useCallback(function(x){n.current=ua(x),r.current=void 0},[]),f=h.useCallback(function(x){u(x.type,Vm(x),x.target,l(x,e.lockRef.current))},[]),p=h.useCallback(function(x){u(x.type,ua(x),x.target,l(x,e.lockRef.current))},[]);h.useEffect(function(){return gs.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",c,ms),document.addEventListener("touchmove",c,ms),document.addEventListener("touchstart",d,ms),function(){gs=gs.filter(function(x){return x!==o}),document.removeEventListener("wheel",c,ms),document.removeEventListener("touchmove",c,ms),document.removeEventListener("touchstart",d,ms)}},[]);var y=e.removeScrollBar,S=e.inert;return h.createElement(h.Fragment,null,S?h.createElement(o,{styles:sR(s)}):null,y?h.createElement(YE,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function aR(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const lR=ME(Jx,iR);var ql=h.forwardRef(function(e,t){return h.createElement(Gl,xn({},e,{ref:t,sideCar:lR}))});ql.classNames=Gl.classNames;var Nd=["Enter"," "],cR=["ArrowDown","PageUp","Home"],tw=["ArrowUp","PageDown","End"],uR=[...cR,...tw],dR={ltr:[...Nd,"ArrowRight"],rtl:[...Nd,"ArrowLeft"]},fR={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Oi="Menu",[wi,hR,pR]=Ti(Oi),[us,nw]=ut(Oi,[pR,Wl,ho]),Yl=Wl(),rw=ho(),[mR,ds]=us(Oi),[gR,Di]=us(Oi),sw=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:s,onOpenChange:o,modal:i=!0}=e,l=Yl(t),[c,u]=h.useState(null),d=h.useRef(!1),f=an(o),p=cs(s);return h.useEffect(()=>{const y=()=>{d.current=!0,document.addEventListener("pointerdown",S,{capture:!0,once:!0}),document.addEventListener("pointermove",S,{capture:!0,once:!0})},S=()=>d.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",S,{capture:!0}),document.removeEventListener("pointermove",S,{capture:!0})}},[]),a.jsx($x,{...l,children:a.jsx(mR,{scope:t,open:n,onOpenChange:f,content:c,onContentChange:u,children:a.jsx(gR,{scope:t,onClose:h.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:p,modal:i,children:r})})})};sw.displayName=Oi;var vR="MenuAnchor",fh=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=Yl(n);return a.jsx(Fx,{...s,...r,ref:t})});fh.displayName=vR;var hh="MenuPortal",[yR,ow]=us(hh,{forceMount:void 0}),iw=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:s}=e,o=ds(hh,t);return a.jsx(yR,{scope:t,forceMount:n,children:a.jsx(qt,{present:n||o.open,children:a.jsx(Kl,{asChild:!0,container:s,children:r})})})};iw.displayName=hh;var Vt="MenuContent",[xR,ph]=us(Vt),aw=h.forwardRef((e,t)=>{const n=ow(Vt,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,o=ds(Vt,e.__scopeMenu),i=Di(Vt,e.__scopeMenu);return a.jsx(wi.Provider,{scope:e.__scopeMenu,children:a.jsx(qt,{present:r||o.open,children:a.jsx(wi.Slot,{scope:e.__scopeMenu,children:i.modal?a.jsx(wR,{...s,ref:t}):a.jsx(SR,{...s,ref:t})})})})}),wR=h.forwardRef((e,t)=>{const n=ds(Vt,e.__scopeMenu),r=h.useRef(null),s=me(t,r);return h.useEffect(()=>{const o=r.current;if(o)return dh(o)},[]),a.jsx(mh,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:te(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),SR=h.forwardRef((e,t)=>{const n=ds(Vt,e.__scopeMenu);return a.jsx(mh,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),bR=ts("MenuContent.ScrollLock"),mh=h.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:p,onDismiss:y,disableOutsideScroll:S,...x}=e,b=ds(Vt,n),m=Di(Vt,n),v=Yl(n),g=rw(n),w=hR(n),[k,C]=h.useState(null),j=h.useRef(null),_=me(t,j,b.onContentChange),N=h.useRef(0),R=h.useRef(""),P=h.useRef(0),O=h.useRef(null),A=h.useRef("right"),z=h.useRef(0),U=S?ql:h.Fragment,H=S?{as:bR,allowPinchZoom:!0}:void 0,B=E=>{var M,G;const I=R.current+E,$=w().filter(J=>!J.disabled),V=document.activeElement,Y=(M=$.find(J=>J.ref.current===V))==null?void 0:M.textValue,Q=$.map(J=>J.textValue),he=OR(Q,I,Y),D=(G=$.find(J=>J.textValue===he))==null?void 0:G.ref.current;(function J(Z){R.current=Z,window.clearTimeout(N.current),Z!==""&&(N.current=window.setTimeout(()=>J(""),1e3))})(I),D&&setTimeout(()=>D.focus())};h.useEffect(()=>()=>window.clearTimeout(N.current),[]),Zf();const T=h.useCallback(E=>{var $,V;return A.current===(($=O.current)==null?void 0:$.side)&&MR(E,(V=O.current)==null?void 0:V.area)},[]);return a.jsx(xR,{scope:n,searchRef:R,onItemEnter:h.useCallback(E=>{T(E)&&E.preventDefault()},[T]),onItemLeave:h.useCallback(E=>{var I;T(E)||((I=j.current)==null||I.focus(),C(null))},[T]),onTriggerLeave:h.useCallback(E=>{T(E)&&E.preventDefault()},[T]),pointerGraceTimerRef:P,onPointerGraceIntentChange:h.useCallback(E=>{O.current=E},[]),children:a.jsx(U,{...H,children:a.jsx(zl,{asChild:!0,trapped:s,onMountAutoFocus:te(o,E=>{var I;E.preventDefault(),(I=j.current)==null||I.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:a.jsx(Fl,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:p,onDismiss:y,children:a.jsx(ch,{asChild:!0,...g,dir:m.dir,orientation:"vertical",loop:r,currentTabStopId:k,onCurrentTabStopIdChange:C,onEntryFocus:te(c,E=>{m.isUsingKeyboardRef.current||E.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(zx,{role:"menu","aria-orientation":"vertical","data-state":jw(b.open),"data-radix-menu-content":"",dir:m.dir,...v,...x,ref:_,style:{outline:"none",...x.style},onKeyDown:te(x.onKeyDown,E=>{const $=E.target.closest("[data-radix-menu-content]")===E.currentTarget,V=E.ctrlKey||E.altKey||E.metaKey,Y=E.key.length===1;$&&(E.key==="Tab"&&E.preventDefault(),!V&&Y&&B(E.key));const Q=j.current;if(E.target!==Q||!uR.includes(E.key))return;E.preventDefault();const D=w().filter(M=>!M.disabled).map(M=>M.ref.current);tw.includes(E.key)&&D.reverse(),AR(D)}),onBlur:te(e.onBlur,E=>{E.currentTarget.contains(E.target)||(window.clearTimeout(N.current),R.current="")}),onPointerMove:te(e.onPointerMove,Si(E=>{const I=E.target,$=z.current!==E.clientX;if(E.currentTarget.contains(I)&&$){const V=E.clientX>z.current?"right":"left";A.current=V,z.current=E.clientX}}))})})})})})})});aw.displayName=Vt;var jR="MenuGroup",gh=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return a.jsx(ae.div,{role:"group",...r,ref:t})});gh.displayName=jR;var _R="MenuLabel",lw=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return a.jsx(ae.div,{...r,ref:t})});lw.displayName=_R;var hl="MenuItem",Wm="menu.itemSelect",Jl=h.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...s}=e,o=h.useRef(null),i=Di(hl,e.__scopeMenu),l=ph(hl,e.__scopeMenu),c=me(t,o),u=h.useRef(!1),d=()=>{const f=o.current;if(!n&&f){const p=new CustomEvent(Wm,{bubbles:!0,cancelable:!0});f.addEventListener(Wm,y=>r==null?void 0:r(y),{once:!0}),hx(f,p),p.defaultPrevented?u.current=!1:i.onClose()}};return a.jsx(cw,{...s,ref:c,disabled:n,onClick:te(e.onClick,d),onPointerDown:f=>{var p;(p=e.onPointerDown)==null||p.call(e,f),u.current=!0},onPointerUp:te(e.onPointerUp,f=>{var p;u.current||(p=f.currentTarget)==null||p.click()}),onKeyDown:te(e.onKeyDown,f=>{const p=l.searchRef.current!=="";n||p&&f.key===" "||Nd.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Jl.displayName=hl;var cw=h.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...o}=e,i=ph(hl,n),l=rw(n),c=h.useRef(null),u=me(t,c),[d,f]=h.useState(!1),[p,y]=h.useState("");return h.useEffect(()=>{const S=c.current;S&&y((S.textContent??"").trim())},[o.children]),a.jsx(wi.ItemSlot,{scope:n,disabled:r,textValue:s??p,children:a.jsx(uh,{asChild:!0,...l,focusable:!r,children:a.jsx(ae.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:u,onPointerMove:te(e.onPointerMove,Si(S=>{r?i.onItemLeave(S):(i.onItemEnter(S),S.defaultPrevented||S.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:te(e.onPointerLeave,Si(S=>i.onItemLeave(S))),onFocus:te(e.onFocus,()=>f(!0)),onBlur:te(e.onBlur,()=>f(!1))})})})}),CR="MenuCheckboxItem",uw=h.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...s}=e;return a.jsx(mw,{scope:e.__scopeMenu,checked:n,children:a.jsx(Jl,{role:"menuitemcheckbox","aria-checked":pl(n)?"mixed":n,...s,ref:t,"data-state":yh(n),onSelect:te(s.onSelect,()=>r==null?void 0:r(pl(n)?!0:!n),{checkForDefaultPrevented:!1})})})});uw.displayName=CR;var dw="MenuRadioGroup",[kR,NR]=us(dw,{value:void 0,onValueChange:()=>{}}),fw=h.forwardRef((e,t)=>{const{value:n,onValueChange:r,...s}=e,o=an(r);return a.jsx(kR,{scope:e.__scopeMenu,value:n,onValueChange:o,children:a.jsx(gh,{...s,ref:t})})});fw.displayName=dw;var hw="MenuRadioItem",pw=h.forwardRef((e,t)=>{const{value:n,...r}=e,s=NR(hw,e.__scopeMenu),o=n===s.value;return a.jsx(mw,{scope:e.__scopeMenu,checked:o,children:a.jsx(Jl,{role:"menuitemradio","aria-checked":o,...r,ref:t,"data-state":yh(o),onSelect:te(r.onSelect,()=>{var i;return(i=s.onValueChange)==null?void 0:i.call(s,n)},{checkForDefaultPrevented:!1})})})});pw.displayName=hw;var vh="MenuItemIndicator",[mw,ER]=us(vh,{checked:!1}),gw=h.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...s}=e,o=ER(vh,n);return a.jsx(qt,{present:r||pl(o.checked)||o.checked===!0,children:a.jsx(ae.span,{...s,ref:t,"data-state":yh(o.checked)})})});gw.displayName=vh;var RR="MenuSeparator",vw=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return a.jsx(ae.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});vw.displayName=RR;var PR="MenuArrow",yw=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=Yl(n);return a.jsx(Ux,{...s,...r,ref:t})});yw.displayName=PR;var TR="MenuSub",[cM,xw]=us(TR),Lo="MenuSubTrigger",ww=h.forwardRef((e,t)=>{const n=ds(Lo,e.__scopeMenu),r=Di(Lo,e.__scopeMenu),s=xw(Lo,e.__scopeMenu),o=ph(Lo,e.__scopeMenu),i=h.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=o,u={__scopeMenu:e.__scopeMenu},d=h.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return h.useEffect(()=>d,[d]),h.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),a.jsx(fh,{asChild:!0,...u,children:a.jsx(cw,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":jw(n.open),...e,ref:Ll(t,s.onTriggerChange),onClick:f=>{var p;(p=e.onClick)==null||p.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:te(e.onPointerMove,Si(f=>{o.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:te(e.onPointerLeave,Si(f=>{var y,S;d();const p=(y=n.content)==null?void 0:y.getBoundingClientRect();if(p){const x=(S=n.content)==null?void 0:S.dataset.side,b=x==="right",m=b?-5:5,v=p[b?"left":"right"],g=p[b?"right":"left"];o.onPointerGraceIntentChange({area:[{x:f.clientX+m,y:f.clientY},{x:v,y:p.top},{x:g,y:p.top},{x:g,y:p.bottom},{x:v,y:p.bottom}],side:x}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(f),f.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:te(e.onKeyDown,f=>{var y;const p=o.searchRef.current!=="";e.disabled||p&&f.key===" "||dR[r.dir].includes(f.key)&&(n.onOpenChange(!0),(y=n.content)==null||y.focus(),f.preventDefault())})})})});ww.displayName=Lo;var Sw="MenuSubContent",bw=h.forwardRef((e,t)=>{const n=ow(Vt,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,o=ds(Vt,e.__scopeMenu),i=Di(Vt,e.__scopeMenu),l=xw(Sw,e.__scopeMenu),c=h.useRef(null),u=me(t,c);return a.jsx(wi.Provider,{scope:e.__scopeMenu,children:a.jsx(qt,{present:r||o.open,children:a.jsx(wi.Slot,{scope:e.__scopeMenu,children:a.jsx(mh,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;i.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:te(e.onFocusOutside,d=>{d.target!==l.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:te(e.onEscapeKeyDown,d=>{i.onClose(),d.preventDefault()}),onKeyDown:te(e.onKeyDown,d=>{var y;const f=d.currentTarget.contains(d.target),p=fR[i.dir].includes(d.key);f&&p&&(o.onOpenChange(!1),(y=l.trigger)==null||y.focus(),d.preventDefault())})})})})})});bw.displayName=Sw;function jw(e){return e?"open":"closed"}function pl(e){return e==="indeterminate"}function yh(e){return pl(e)?"indeterminate":e?"checked":"unchecked"}function AR(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function IR(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function OR(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let i=IR(e,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==n));const c=i.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function DR(e,t){const{x:n,y:r}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const l=t[o],c=t[i],u=l.x,d=l.y,f=c.x,p=c.y;d>r!=p>r&&n<(f-u)*(r-d)/(p-d)+u&&(s=!s)}return s}function MR(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return DR(n,t)}function Si(e){return t=>t.pointerType==="mouse"?e(t):void 0}var LR=sw,$R=fh,FR=iw,zR=aw,UR=gh,BR=lw,VR=Jl,HR=uw,WR=fw,KR=pw,GR=gw,qR=vw,YR=yw,JR=ww,XR=bw,Xl="DropdownMenu",[QR,uM]=ut(Xl,[nw]),gt=nw(),[ZR,_w]=QR(Xl),Cw=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:s,defaultOpen:o,onOpenChange:i,modal:l=!0}=e,c=gt(t),u=h.useRef(null),[d,f]=Gt({prop:s,defaultProp:o??!1,onChange:i,caller:Xl});return a.jsx(ZR,{scope:t,triggerId:Bt(),triggerRef:u,contentId:Bt(),open:d,onOpenChange:f,onOpenToggle:h.useCallback(()=>f(p=>!p),[f]),modal:l,children:a.jsx(LR,{...c,open:d,onOpenChange:f,dir:r,modal:l,children:n})})};Cw.displayName=Xl;var kw="DropdownMenuTrigger",Nw=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=e,o=_w(kw,n),i=gt(n);return a.jsx($R,{asChild:!0,...i,children:a.jsx(ae.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Ll(t,o.triggerRef),onPointerDown:te(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(o.onOpenToggle(),o.open||l.preventDefault())}),onKeyDown:te(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&o.onOpenToggle(),l.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});Nw.displayName=kw;var eP="DropdownMenuPortal",Ew=e=>{const{__scopeDropdownMenu:t,...n}=e,r=gt(t);return a.jsx(FR,{...r,...n})};Ew.displayName=eP;var Rw="DropdownMenuContent",Pw=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=_w(Rw,n),o=gt(n),i=h.useRef(!1);return a.jsx(zR,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...r,ref:t,onCloseAutoFocus:te(e.onCloseAutoFocus,l=>{var c;i.current||(c=s.triggerRef.current)==null||c.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:te(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Pw.displayName=Rw;var tP="DropdownMenuGroup",nP=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=gt(n);return a.jsx(UR,{...s,...r,ref:t})});nP.displayName=tP;var rP="DropdownMenuLabel",Tw=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=gt(n);return a.jsx(BR,{...s,...r,ref:t})});Tw.displayName=rP;var sP="DropdownMenuItem",Aw=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=gt(n);return a.jsx(VR,{...s,...r,ref:t})});Aw.displayName=sP;var oP="DropdownMenuCheckboxItem",Iw=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=gt(n);return a.jsx(HR,{...s,...r,ref:t})});Iw.displayName=oP;var iP="DropdownMenuRadioGroup",aP=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=gt(n);return a.jsx(WR,{...s,...r,ref:t})});aP.displayName=iP;var lP="DropdownMenuRadioItem",Ow=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=gt(n);return a.jsx(KR,{...s,...r,ref:t})});Ow.displayName=lP;var cP="DropdownMenuItemIndicator",Dw=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=gt(n);return a.jsx(GR,{...s,...r,ref:t})});Dw.displayName=cP;var uP="DropdownMenuSeparator",Mw=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=gt(n);return a.jsx(qR,{...s,...r,ref:t})});Mw.displayName=uP;var dP="DropdownMenuArrow",fP=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=gt(n);return a.jsx(YR,{...s,...r,ref:t})});fP.displayName=dP;var hP="DropdownMenuSubTrigger",Lw=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=gt(n);return a.jsx(JR,{...s,...r,ref:t})});Lw.displayName=hP;var pP="DropdownMenuSubContent",$w=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=gt(n);return a.jsx(XR,{...s,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});$w.displayName=pP;var mP=Cw,gP=Nw,vP=Ew,Fw=Pw,zw=Tw,Uw=Aw,Bw=Iw,Vw=Ow,Hw=Dw,Ww=Mw,Kw=Lw,Gw=$w;/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yP=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qw=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var xP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wP=h.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:i,...l},c)=>h.createElement("svg",{ref:c,...xP,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:qw("lucide",s),...l},[...i.map(([u,d])=>h.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=(e,t)=>{const n=h.forwardRef(({className:r,...s},o)=>h.createElement(wP,{ref:o,iconNode:t,className:qw(`lucide-${yP(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SP=Se("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bP=Se("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jP=Se("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _P=Se("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ql=Se("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xh=Se("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CP=Se("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kP=Se("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NP=Se("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yw=Se("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EP=Se("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=Se("CloudDownload",[["path",{d:"M12 13v8l-4-4",key:"1f5nwf"}],["path",{d:"m12 21 4-4",key:"1lfcce"}],["path",{d:"M4.393 15.269A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.436 8.284",key:"ui1hmy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Km=Se("CloudUpload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=Se("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gm=Se("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ed=Se("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PP=Se("Expand",[["path",{d:"m21 21-6-6m6 6v-4.8m0 4.8h-4.8",key:"1c15vz"}],["path",{d:"M3 16.2V21m0 0h4.8M3 21l6-6",key:"1fsnz2"}],["path",{d:"M21 7.8V3m0 0h-4.8M21 3l-6 6",key:"hawz9i"}],["path",{d:"M3 7.8V3m0 0h4.8M3 3l6 6",key:"u9ee12"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=Se("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qm=Se("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TP=Se("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AP=Se("Move",[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=Se("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=Se("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IP=Se("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ia=Se("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ym=Se("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OP=Se("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wh=Se("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=Se("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=Se("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DP=Se("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=Se("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jw=Se("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),MP=mP,LP=gP,$P=h.forwardRef(({className:e,inset:t,children:n,...r},s)=>a.jsxs(Kw,{ref:s,className:L("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,a.jsx(CP,{className:"ml-auto h-4 w-4"})]}));$P.displayName=Kw.displayName;const FP=h.forwardRef(({className:e,...t},n)=>a.jsx(Gw,{ref:n,className:L("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));FP.displayName=Gw.displayName;const Xw=h.forwardRef(({className:e,sideOffset:t=4,...n},r)=>a.jsx(vP,{children:a.jsx(Fw,{ref:r,sideOffset:t,className:L("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Xw.displayName=Fw.displayName;const An=h.forwardRef(({className:e,inset:t,...n},r)=>a.jsx(Uw,{ref:r,className:L("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));An.displayName=Uw.displayName;const zP=h.forwardRef(({className:e,children:t,checked:n,...r},s)=>a.jsxs(Bw,{ref:s,className:L("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(Hw,{children:a.jsx(Ql,{className:"h-4 w-4"})})}),t]}));zP.displayName=Bw.displayName;const UP=h.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(Vw,{ref:r,className:L("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(Hw,{children:a.jsx(Yw,{className:"h-2 w-2 fill-current"})})}),t]}));UP.displayName=Vw.displayName;const BP=h.forwardRef(({className:e,inset:t,...n},r)=>a.jsx(zw,{ref:r,className:L("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));BP.displayName=zw.displayName;const $o=h.forwardRef(({className:e,...t},n)=>a.jsx(Ww,{ref:n,className:L("-mx-1 my-1 h-px bg-muted",e),...t}));$o.displayName=Ww.displayName;var Zl="Dialog",[Qw,Zw]=ut(Zl),[VP,dn]=Qw(Zl),e0=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:i=!0}=e,l=h.useRef(null),c=h.useRef(null),[u,d]=Gt({prop:r,defaultProp:s??!1,onChange:o,caller:Zl});return a.jsx(VP,{scope:t,triggerRef:l,contentRef:c,contentId:Bt(),titleId:Bt(),descriptionId:Bt(),open:u,onOpenChange:d,onOpenToggle:h.useCallback(()=>d(f=>!f),[d]),modal:i,children:n})};e0.displayName=Zl;var t0="DialogTrigger",n0=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=dn(t0,n),o=me(t,s.triggerRef);return a.jsx(ae.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":jh(s.open),...r,ref:o,onClick:te(e.onClick,s.onOpenToggle)})});n0.displayName=t0;var Sh="DialogPortal",[HP,r0]=Qw(Sh,{forceMount:void 0}),s0=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,o=dn(Sh,t);return a.jsx(HP,{scope:t,forceMount:n,children:h.Children.map(r,i=>a.jsx(qt,{present:n||o.open,children:a.jsx(Kl,{asChild:!0,container:s,children:i})}))})};s0.displayName=Sh;var ml="DialogOverlay",o0=h.forwardRef((e,t)=>{const n=r0(ml,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=dn(ml,e.__scopeDialog);return o.modal?a.jsx(qt,{present:r||o.open,children:a.jsx(KP,{...s,ref:t})}):null});o0.displayName=ml;var WP=ts("DialogOverlay.RemoveScroll"),KP=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=dn(ml,n);return a.jsx(ql,{as:WP,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(ae.div,{"data-state":jh(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),ss="DialogContent",i0=h.forwardRef((e,t)=>{const n=r0(ss,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=dn(ss,e.__scopeDialog);return a.jsx(qt,{present:r||o.open,children:o.modal?a.jsx(GP,{...s,ref:t}):a.jsx(qP,{...s,ref:t})})});i0.displayName=ss;var GP=h.forwardRef((e,t)=>{const n=dn(ss,e.__scopeDialog),r=h.useRef(null),s=me(t,n.contentRef,r);return h.useEffect(()=>{const o=r.current;if(o)return dh(o)},[]),a.jsx(a0,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:te(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:te(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&o.preventDefault()}),onFocusOutside:te(e.onFocusOutside,o=>o.preventDefault())})}),qP=h.forwardRef((e,t)=>{const n=dn(ss,e.__scopeDialog),r=h.useRef(!1),s=h.useRef(!1);return a.jsx(a0,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),a0=h.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=e,l=dn(ss,n),c=h.useRef(null),u=me(t,c);return Zf(),a.jsxs(a.Fragment,{children:[a.jsx(zl,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:a.jsx(Fl,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":jh(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(JP,{titleId:l.titleId}),a.jsx(QP,{contentRef:c,descriptionId:l.descriptionId})]})]})}),bh="DialogTitle",l0=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=dn(bh,n);return a.jsx(ae.h2,{id:s.titleId,...r,ref:t})});l0.displayName=bh;var c0="DialogDescription",u0=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=dn(c0,n);return a.jsx(ae.p,{id:s.descriptionId,...r,ref:t})});u0.displayName=c0;var d0="DialogClose",f0=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=dn(d0,n);return a.jsx(ae.button,{type:"button",...r,ref:t,onClick:te(e.onClick,()=>s.onOpenChange(!1))})});f0.displayName=d0;function jh(e){return e?"open":"closed"}var h0="DialogTitleWarning",[YP,p0]=bk(h0,{contentName:ss,titleName:bh,docsSlug:"dialog"}),JP=({titleId:e})=>{const t=p0(h0),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return h.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},XP="DialogDescriptionWarning",QP=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${p0(XP).contentName}}.`;return h.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},_h=e0,m0=n0,Ch=s0,ec=o0,tc=i0,nc=l0,rc=u0,sc=f0;const Mt=_h,g0=m0,ZP=Ch,v0=h.forwardRef(({className:e,...t},n)=>a.jsx(ec,{ref:n,className:L("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));v0.displayName=ec.displayName;const _t=h.forwardRef(({className:e,children:t,mobileFullscreen:n,showOverlay:r=!0,...s},o)=>a.jsxs(ZP,{children:[r&&a.jsx(v0,{}),a.jsxs(tc,{ref:o,className:L("fixed z-50 grid w-full gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n?"inset-0 h-full w-full rounded-none border-0 data-[state=open]:slide-in-from-bottom data-[state=closed]:slide-out-to-bottom":["left-[50%] top-[50%] translate-x-[-50%] translate-y-[-50%]","data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95","data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%]","sm:max-w-lg sm:rounded-lg"],e),...s,children:[t,a.jsxs(sc,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(Jw,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));_t.displayName=tc.displayName;const Ct=({className:e,...t})=>a.jsx("div",{className:L("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Ct.displayName="DialogHeader";const Xn=({className:e,...t})=>a.jsx("div",{className:L("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Xn.displayName="DialogFooter";const kt=h.forwardRef(({className:e,...t},n)=>a.jsx(nc,{ref:n,className:L("text-lg font-semibold leading-none tracking-tight",e),...t}));kt.displayName=nc.displayName;const Qn=h.forwardRef(({className:e,...t},n)=>a.jsx(rc,{ref:n,className:L("text-sm text-muted-foreground",e),...t}));Qn.displayName=rc.displayName;const eT="modulepreload",tT=function(e){return"/"+e},Qm={},un=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=tT(c),c in Qm)return;Qm[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":eT,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((p,y)=>{f.addEventListener("load",p),f.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return s.then(i=>{for(const l of i||[])l.status==="rejected"&&o(l.reason);return t().catch(o)})},nT=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>un(async()=>{const{default:r}=await Promise.resolve().then(()=>po);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class kh extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class rT extends kh{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Zm extends kh{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class eg extends kh{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Rd;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Rd||(Rd={}));var sT=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class oT{constructor(t,{headers:n={},customFetch:r,region:s=Rd.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=nT(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return sT(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:i}=n;let l={},{region:c}=n;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;i&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=i):typeof i=="string"?(l["Content-Type"]="text/plain",d=i):typeof FormData<"u"&&i instanceof FormData?d=i:(l["Content-Type"]="application/json",d=JSON.stringify(i)));const f=yield this.fetch(u.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:d}).catch(x=>{throw new rT(x)}),p=f.headers.get("x-relay-error");if(p&&p==="true")throw new Zm(f);if(!f.ok)throw new eg(f);let y=((r=f.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),S;return y==="application/json"?S=yield f.json():y==="application/octet-stream"?S=yield f.blob():y==="text/event-stream"?S=f:y==="multipart/form-data"?S=yield f.formData():S=yield f.text(),{data:S,error:null,response:f}}catch(s){return{data:null,error:s,response:s instanceof eg||s instanceof Zm?s.context:void 0}}})}}var xt={},Nh={},oc={},Mi={},ic={},ac={},iT=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},no=iT();const aT=no.fetch,y0=no.fetch.bind(no),x0=no.Headers,lT=no.Request,cT=no.Response,po=Object.freeze(Object.defineProperty({__proto__:null,Headers:x0,Request:lT,Response:cT,default:y0,fetch:aT},Symbol.toStringTag,{value:"Module"})),uT=u1(po);var lc={};Object.defineProperty(lc,"__esModule",{value:!0});let dT=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};lc.default=dT;var w0=Ht&&Ht.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ac,"__esModule",{value:!0});const fT=w0(uT),hT=w0(lc);let pT=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=fT.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var i,l,c;let u=null,d=null,f=null,p=o.status,y=o.statusText;if(o.ok){if(this.method!=="HEAD"){const m=await o.text();m===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=m:d=JSON.parse(m))}const x=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),b=(l=o.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");x&&b&&b.length>1&&(f=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,p=406,y="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const x=await o.text();try{u=JSON.parse(x),Array.isArray(u)&&o.status===404&&(d=[],u=null,p=200,y="OK")}catch{o.status===404&&x===""?(p=204,y="No Content"):u={message:x}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,p=200,y="OK"),u&&this.shouldThrowOnError)throw new hT.default(u)}return{error:u,data:d,count:f,status:p,statusText:y}});return this.shouldThrowOnError||(s=s.catch(o=>{var i,l,c;return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(l=o==null?void 0:o.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=o==null?void 0:o.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};ac.default=pT;var mT=Ht&&Ht.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ic,"__esModule",{value:!0});const gT=mT(ac);let vT=class extends gT.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:o=s}={}){const i=o?`${o}.order`:"order",l=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const o=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(i,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:o=!1,format:i="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${u}"; options=${c};`,i==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};ic.default=vT;var yT=Ht&&Ht.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Mi,"__esModule",{value:!0});const xT=yT(ic);let wT=class extends xT.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${o}fts${i}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Mi.default=wT;var ST=Ht&&Ht.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(oc,"__esModule",{value:!0});const Po=ST(Mi);let bT=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let o=!1;const i=(t??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",i),r&&(this.headers.Prefer=`count=${r}`),new Po.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push(`count=${n}`),r||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const i=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(i.length>0){const l=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Po.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:o=!0}={}){const i="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Po.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new Po.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Po.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};oc.default=bT;var cc={},uc={};Object.defineProperty(uc,"__esModule",{value:!0});uc.version=void 0;uc.version="0.0.0-automated";Object.defineProperty(cc,"__esModule",{value:!0});cc.DEFAULT_HEADERS=void 0;const jT=uc;cc.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${jT.version}`};var S0=Ht&&Ht.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Nh,"__esModule",{value:!0});const _T=S0(oc),CT=S0(Mi),kT=cc;let NT=class b0{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},kT.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new _T.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new b0(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:o}={}){let i;const l=new URL(`${this.url}/rpc/${t}`);let c;r||s?(i=r?"HEAD":"GET",Object.entries(n).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(i="POST",c=n);const u=Object.assign({},this.headers);return o&&(u.Prefer=`count=${o}`),new CT.default({method:i,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Nh.default=NT;var mo=Ht&&Ht.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xt,"__esModule",{value:!0});xt.PostgrestError=xt.PostgrestBuilder=xt.PostgrestTransformBuilder=xt.PostgrestFilterBuilder=xt.PostgrestQueryBuilder=xt.PostgrestClient=void 0;const j0=mo(Nh);xt.PostgrestClient=j0.default;const _0=mo(oc);xt.PostgrestQueryBuilder=_0.default;const C0=mo(Mi);xt.PostgrestFilterBuilder=C0.default;const k0=mo(ic);xt.PostgrestTransformBuilder=k0.default;const N0=mo(ac);xt.PostgrestBuilder=N0.default;const E0=mo(lc);xt.PostgrestError=E0.default;var ET=xt.default={PostgrestClient:j0.default,PostgrestQueryBuilder:_0.default,PostgrestFilterBuilder:C0.default,PostgrestTransformBuilder:k0.default,PostgrestBuilder:N0.default,PostgrestError:E0.default};const{PostgrestClient:RT,PostgrestQueryBuilder:gM,PostgrestFilterBuilder:vM,PostgrestTransformBuilder:yM,PostgrestBuilder:xM,PostgrestError:wM}=ET;function PT(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const TT=PT(),AT="2.11.15",IT=`realtime-js/${AT}`,OT="1.0.0",R0=1e4,DT=1e3;var Qo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Qo||(Qo={}));var it;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(it||(it={}));var tn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(tn||(tn={}));var Pd;(function(e){e.websocket="websocket"})(Pd||(Pd={}));var Ur;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ur||(Ur={}));class MT{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),o=n.getUint8(2);let i=this.HEADER_LENGTH+2;const l=r.decode(t.slice(i,i+s));i=i+s;const c=r.decode(t.slice(i,i+o));i=i+o;const u=JSON.parse(r.decode(t.slice(i,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class P0{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ne;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ne||(Ne={}));const tg=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((o,i)=>(o[i]=LT(i,e,t,s),o),{})},LT=(e,t,n,r)=>{const s=t.find(l=>l.name===e),o=s==null?void 0:s.type,i=n[e];return o&&!r.includes(o)?T0(o,i):Td(i)},T0=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return UT(t,n)}switch(e){case Ne.bool:return $T(t);case Ne.float4:case Ne.float8:case Ne.int2:case Ne.int4:case Ne.int8:case Ne.numeric:case Ne.oid:return FT(t);case Ne.json:case Ne.jsonb:return zT(t);case Ne.timestamp:return BT(t);case Ne.abstime:case Ne.date:case Ne.daterange:case Ne.int4range:case Ne.int8range:case Ne.money:case Ne.reltime:case Ne.text:case Ne.time:case Ne.timestamptz:case Ne.timetz:case Ne.tsrange:case Ne.tstzrange:return Td(t);default:return Td(t)}},Td=e=>e,$T=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},FT=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},zT=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},UT=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const i=e.slice(1,n);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(l=>T0(t,l))}return e},BT=e=>typeof e=="string"?e.replace(" ","T"):e,A0=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class lu{constructor(t,n,r={},s=R0){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var ng;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(ng||(ng={}));class Zo{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Zo.syncState(this.state,s,o,i),this.pendingDiffs.forEach(c=>{this.state=Zo.syncDiff(this.state,c,o,i)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Zo.syncDiff(this.state,s,o,i),l())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const o=this.cloneDeep(t),i=this.transformState(n),l={},c={};return this.map(o,(u,d)=>{i[u]||(c[u]=d)}),this.map(i,(u,d)=>{const f=o[u];if(f){const p=d.map(b=>b.presence_ref),y=f.map(b=>b.presence_ref),S=d.filter(b=>y.indexOf(b.presence_ref)<0),x=f.filter(b=>p.indexOf(b.presence_ref)<0);S.length>0&&(l[u]=S),x.length>0&&(c[u]=x)}else l[u]=d}),this.syncDiff(o,{joins:l,leaves:c},r,s)}static syncDiff(t,n,r,s){const{joins:o,leaves:i}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(o,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(y=>y.presence_ref),p=d.filter(y=>f.indexOf(y.presence_ref)<0);t[l].unshift(...p)}r(l,d,c)}),this.map(i,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var rg;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(rg||(rg={}));var sg;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(sg||(sg={}));var Dn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Dn||(Dn={}));class Eh{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=it.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new lu(this,tn.join,this.params,this.timeout),this.rejoinTimer=new P0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=it.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=it.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=it.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=it.errored,this.rejoinTimer.scheduleTimeout())}),this._on(tn.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new Zo(this),this.broadcastEndpointURL=A0(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.state==it.closed){const{config:{broadcast:o,presence:i,private:l}}=this.params;this._onError(d=>t==null?void 0:t(Dn.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Dn.CLOSED));const c={},u={broadcast:o,presence:i,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(Dn.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,y=(f=p==null?void 0:p.length)!==null&&f!==void 0?f:0,S=[];for(let x=0;x<y;x++){const b=p[x],{filter:{event:m,schema:v,table:g,filter:w}}=b,k=d&&d[x];if(k&&k.event===m&&k.schema===v&&k.table===g&&k.filter===w)S.push(Object.assign(Object.assign({},b),{id:k.id}));else{this.unsubscribe(),this.state=it.errored,t==null||t(Dn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,t&&t(Dn.SUBSCRIBED);return}}).receive("error",d=>{this.state=it.errored,t==null||t(Dn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Dn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:i}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=it.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(tn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new lu(this,tn.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const s=new AbortController,o=setTimeout(()=>s.abort(),r),i=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(o),i}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new lu(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,o;const i=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=tn;if(r&&[l,c,u,d].indexOf(i)>=0&&r!==this._joinRef())return;let p=this._onMessage(i,n,r);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var S,x,b;return((S=y.filter)===null||S===void 0?void 0:S.event)==="*"||((b=(x=y.filter)===null||x===void 0?void 0:x.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===i}).map(y=>y.callback(p,r)):(o=this.bindings[i])===null||o===void 0||o.filter(y=>{var S,x,b,m,v,g;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in y){const w=y.id,k=(S=y.filter)===null||S===void 0?void 0:S.event;return w&&((x=n.ids)===null||x===void 0?void 0:x.includes(w))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const w=(v=(m=y==null?void 0:y.filter)===null||m===void 0?void 0:m.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return w==="*"||w===((g=n==null?void 0:n.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===i}).map(y=>{if(typeof p=="object"&&"ids"in p){const S=p.data,{schema:x,table:b,commit_timestamp:m,type:v,errors:g}=S;p=Object.assign(Object.assign({},{schema:x,table:b,commit_timestamp:m,eventType:v,new:{},old:{},errors:g}),this._getPayloadRecords(S))}y.callback(p,r)})}_isClosed(){return this.state===it.closed}_isJoined(){return this.state===it.joined}_isJoining(){return this.state===it.joining}_isLeaving(){return this.state===it.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),o={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&Eh.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(tn.close,{},t)}_onError(t){this._on(tn.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=it.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=tg(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=tg(t.columns,t.old_record)),n}}const og=()=>{},VT=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class HT{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=R0,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=og,this.ref=0,this.logger=og,this.conn=null,this.sendBuffer=[],this.serializer=new MT,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...l)=>un(async()=>{const{default:c}=await Promise.resolve().then(()=>po);return{default:c}},void 0).then(({default:c})=>c(...l)):i=fetch,(...l)=>i(...l)},this.endPoint=`${t}/${Pd.websocket}`,this.httpEndpoint=A0(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(o,i)=>i(JSON.stringify(o)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new P0(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=TT),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:OT}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Qo.connecting:return Ur.Connecting;case Qo.open:return Ur.Open;case Qo.closing:return Ur.Closing;default:return Ur.Closed}}isConnected(){return this.connectionState()===Ur.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===r);if(s)return s;{const o=new Eh(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:r,payload:s,ref:o}=t,i=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:IT};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(tn.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(DT,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:o,ref:i}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${s} ${i&&"("+i+")"||""}`,o),Array.from(this.channels).filter(l=>l._isMember(r)).forEach(l=>l._trigger(s,o,i)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(tn.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([VT],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Rh extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ye(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class WT extends Rh{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ad extends Rh{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var KT=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const I0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>un(async()=>{const{default:r}=await Promise.resolve().then(()=>po);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},GT=()=>KT(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield un(()=>Promise.resolve().then(()=>po),void 0)).Response:Response}),Id=e=>{if(Array.isArray(e))return e.map(n=>Id(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=Id(r)}),t},qT=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var fs=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const cu=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),YT=(e,t,n)=>fs(void 0,void 0,void 0,function*(){const r=yield GT();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{const o=e.status||500,i=(s==null?void 0:s.statusCode)||o+"";t(new WT(cu(s),o,i))}).catch(s=>{t(new Ad(cu(s),s))}):t(new Ad(cu(e),e))}),JT=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?s:(qT(r)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,Object.assign(Object.assign({},s),n))};function Li(e,t,n,r,s,o){return fs(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(n,JT(t,r,s,o)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>YT(c,l,r))})})}function gl(e,t,n,r){return fs(this,void 0,void 0,function*(){return Li(e,"GET",t,n,r)})}function Mn(e,t,n,r,s){return fs(this,void 0,void 0,function*(){return Li(e,"POST",t,r,s,n)})}function Od(e,t,n,r,s){return fs(this,void 0,void 0,function*(){return Li(e,"PUT",t,r,s,n)})}function XT(e,t,n,r){return fs(this,void 0,void 0,function*(){return Li(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function O0(e,t,n,r,s){return fs(this,void 0,void 0,function*(){return Li(e,"DELETE",t,r,s,n)})}var vt=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const QT={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ig={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ZT{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=I0(s)}uploadOrUpdate(t,n,r,s){return vt(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},ig),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=r,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),f=yield(t=="PUT"?Od:Mn)(this.fetch,`${this.url}/object/${d}`,o,Object.assign({headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(o){if(Ye(o))return{data:null,error:o};throw o}})}upload(t,n,r){return vt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return vt(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),i=this._getFinalPath(o),l=new URL(this.url+`/object/upload/sign/${i}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:ig.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield Od(this.fetch,l.toString(),c,{headers:d});return{data:{path:o,fullPath:f.Key},error:null}}catch(c){if(Ye(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return vt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const o=yield Mn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),i=new URL(this.url+o.url),l=i.searchParams.get("token");if(!l)throw new Rh("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:l},error:null}}catch(r){if(Ye(r))return{data:null,error:r};throw r}})}update(t,n,r){return vt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return vt(this,void 0,void 0,function*(){try{return{data:yield Mn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Ye(s))return{data:null,error:s};throw s}})}copy(t,n,r){return vt(this,void 0,void 0,function*(){try{return{data:{path:(yield Mn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Ye(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return vt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),o=yield Mn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(s){if(Ye(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return vt(this,void 0,void 0,function*(){try{const s=yield Mn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(s){if(Ye(s))return{data:null,error:s};throw s}})}download(t,n){return vt(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),i=o?`?${o}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield gl(this.fetch,`${this.url}/${s}/${l}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Ye(l))return{data:null,error:l};throw l}})}info(t){return vt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield gl(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Id(r),error:null}}catch(r){if(Ye(r))return{data:null,error:r};throw r}})}exists(t){return vt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield XT(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Ye(r)&&r instanceof Ad){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&s.push(o);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(t){return vt(this,void 0,void 0,function*(){try{return{data:yield O0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Ye(n))return{data:null,error:n};throw n}})}list(t,n,r){return vt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},QT),n),{prefix:t||""});return{data:yield Mn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(Ye(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const e2="2.10.4",t2={"X-Client-Info":`storage-js/${e2}`};var vs=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class n2{constructor(t,n={},r,s){const o=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href,this.headers=Object.assign(Object.assign({},t2),n),this.fetch=I0(r)}listBuckets(){return vs(this,void 0,void 0,function*(){try{return{data:yield gl(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ye(t))return{data:null,error:t};throw t}})}getBucket(t){return vs(this,void 0,void 0,function*(){try{return{data:yield gl(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Ye(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return vs(this,void 0,void 0,function*(){try{return{data:yield Mn(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ye(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return vs(this,void 0,void 0,function*(){try{return{data:yield Od(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ye(r))return{data:null,error:r};throw r}})}emptyBucket(t){return vs(this,void 0,void 0,function*(){try{return{data:yield Mn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Ye(n))return{data:null,error:n};throw n}})}deleteBucket(t){return vs(this,void 0,void 0,function*(){try{return{data:yield O0(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Ye(n))return{data:null,error:n};throw n}})}}class r2 extends n2{constructor(t,n={},r,s){super(t,n,r,s)}from(t){return new ZT(this.url,this.headers,t,this.fetch)}}const s2="2.53.0";let Fo="";typeof Deno<"u"?Fo="deno":typeof document<"u"?Fo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Fo="react-native":Fo="node";const o2={"X-Client-Info":`supabase-js-${Fo}/${s2}`},i2={headers:o2},a2={schema:"public"},l2={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},c2={};var u2=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const d2=e=>{let t;return e?t=e:typeof fetch>"u"?t=y0:t=fetch,(...n)=>t(...n)},f2=()=>typeof Headers>"u"?x0:Headers,h2=(e,t,n)=>{const r=d2(n),s=f2();return(o,i)=>u2(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(o,Object.assign(Object.assign({},i),{headers:u}))})};var p2=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};function m2(e){return e.endsWith("/")?e:e+"/"}function g2(e,t){var n,r;const{db:s,auth:o,realtime:i,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,p={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),o),realtime:Object.assign(Object.assign({},d),i),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>p2(this,void 0,void 0,function*(){return""})};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}const D0="2.71.1",bs=30*1e3,Dd=3,uu=Dd*bs,v2="http://localhost:9999",y2="supabase.auth.token",x2={"X-Client-Info":`gotrue-js/${D0}`},Md="X-Supabase-Api-Version",M0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},w2=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,S2=10*60*1e3;class Ph extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function pe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class b2 extends Ph{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function j2(e){return pe(e)&&e.name==="AuthApiError"}class L0 extends Ph{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Tr extends Ph{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class ar extends Tr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function _2(e){return pe(e)&&e.name==="AuthSessionMissingError"}class fa extends Tr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ha extends Tr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class pa extends Tr{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function C2(e){return pe(e)&&e.name==="AuthImplicitGrantRedirectError"}class ag extends Tr{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ld extends Tr{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function du(e){return pe(e)&&e.name==="AuthRetryableFetchError"}class lg extends Tr{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class $d extends Tr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const vl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),cg=` 	
\r=`.split(""),k2=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<cg.length;t+=1)e[cg[t].charCodeAt(0)]=-2;for(let t=0;t<vl.length;t+=1)e[vl[t].charCodeAt(0)]=t;return e})();function ug(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(vl[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(vl[r]),t.queuedBits-=6}}function $0(e,t,n){const r=k2[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function dg(e){const t=[],n=i=>{t.push(String.fromCodePoint(i))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=i=>{R2(i,r,n)};for(let i=0;i<e.length;i+=1)$0(e.charCodeAt(i),s,o);return t.join("")}function N2(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function E2(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}N2(r,t)}}function R2(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function P2(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)$0(e.charCodeAt(s),n,r);return new Uint8Array(t)}function T2(e){const t=[];return E2(e,n=>t.push(n)),new Uint8Array(t)}function A2(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>ug(s,n,r)),ug(null,n,r),t.join("")}function I2(e){return Math.round(Date.now()/1e3)+e}function O2(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Xt=()=>typeof window<"u"&&typeof document<"u",Dr={tested:!1,writable:!1},F0=()=>{if(!Xt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Dr.tested)return Dr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Dr.tested=!0,Dr.writable=!0}catch{Dr.tested=!0,Dr.writable=!1}return Dr.writable};function D2(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const z0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>un(async()=>{const{default:r}=await Promise.resolve().then(()=>po);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},M2=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",js=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Mr=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},or=async(e,t)=>{await e.removeItem(t)};class dc{constructor(){this.promise=new dc.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}dc.promiseConstructor=Promise;function fu(e){const t=e.split(".");if(t.length!==3)throw new $d("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!w2.test(t[r]))throw new $d("JWT not in base64url format");return{header:JSON.parse(dg(t[0])),payload:JSON.parse(dg(t[1])),signature:P2(t[2]),raw:{header:t[0],payload:t[1]}}}async function L2(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function $2(e,t){return new Promise((r,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await e(o);if(!t(o,null,i)){r(i);return}}catch(i){if(!t(o,i)){s(i);return}}})()})}function F2(e){return("0"+e.toString(16)).substr(-2)}function z2(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let o=0;o<56;o++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,F2).join("")}async function U2(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function B2(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await U2(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ys(e,t,n=!1){const r=z2();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await js(e,`${t}-code-verifier`,s);const o=await B2(r);return[o,r===o?"plain":"s256"]}const V2=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function H2(e){const t=e.headers.get(Md);if(!t||!t.match(V2))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function W2(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function K2(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const G2=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function xs(e){if(!G2.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function hu(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function fg(e){return JSON.parse(JSON.stringify(e))}var q2=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const zr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Y2=[502,503,504];async function hg(e){var t;if(!M2(e))throw new Ld(zr(e),0);if(Y2.includes(e.status))throw new Ld(zr(e),e.status);let n;try{n=await e.json()}catch(o){throw new L0(zr(o),o)}let r;const s=H2(e);if(s&&s.getTime()>=M0["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new lg(zr(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new ar}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new lg(zr(n),e.status,n.weak_password.reasons);throw new b2(zr(n),e.status||500,r)}const J2=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function ve(e,t,n,r){var s;const o=Object.assign({},r==null?void 0:r.headers);o[Md]||(o[Md]=M0["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const i=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(i.redirect_to=r.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await X2(e,t,n+l,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function X2(e,t,n,r,s,o){const i=J2(t,r,s,o);let l;try{l=await e(n,Object.assign({},i))}catch(c){throw console.error(c),new Ld(zr(c),0)}if(l.ok||await hg(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await hg(c)}}function In(e){var t;let n=null;tA(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=I2(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function pg(e){const t=In(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function fr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Q2(e){return{data:e,error:null}}function Z2(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o}=e,i=q2(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o},c=Object.assign({},i);return{data:{properties:l,user:c},error:null}}function eA(e){return e}function tA(e){return e.access_token&&e.refresh_token&&e.expires_in}const pu=["global","local","others"];var nA=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class rA{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=z0(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=pu[0]){if(pu.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${pu.join(", ")}`);try{return await ve(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(pe(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await ve(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:fr})}catch(r){if(pe(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=nA(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await ve(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Z2,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(pe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await ve(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:fr})}catch(n){if(pe(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,o,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ve(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:eA});if(d.error)throw d.error;const f=await d.json(),p=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,y=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return y.length>0&&(y.forEach(S=>{const x=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(S.split(";")[1].split("=")[1]);u[`${b}Page`]=x}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(pe(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){xs(t);try{return await ve(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:fr})}catch(n){if(pe(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){xs(t);try{return await ve(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:fr})}catch(r){if(pe(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){xs(t);try{return await ve(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:fr})}catch(r){if(pe(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){xs(t.userId);try{const{data:n,error:r}=await ve(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _deleteFactor(t){xs(t.userId),xs(t.id);try{return{data:await ve(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}}}function mg(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function sA(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ws={debug:!!(globalThis&&F0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class U0 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class oA extends U0{}async function iA(e,t,n){ws.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),ws.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){ws.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{ws.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw ws.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new oA(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ws.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}sA();const aA={url:v2,storageKey:y2,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:x2,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function gg(e,t,n){return await n()}const Ss={};class bi{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=bi.nextInstanceID,bi.nextInstanceID+=1,this.instanceID>0&&Xt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},aA),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new rA({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=z0(s.fetch),this.lock=s.lock||gg,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Xt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=iA:this.lock=gg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:F0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=mg(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=mg(this.memoryStorage)),Xt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=Ss[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Ss[this.storageKey]=Object.assign(Object.assign({},Ss[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Ss[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ss[this.storageKey]=Object.assign(Object.assign({},Ss[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${D0}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=D2(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Xt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),C2(o)){const c=(t=o.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",l),await this._saveSession(i),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return pe(n)?{error:n}:{error:new L0("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const o=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:In}),{data:i,error:l}=o;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(pe(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var n,r,s;try{let o;if("email"in t){const{email:d,password:f,options:p}=t;let y=null,S=null;this.flowType==="pkce"&&([y,S]=await ys(this.storage,this.storageKey)),o=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:f,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:y,code_challenge_method:S},xform:In})}else if("phone"in t){const{phone:d,password:f,options:p}=t;o=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:In})}else throw new ha("You must provide either an email or phone number and a password");const{data:i,error:l}=o;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(pe(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:i,options:l}=t;n=await ve(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:pg})}else if("phone"in t){const{phone:o,password:i,options:l}=t;n=await ve(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:pg})}else throw new ha("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new fa}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(pe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,s,o,i,l,c,u,d,f,p,y;let S,x;if("message"in t)S=t.message,x=t.signature;else{const{chain:b,wallet:m,statement:v,options:g}=t;let w;if(Xt())if(typeof m=="object")w=m;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))w=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=m}const k=new URL((n=g==null?void 0:g.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in w&&w.signIn){const C=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),v?{statement:v}:null));let j;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")j=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)j=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)S=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),x=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${k.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(s=(r=g==null?void 0:g.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=g==null?void 0:g.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((i=g==null?void 0:g.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((l=g==null?void 0:g.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((c=g==null?void 0:g.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((u=g==null?void 0:g.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((f=(d=g==null?void 0:g.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...g.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const C=await w.signMessage(new TextEncoder().encode(S),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=C}}try{const{data:b,error:m}=await ve(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:A2(x)},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:In});if(m)throw m;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new fa}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:m})}catch(b){if(pe(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(t){const n=await Mr(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:o,error:i}=await ve(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:In});if(await or(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new fa}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}catch(o){if(pe(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:o,nonce:i}=t,l=await ve(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:In}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new fa}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(pe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,o,i;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await ys(this.storage,this.storageKey));const{error:f}=await ve(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await ve(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new ha("You must provide either an email or phone number.")}catch(l){if(pe(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,r;try{let s,o;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:i,error:l}=await ve(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:In});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(pe(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let o=null,i=null;return this.flowType==="pkce"&&([o,i]=await ys(this.storage,this.storageKey)),await ve(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:Q2})}catch(o){if(pe(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new ar;const{error:s}=await ve(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(pe(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:o}=t,{error:i}=await ve(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:r,type:s,options:o}=t,{data:i,error:l}=await ve(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l}}throw new ha("You must provide either an email or phone number and a type")}catch(n){if(pe(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Mr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<uu:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const i=await Mr(this.userStorage,this.storageKey+"-user");i!=null&&i.user?t.user=i.user:t.user=hu()}if(this.storage.isServer&&t.user){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!i&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ve(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:fr}):await this._useSession(async n=>{var r,s,o;const{data:i,error:l}=n;if(l)throw l;return!(!((r=i.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ar}:await ve(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:fr})})}catch(n){if(pe(n))return _2(n)&&(await this._removeSession(),await or(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:o}=r;if(o)throw o;if(!s.session)throw new ar;const i=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await ys(this.storage,this.storageKey));const{data:u,error:d}=await ve(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:i.access_token,xform:fr});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(r){if(pe(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ar;const n=Date.now()/1e3;let r=n,s=!0,o=null;const{payload:i}=fu(t.access_token);if(i.exp&&(r=i.exp,s=r<=n),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};o=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;o={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(pe(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:i,error:l}=n;if(l)throw l;t=(r=i.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new ar;const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(pe(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Xt())throw new pa("No browser detected.");if(t.error||t.error_description||t.error_code)throw new pa(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new ag("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new pa("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new ag("No code detected.");const{data:v,error:g}=await this._exchangeCodeForSession(t.code);if(g)throw g;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:l,expires_at:c,token_type:u}=t;if(!o||!l||!i||!u)throw new pa("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let p=d+f;c&&(p=parseInt(c));const y=p-d;y*1e3<=bs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${f}s`);const S=p-f;d-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,p,d):d-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,p,d);const{data:x,error:b}=await this._getUser(o);if(b)throw b;const m={provider_token:r,provider_refresh_token:s,access_token:o,expires_in:f,expires_at:p,refresh_token:i,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:t.type},error:null}}catch(r){if(pe(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Mr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{error:o};const i=(r=s.session)===null||r===void 0?void 0:r.access_token;if(i){const{error:l}=await this.admin.signOut(i,t);if(l&&!(j2(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await or(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=O2(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:o},error:i}=n;if(i)throw i;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await ys(this.storage,this.storageKey,!0));try{return await ve(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(pe(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async o=>{var i,l,c,u,d;const{data:f,error:p}=o;if(p)throw p;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ve(this.fetch,"GET",y,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Xt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(pe(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:i}=n;if(i)throw i;return await ve(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await $2(async s=>(s>0&&await L2(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await ve(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:In})),(s,o)=>{const i=200*Math.pow(2,s);return o&&du(o)&&Date.now()+i-r<bs})}catch(r){if(this._debug(n,"error",r),pe(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Xt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Mr(this.storage,this.storageKey);if(s&&this.userStorage){let i=await Mr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:s.user},await js(this.userStorage,this.storageKey+"-user",i)),s.user=(t=i==null?void 0:i.user)!==null&&t!==void 0?t:hu()}else if(s&&!s.user&&!s.user){const i=await Mr(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(s.user=i.user,await or(this.storage,this.storageKey+"-user"),await js(this.storage,this.storageKey,s)):s.user=hu()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const o=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<uu;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${uu}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),du(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:l}=await this._getUser(s.access_token);!l&&(i!=null&&i.user)?(s.user=i.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(r,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new ar;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new dc;const{data:o,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!o.session)throw new ar;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const l={session:o.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(o){if(this._debug(s,"error",o),pe(o)){const i={session:null,error:o};return du(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(i),i}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){o.push(c)}});if(await Promise.all(i),o.length>0){for(let l=0;l<o.length;l+=1)console.error(o[l]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await js(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const o=fg(s);await js(this.storage,this.storageKey,o)}else{const s=fg(n);await js(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await or(this.storage,this.storageKey),await or(this.storage,this.storageKey+"-code-verifier"),await or(this.storage,this.storageKey+"-user"),this.userStorage&&await or(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Xt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),bs);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/bs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${bs}ms, refresh threshold is ${Dd} ticks`),s<=Dd&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof U0)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Xt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,i]=await ys(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);s.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await ve(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:i}=n;if(i)return{data:null,error:i};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await ve(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{data:null,error:o};const{data:i,error:l}=await ve(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:l})})}catch(n){if(pe(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await ve(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(pe(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(i=>i.factor_type==="totp"&&i.status==="verified"),o=r.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:r,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:o}=t;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=fu(s.access_token);let l=null;i.aal&&(l=i.aal);let c=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=i.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(l=>l.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(l=>l.kid===t),r&&this.jwks_cached_at+S2>s)return r;const{data:o,error:i}=await ve(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,r=o.keys.find(l=>l.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:y,error:S}=await this.getSession();if(S||!y.session)return{data:null,error:S};r=y.session.access_token}const{header:s,payload:o,signature:i,raw:{header:l,payload:c}}=fu(r);n!=null&&n.allowExpired||W2(o.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:y}=await this.getUser(r);if(y)throw y;return{data:{claims:o,header:s,signature:i},error:null}}const d=K2(s.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,i,T2(`${l}.${c}`)))throw new $d("Invalid JWT signature");return{data:{claims:o,header:s,signature:i},error:null}}catch(r){if(pe(r))return{data:null,error:r};throw r}}}bi.nextInstanceID=0;const lA=bi;class cA extends lA{constructor(t){super(t)}}var uA=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class dA{constructor(t,n,r){var s,o,i;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=m2(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:a2,realtime:c2,auth:Object.assign(Object.assign({},l2),{storageKey:u}),global:i2},f=g2(r??{},d);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=f.global.headers)!==null&&o!==void 0?o:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(p,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=f.auth)!==null&&i!==void 0?i:{},this.headers,f.global.fetch),this.fetch=h2(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new RT(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new r2(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new oT(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return uA(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:o,flowType:i,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new cA({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:i,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new HT(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const fA=(e,t,n)=>new dA(e,t,n);function hA(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const e=process.version.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}hA()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const pA="https://qxlbrihnasevumeeeqzg.supabase.co",mA="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF4bGJyaWhuYXNldnVtZWVlcXpnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ0NDUwNjcsImV4cCI6MjA3MDAyMTA2N30.OaQsuOIGDzZVB6xaaEHf0WPq_CvFNC9LHvdkNoILMVk",qe=fA(pA,mA),$i=1,B0=()=>"__TAURI__"in window,V0=()=>{var e;return!!((e=window.Capacitor)!=null&&e.isNativePlatform())},ji=()=>{console.log("[DM] Gathering data from localStorage...");const e=JSON.parse(localStorage.getItem("poker-ranges-folders")||"[]"),t=JSON.parse(localStorage.getItem("poker-ranges-actions")||"[]"),n=JSON.parse(localStorage.getItem("training-sessions")||"[]");let r=[];const s=localStorage.getItem("training-statistics");if(s)try{const f=JSON.parse(s);Array.isArray(f)?r=f:console.warn("[DM] Old object-based training statistics found. Discarding for new array format.")}catch(f){console.error("[DM] Failed to parse training statistics, defaulting to empty array.",f)}let o={};const i=localStorage.getItem("poker-range-access-statistics");if(i)try{const f=JSON.parse(i);typeof f=="object"&&f!==null&&!Array.isArray(f)?o=f:console.warn("[DM] Old array-based range access statistics found or invalid. Discarding for new object format.")}catch(f){console.error("[DM] Failed to parse range access statistics, defaulting to empty object.",f)}const l=JSON.parse(localStorage.getItem("userCharts")||"[]"),c=JSON.parse(localStorage.getItem("poker-editor-settings")||"{}"),u=localStorage.getItem("poker-data-timestamp")||new Date(0).toISOString(),d={version:$i,folders:e,actionButtons:t,trainings:n,statistics:r,rangeAccessStats:o,charts:l,editorSettings:c,timestamp:u};return console.log("[DM] Gathered data:",d),console.log(`[DM] Gathered charts: ${d.charts.length} charts. Example chart (first 500 chars): ${JSON.stringify(d.charts[0]||{}).substring(0,500)}`),d},fc=(e,t=!0)=>{if(console.log("[DM] Attempting to apply data:",e),!e||e.version>$i){console.error("[DM] Invalid or newer data format."),alert("Ошибка: Неверный или более новый формат файла настроек, который не поддерживается этой версией приложения.");return}try{localStorage.setItem("poker-ranges-folders",JSON.stringify(e.folders||[])),localStorage.setItem("poker-ranges-actions",JSON.stringify(e.actionButtons||[])),localStorage.setItem("training-sessions",JSON.stringify(e.trainings||[])),localStorage.setItem("training-statistics",JSON.stringify(e.statistics||[])),localStorage.setItem("poker-range-access-statistics",JSON.stringify(e.rangeAccessStats||{})),localStorage.setItem("userCharts",JSON.stringify(e.charts||[])),localStorage.setItem("poker-editor-settings",JSON.stringify(e.editorSettings||{})),localStorage.setItem("poker-data-timestamp",e.timestamp),console.log("[DM] Data successfully written to localStorage."),console.log(`[DM] Applied charts: ${e.charts.length} charts. Example chart (first 500 chars): ${JSON.stringify(e.charts[0]||{}).substring(0,500)}`),t&&(alert("Настройки успешно импортированы! Приложение будет перезагружено."),setTimeout(()=>{console.log("[DM] Reloading window..."),window.location.reload()},250))}catch(n){console.error("[DM] Error applying data to localStorage:",n),alert("Ошибка при сохранении данных локально.")}},gA=(e,t)=>{console.log("[DM] Merging training statistics arrays...");const n=[...e||[],...t||[]],r=new Map;for(const o of n)o&&typeof o.timestamp=="number"&&(r.has(o.timestamp)||r.set(o.timestamp,o));const s=Array.from(r.values());return console.log(`[DM] Merged training stats result: ${s.length} unique sessions.`),s},vA=(e,t)=>{console.log("[DM] Merging range access statistics...");const n={...e};for(const r in t)t.hasOwnProperty(r)&&(n[r]=(n[r]||0)+t[r]);return console.log(`[DM] Merged range access stats result: ${Object.keys(n).length} unique ranges.`),n},qr=async(e=!0)=>{console.log("[DM] Attempting to sync data to Supabase...");const{data:{user:t}}=await qe.auth.getUser();if(!t){e&&alert("Вы должны войти в систему для синхронизации данных."),console.log("[DM] No user logged in for sync.");return}const n=ji(),{version:r,timestamp:s,...o}=n,i=new Date().toISOString();console.log(`[DM] Preparing to sync ${o.folders.length} folders, ${o.actionButtons.length} actions, ${o.trainings.length} trainings, ${o.statistics.length} training stats, ${Object.keys(o.rangeAccessStats).length} range access stats, ${o.charts.length} charts.`),console.log(`[DM] Syncing charts data (first 500 chars): ${JSON.stringify(o.charts[0]||{}).substring(0,500)}`);const{error:l}=await qe.from("user_data").upsert({user_id:t.id,folders:o.folders,action_buttons:o.actionButtons,trainings:o.trainings,statistics:o.statistics,range_access_stats:o.rangeAccessStats,charts:o.charts,editor_settings:o.editorSettings,updated_at:i},{onConflict:"user_id"});l?(console.error("[DM] Error syncing data to Supabase:",l),e&&alert("Ошибка синхронизации данных с облаком.")):(console.log("[DM] Data successfully synced to Supabase."),localStorage.setItem("poker-data-timestamp",i),e&&alert("Данные успешно сохранены в облаке!"))},Fd=async e=>{if(console.log("[DM] loadDataFromSupabase called."),!e){console.log("[DM] No user provided, cannot load data. Returning.");return}console.log(`[DM] User session found, proceeding to fetch user_data for user_id: ${e.id}`);try{const{data:t,error:n}=await qe.from("user_data").select("*").eq("user_id",e.id).single();if(n&&n.code!=="PGRST116"){console.error("[DM] Error loading data from Supabase:",n);return}const r=t;if(r){console.log("[DM] Data received from Supabase:",r),console.log(`[DM] Cloud charts data (first 500 chars): ${JSON.stringify(r.charts[0]||{}).substring(0,500)}`);const s=ji(),o=s.timestamp,i=r.updated_at;if(console.log(`[DM] Local timestamp: ${o}, Cloud timestamp: ${i}`),!o||new Date(i)>new Date(o))if(console.log("[DM] Cloud data is newer or local data is missing. Prompting user."),confirm("Найдены данные в облаке. Загрузить их? Это объединит вашу статистику и перезапишет остальные настройки (папки, чарты).")){const l=s.statistics,c=r.statistics,u=Array.isArray(c)?c:[],d=gA(l,u),f=s.rangeAccessStats,p=r.range_access_stats,y=typeof p=="object"&&p!==null&&!Array.isArray(p)?p:{},S=vA(f,y),x={version:$i,folders:r.folders||[],actionButtons:r.action_buttons||[],trainings:r.trainings||[],statistics:d,rangeAccessStats:S,charts:r.charts||[],editorSettings:r.editor_settings||{},timestamp:r.updated_at||new Date().toISOString()};console.log(`[DM] Applying cloud data: ${x.folders.length} folders, ${x.actionButtons.length} actions, ${x.trainings.length} trainings, ${x.statistics.length} training stats, ${Object.keys(x.rangeAccessStats).length} range access stats, ${x.charts.length} charts.`),fc(x)}else console.log("[DM] User chose not to load newer cloud data.");else console.log("[DM] Local data is up-to-date or newer. No automatic action taken.")}else{console.log("[DM] No data found in Supabase for this user. Prompting to sync local data.");const s=ji();s.folders.length>0||s.charts.length>0||s.statistics.length>0||Object.keys(s.rangeAccessStats).length>0?confirm("В облаке нет данных. Хотите сохранить текущие локальные данные в облако?")&&(console.log("[DM] User confirmed to sync local data to Supabase."),await qr(!1),alert("Данные успешно сохранены в облаке!")):console.log("[DM] No cloud data and no significant local data to upload.")}}catch(t){console.error("[DM] Unhandled error in loadDataFromSupabase:",t)}finally{console.log("[DM] loadDataFromSupabase function finished execution.")}},yA=async()=>{console.log("[DM] Fetching memory slots...");const{data:{user:e}}=await qe.auth.getUser(),t=Array.from({length:5},(i,l)=>({slot_index:l,name:"Пустой слот",data:null}));if(!e)return console.log("[DM] No user logged in, returning default slots."),t;const{data:n,error:r}=await qe.from("memory_slots").select("*").eq("user_id",e.id);if(r)return console.error("[DM] Error fetching memory slots:",r),t;const s=new Map(n.map(i=>[i.slot_index,i])),o=t.map((i,l)=>s.has(l)?{...i,...s.get(l)}:i);return console.log("[DM] Memory slots fetched and merged:",o),o},xA=async(e,t,n)=>{console.log(`[DM] Saving to memory slot ${e}...`);const{data:{user:r}}=await qe.auth.getUser();if(!r)return console.error("[DM] Cannot save to memory slot: no user logged in."),{success:!1,error:new Error("Пользователь не авторизован.")};const{error:s}=await qe.from("memory_slots").upsert({user_id:r.id,slot_index:e,name:t,data:n,updated_at:new Date().toISOString()},{onConflict:"user_id,slot_index"});return s?(console.error(`[DM] Error saving to memory slot ${e}:`,s),{success:!1,error:s}):(console.log(`[DM] Successfully saved to memory slot ${e}.`),{success:!0})},wA=async e=>{console.log(`[DM] Loading from memory slot ${e}...`);const{data:{user:t}}=await qe.auth.getUser();if(!t)return console.error("[DM] Cannot load from memory slot: no user logged in."),null;const{data:n,error:r}=await qe.from("memory_slots").select("data").eq("user_id",t.id).eq("slot_index",e).single();return r&&r.code!=="PGRST116"?(console.error(`[DM] Error loading from memory slot ${e}:`,r),null):n&&n.data?(console.log(`[DM] Data loaded from slot ${e}.`),n.data):(console.log(`[DM] No data found in memory slot ${e}.`),null)},SA=async(e,t)=>{console.log(`[DM] Renaming memory slot ${e} to "${t}"...`);const{data:{user:n}}=await qe.auth.getUser();if(!n)return console.error("[DM] Cannot rename memory slot: no user logged in."),{success:!1,error:new Error("Пользователь не авторизован.")};const{error:r}=await qe.from("memory_slots").upsert({user_id:n.id,slot_index:e,name:t,updated_at:new Date().toISOString()},{onConflict:"user_id,slot_index"});return r?(console.error(`[DM] Error renaming memory slot ${e}:`,r),{success:!1,error:r}):(console.log(`[DM] Successfully renamed memory slot ${e}.`),{success:!0})},bA=()=>{console.log("[DM] Clearing local data..."),localStorage.removeItem("poker-ranges-folders"),localStorage.removeItem("poker-ranges-actions"),localStorage.removeItem("training-sessions"),localStorage.removeItem("training-statistics"),localStorage.removeItem("poker-range-access-statistics"),localStorage.removeItem("userCharts"),localStorage.removeItem("poker-editor-settings"),localStorage.removeItem("poker-data-timestamp"),console.log("[DM] Local data cleared. Reloading window..."),window.location.reload()},H0=e=>{console.log("[DM] Exporting data for web:",e);const t=JSON.stringify(e,null,2),n=new Blob([t],{type:"application/json"}),r=URL.createObjectURL(n),s=document.createElement("a");s.href=r,s.download=`poker-settings-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(r),console.log("[DM] Web export initiated.")},jA=async e=>{console.log("[DM] Exporting data for Tauri:",e);try{const{save:t}=await un(async()=>{const{save:s}=await Promise.resolve().then(()=>Ci);return{save:s}},void 0),{writeTextFile:n}=await un(async()=>{const{writeTextFile:s}=await Promise.resolve().then(()=>Ci);return{writeTextFile:s}},void 0),r=await t({defaultPath:`poker-settings-backup-${new Date().toISOString().split("T")[0]}.json`,filters:[{name:"JSON",extensions:["json"]}]});if(r){const s=JSON.stringify(e,null,2);await n(r,s),alert("Настройки успешно экспортированы!"),console.log("[DM] Tauri export successful to:",r)}else console.log("[DM] Tauri export cancelled.")}catch(t){console.error("[DM] Failed to export settings via Tauri:",t),alert("Ошибка экспорта настроек.")}},_A=async e=>{console.log("[DM] Exporting data for Capacitor:",e);try{const{Filesystem:t,Directory:n,Encoding:r}=await un(async()=>{const{Filesystem:l,Directory:c,Encoding:u}=await Promise.resolve().then(()=>Ci);return{Filesystem:l,Directory:c,Encoding:u}},void 0);if((await t.requestPermissions()).publicStorage!=="granted"){alert("Для экспорта настроек необходимо разрешение на доступ к хранилищу."),console.warn("[DM] Capacitor export: Public storage permission not granted.");return}const o=JSON.stringify(e,null,2),i=`poker-settings-backup-${new Date().toISOString()}.json`;await t.writeFile({path:i,data:o,directory:n.Documents,encoding:r.UTF8}),alert(`Настройки сохранены в папку "Документы" под именем: ${i}`),console.log("[DM] Capacitor export successful to:",i)}catch(t){console.error("[DM] Failed to export settings via Capacitor:",t),alert("Ошибка экспорта настроек. Проверьте разрешения приложения.")}},W0=()=>{console.log("[DM] Initiating web import...");const e=document.createElement("input");e.type="file",e.accept="application/json",e.onchange=t=>{var r;const n=(r=t.target.files)==null?void 0:r[0];if(n){const s=new FileReader;s.onload=o=>{var i;try{const l=JSON.parse((i=o.target)==null?void 0:i.result);console.log("[DM] Web import: File parsed, applying data:",l),fc(l)}catch(l){console.error("[DM] Error parsing JSON file.",l),alert("Ошибка: Не удалось прочитать файл.")}},s.readAsText(n)}else console.log("[DM] Web import: No file selected.")},e.click()},CA=async()=>{console.log("[DM] Initiating Tauri import...");try{const{open:e}=await un(async()=>{const{open:r}=await Promise.resolve().then(()=>Ci);return{open:r}},void 0),{readTextFile:t}=await un(async()=>{const{readTextFile:r}=await Promise.resolve().then(()=>Ci);return{readTextFile:r}},void 0),n=await e({multiple:!1,filters:[{name:"JSON",extensions:["json"]}]});if(typeof n=="string"&&n){const r=await t(n),s=JSON.parse(r);console.log("[DM] Tauri import: File read and parsed, applying data:",s),fc(s)}else console.log("[DM] Tauri import cancelled or no file selected.")}catch(e){console.error("[DM] Failed to import settings via Tauri:",e),alert("Ошибка импорта настроек.")}},kA=()=>{console.log("[DM] Initiating Capacitor import (using web fallback)..."),W0()},NA=async(e=!0)=>{console.log("[DM] Resetting range access statistics..."),localStorage.setItem("poker-range-access-statistics",JSON.stringify({})),console.log("[DM] Local range access statistics cleared.");const{data:{user:t}}=await qe.auth.getUser();if(t){console.log("[DM] User is logged in, clearing range access stats in Supabase...");const n=new Date().toISOString(),{error:r}=await qe.from("user_data").update({range_access_stats:{},updated_at:n}).eq("user_id",t.id);r?(console.error("[DM] Error clearing range access stats in Supabase:",r),e&&alert("Ошибка при сбросе статистики в облаке. Локальная статистика сброшена.")):(console.log("[DM] Supabase range access stats cleared successfully."),localStorage.setItem("poker-data-timestamp",n),e&&alert("Статистика обращений к ренджам успешно сброшена."))}else e&&alert("Статистика обращений к ренджам успешно сброшена.")},vg=()=>{console.log("[DM] Exporting data to file...");const e=ji();B0()?jA(e):V0()?_A(e):H0(e)},yg=()=>{console.log("[DM] Importing data from file..."),B0()?CA():V0()?kA():W0()},xg=async()=>{console.log("[DM] Attempting to download cloud backup...");const{data:{user:e}={user:null}}=await qe.auth.getUser();if(!e){alert("Вы должны войти в систему, чтобы скачать бэкап из облака."),console.log("[DM] No user logged in for cloud backup download.");return}try{const{data:t,error:n}=await qe.from("user_data").select("*").eq("user_id",e.id).single();if(n&&n.code!=="PGRST116")throw n;if(t){console.log("[DM] Cloud backup data received:",t);const r={version:$i,folders:t.folders||[],actionButtons:t.action_buttons||[],trainings:t.trainings||[],statistics:t.statistics||[],rangeAccessStats:t.range_access_stats||{},charts:t.charts||[],editorSettings:t.editor_settings||{},timestamp:t.updated_at||new Date().toISOString()};H0(r),console.log("[DM] Cloud backup exported via web.")}else alert("В облаке нет данных для скачивания."),console.log("[DM] No cloud backup data found.")}catch(t){console.error("[DM] Error downloading cloud backup:",t),alert("Ошибка загрузки бэкапа из облака.")}},K0=h.createContext(void 0),Th=()=>{const e=h.useContext(K0);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},EA=({children:e})=>{const[t,n]=h.useState(null),[r,s]=h.useState(!0);h.useEffect(()=>{console.log("AuthContext: useEffect started."),s(!0);const{data:{subscription:c}}=qe.auth.onAuthStateChange((u,d)=>{if(console.log(`AuthContext: onAuthStateChange event: ${u}, session available: ${!!d}`),d!=null&&d.user){const f={id:d.user.id,email:d.user.email};n(f),console.log("AuthContext: User state set:",f),(u==="SIGNED_IN"||u==="INITIAL_SESSION")&&(console.log("AuthContext: Triggering non-blocking data load."),Fd(d.user))}else n(null),console.log("AuthContext: User state set to null."),u==="SIGNED_OUT"&&(console.log("AuthContext: Clearing local data due to SIGNED_OUT."),bA());s(!1),console.log("AuthContext: setLoading(false). UI should now be unblocked.")});return()=>{console.log("AuthContext: useEffect cleanup, unsubscribing from auth state changes."),c.unsubscribe()}},[]),h.useEffect(()=>{const c=()=>{t&&(console.log("AuthContext: Syncing data on page hide."),qr(!1))};return window.addEventListener("pagehide",c),()=>{window.removeEventListener("pagehide",c)}},[t]);const o=async(c,u)=>{console.log("AuthContext: Attempting to register user:",c);const{data:d,error:f}=await qe.auth.signUp({email:c,password:u});return f?(console.error("AuthContext: Registration error:",f.message),{success:!1,message:"Ошибка регистрации: "+f.message}):(d.user&&(console.log("AuthContext: User registered, syncing initial data."),await qr(!1)),console.log("AuthContext: Registration successful."),{success:!0})},i=async(c,u)=>{console.log("AuthContext: Attempting to log in user:",c);const{error:d}=await qe.auth.signInWithPassword({email:c,password:u});return d?(console.error("AuthContext: Login error:",d.message),{success:!1,message:"Ошибка входа: "+d.message}):(console.log("AuthContext: Login successful."),{success:!0})},l=async()=>{console.log("AuthContext: Attempting to log out user."),await qr(!1),console.log("AuthContext: Data synced before logout."),await qe.auth.signOut(),console.log("AuthContext: Logout initiated.")};return a.jsx(K0.Provider,{value:{user:t,login:i,register:o,logout:l,isAuthenticated:!!t,loading:r},children:e})};var hc="Tabs",[RA,SM]=ut(hc,[ho]),G0=ho(),[PA,Ah]=RA(hc),q0=h.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:o,orientation:i="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=cs(l),[f,p]=Gt({prop:r,onChange:s,defaultProp:o??"",caller:hc});return a.jsx(PA,{scope:n,baseId:Bt(),value:f,onValueChange:p,orientation:i,dir:d,activationMode:c,children:a.jsx(ae.div,{dir:d,"data-orientation":i,...u,ref:t})})});q0.displayName=hc;var Y0="TabsList",J0=h.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,o=Ah(Y0,n),i=G0(n);return a.jsx(ch,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:r,children:a.jsx(ae.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:t})})});J0.displayName=Y0;var X0="TabsTrigger",Q0=h.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...o}=e,i=Ah(X0,n),l=G0(n),c=tS(i.baseId,r),u=nS(i.baseId,r),d=r===i.value;return a.jsx(uh,{asChild:!0,...l,focusable:!s,active:d,children:a.jsx(ae.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...o,ref:t,onMouseDown:te(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?i.onValueChange(r):f.preventDefault()}),onKeyDown:te(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(r)}),onFocus:te(e.onFocus,()=>{const f=i.activationMode!=="manual";!d&&!s&&f&&i.onValueChange(r)})})})});Q0.displayName=X0;var Z0="TabsContent",eS=h.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:o,...i}=e,l=Ah(Z0,n),c=tS(l.baseId,r),u=nS(l.baseId,r),d=r===l.value,f=h.useRef(d);return h.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),a.jsx(qt,{present:s||d,children:({present:p})=>a.jsx(ae.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:p&&o})})});eS.displayName=Z0;function tS(e,t){return`${e}-trigger-${t}`}function nS(e,t){return`${e}-content-${t}`}var TA=q0,rS=J0,sS=Q0,oS=eS;const AA=TA,iS=h.forwardRef(({className:e,...t},n)=>a.jsx(rS,{ref:n,className:L("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));iS.displayName=rS.displayName;const zd=h.forwardRef(({className:e,...t},n)=>a.jsx(sS,{ref:n,className:L("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));zd.displayName=sS.displayName;const Ud=h.forwardRef(({className:e,...t},n)=>a.jsx(oS,{ref:n,className:L("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Ud.displayName=oS.displayName;const be=h.forwardRef(({className:e,type:t,...n},r)=>a.jsx("input",{type:t,className:L("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));be.displayName="Input";var IA="Label",aS=h.forwardRef((e,t)=>a.jsx(ae.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));aS.displayName=IA;var lS=aS;const OA=ax("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),W=h.forwardRef(({className:e,...t},n)=>a.jsx(lS,{ref:n,className:L(OA(),e),...t}));W.displayName=lS.displayName;const DA=1,MA=1e6;let mu=0;function LA(){return mu=(mu+1)%Number.MAX_SAFE_INTEGER,mu.toString()}const gu=new Map,wg=e=>{if(gu.has(e))return;const t=setTimeout(()=>{gu.delete(e),ei({type:"REMOVE_TOAST",toastId:e})},MA);gu.set(e,t)},$A=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,DA)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?wg(n):e.toasts.forEach(r=>{wg(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Oa=[];let Da={toasts:[]};function ei(e){Da=$A(Da,e),Oa.forEach(t=>{t(Da)})}function FA({...e}){const t=LA(),n=s=>ei({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>ei({type:"DISMISS_TOAST",toastId:t});return ei({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function cS(){const[e,t]=h.useState(Da);return h.useEffect(()=>(Oa.push(t),()=>{const n=Oa.indexOf(t);n>-1&&Oa.splice(n,1)}),[e]),{...e,toast:FA,dismiss:n=>ei({type:"DISMISS_TOAST",toastId:n})}}const zA=({open:e,onOpenChange:t})=>{const[n,r]=h.useState(""),[s,o]=h.useState(""),[i,l]=h.useState(!1),{login:c,register:u}=Th(),{toast:d}=cS(),f=async x=>{if(x.preventDefault(),!n.trim()||!s.trim()){d({title:"Ошибка",description:"Заполните все поля",variant:"destructive"});return}l(!0);try{const b=await c(n.trim(),s);b.success?(d({title:"Успешно",description:"Вы вошли в систему"}),t(!1),y()):d({title:"Ошибка",description:b.message,variant:"destructive"})}catch{d({title:"Ошибка",description:"Произошла ошибка. Попробуйте снова.",variant:"destructive"})}finally{l(!1)}},p=async x=>{if(x.preventDefault(),!n.trim()||!s.trim()){d({title:"Ошибка",description:"Заполните все поля",variant:"destructive"});return}l(!0);try{const b=await u(n.trim(),s);b.success?(d({title:"Успешно",description:"Аккаунт создан. Проверьте почту для подтверждения."}),t(!1),y()):d({title:"Ошибка",description:b.message,variant:"destructive"})}catch{d({title:"Ошибка",description:"Произошла ошибка. Попробуйте снова.",variant:"destructive"})}finally{l(!1)}},y=()=>{r(""),o("")},S=()=>{y()};return a.jsx(Mt,{open:e,onOpenChange:t,children:a.jsxs(_t,{className:"sm:max-w-md",children:[a.jsxs(Ct,{children:[a.jsx(kt,{children:"Доступ к аккаунту"}),a.jsx(Qn,{children:"Войдите или зарегистрируйтесь, чтобы сохранять свои диапазоны в облаке."})]}),a.jsxs(AA,{defaultValue:"login",className:"w-full",onValueChange:S,children:[a.jsxs(iS,{className:"grid w-full grid-cols-2",children:[a.jsx(zd,{value:"login",children:"Вход"}),a.jsx(zd,{value:"register",children:"Регистрация"})]}),a.jsx(Ud,{value:"login",children:a.jsxs("form",{onSubmit:f,className:"space-y-4 pt-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(W,{htmlFor:"login-email",children:"Email"}),a.jsx(be,{id:"login-email",type:"email",value:n,onChange:x=>r(x.target.value),placeholder:"Введите ваш email",disabled:i})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(W,{htmlFor:"login-password",children:"Пароль"}),a.jsx(be,{id:"login-password",type:"password",value:s,onChange:x=>o(x.target.value),placeholder:"Введите пароль",disabled:i})]}),a.jsx(X,{type:"submit",disabled:i,className:"w-full",children:i?"Загрузка...":"Войти"})]})}),a.jsx(Ud,{value:"register",children:a.jsxs("form",{onSubmit:p,className:"space-y-4 pt-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(W,{htmlFor:"register-email",children:"Email"}),a.jsx(be,{id:"register-email",type:"email",value:n,onChange:x=>r(x.target.value),placeholder:"Введите ваш email",disabled:i})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(W,{htmlFor:"register-password",children:"Пароль"}),a.jsx(be,{id:"register-password",type:"password",value:s,onChange:x=>o(x.target.value),placeholder:"Придумайте пароль",disabled:i})]}),a.jsx(X,{type:"submit",disabled:i,className:"w-full",children:i?"Загрузка...":"Зарегистрироваться"})]})})]})]})})};function pc(e){const t=h.useRef({value:e,previous:e});return h.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Ih="Radio",[UA,uS]=ut(Ih),[BA,VA]=UA(Ih),dS=h.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:s=!1,required:o,disabled:i,value:l="on",onCheck:c,form:u,...d}=e,[f,p]=h.useState(null),y=me(t,b=>p(b)),S=h.useRef(!1),x=f?u||!!f.closest("form"):!0;return a.jsxs(BA,{scope:n,checked:s,disabled:i,children:[a.jsx(ae.button,{type:"button",role:"radio","aria-checked":s,"data-state":mS(s),"data-disabled":i?"":void 0,disabled:i,value:l,...d,ref:y,onClick:te(e.onClick,b=>{s||c==null||c(),x&&(S.current=b.isPropagationStopped(),S.current||b.stopPropagation())})}),x&&a.jsx(pS,{control:f,bubbles:!S.current,name:r,value:l,checked:s,required:o,disabled:i,form:u,style:{transform:"translateX(-100%)"}})]})});dS.displayName=Ih;var fS="RadioIndicator",hS=h.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...s}=e,o=VA(fS,n);return a.jsx(qt,{present:r||o.checked,children:a.jsx(ae.span,{"data-state":mS(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:t})})});hS.displayName=fS;var HA="RadioBubbleInput",pS=h.forwardRef(({__scopeRadio:e,control:t,checked:n,bubbles:r=!0,...s},o)=>{const i=h.useRef(null),l=me(i,o),c=pc(n),u=Hl(t);return h.useEffect(()=>{const d=i.current;if(!d)return;const f=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&y){const S=new Event("click",{bubbles:r});y.call(d,n),d.dispatchEvent(S)}},[c,n,r]),a.jsx(ae.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});pS.displayName=HA;function mS(e){return e?"checked":"unchecked"}var WA=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],mc="RadioGroup",[KA,bM]=ut(mc,[ho,uS]),gS=ho(),vS=uS(),[GA,qA]=KA(mc),yS=h.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:s,value:o,required:i=!1,disabled:l=!1,orientation:c,dir:u,loop:d=!0,onValueChange:f,...p}=e,y=gS(n),S=cs(u),[x,b]=Gt({prop:o,defaultProp:s??null,onChange:f,caller:mc});return a.jsx(GA,{scope:n,name:r,required:i,disabled:l,value:x,onValueChange:b,children:a.jsx(ch,{asChild:!0,...y,orientation:c,dir:S,loop:d,children:a.jsx(ae.div,{role:"radiogroup","aria-required":i,"aria-orientation":c,"data-disabled":l?"":void 0,dir:S,...p,ref:t})})})});yS.displayName=mc;var xS="RadioGroupItem",wS=h.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...s}=e,o=qA(xS,n),i=o.disabled||r,l=gS(n),c=vS(n),u=h.useRef(null),d=me(t,u),f=o.value===s.value,p=h.useRef(!1);return h.useEffect(()=>{const y=x=>{WA.includes(x.key)&&(p.current=!0)},S=()=>p.current=!1;return document.addEventListener("keydown",y),document.addEventListener("keyup",S),()=>{document.removeEventListener("keydown",y),document.removeEventListener("keyup",S)}},[]),a.jsx(uh,{asChild:!0,...l,focusable:!i,active:f,children:a.jsx(dS,{disabled:i,required:o.required,checked:f,...c,...s,name:o.name,ref:d,onCheck:()=>o.onValueChange(s.value),onKeyDown:te(y=>{y.key==="Enter"&&y.preventDefault()}),onFocus:te(s.onFocus,()=>{var y;p.current&&((y=u.current)==null||y.click())})})})});wS.displayName=xS;var YA="RadioGroupIndicator",SS=h.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,s=vS(n);return a.jsx(hS,{...s,...r,ref:t})});SS.displayName=YA;var bS=yS,jS=wS,JA=SS;const at=h.forwardRef(({className:e,...t},n)=>a.jsx(bS,{className:L("grid gap-2",e),...t,ref:n}));at.displayName=bS.displayName;const fe=h.forwardRef(({className:e,...t},n)=>a.jsx(jS,{ref:n,className:L("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:a.jsx(JA,{className:"flex items-center justify-center",children:a.jsx(Yw,{className:"h-2.5 w-2.5 fill-current text-current"})})}));fe.displayName=jS.displayName;const gn={cellBackgroundColor:{type:"default",customColor:"#374151"},matrixBackgroundColor:{type:"dark",customColor:"#111827"},cellBorderRadius:"md",cellSpacing:"md",font:{size:"m",customSize:"14px",color:"white",weight:"normal",inactiveFontTransparent:!1}},_S=h.createContext(void 0),En=()=>{const e=h.useContext(_S);if(!e)throw new Error("useRangeContext must be used within a RangeProvider");return e},XA=({children:e})=>{const[t,n]=h.useState(()=>{const u=localStorage.getItem("poker-ranges-folders");return u?JSON.parse(u):[{id:"1",name:"Folder",ranges:[{id:"1",name:"Range",hands:{}}]}]}),[r,s]=h.useState(()=>{const u=localStorage.getItem("poker-ranges-actions");return u?JSON.parse(u).map(f=>f.type?f:{...f,type:"simple"}):[{type:"simple",id:"raise",name:"Raise",color:"#8b5cf6"}]}),[o,i]=h.useState(()=>{try{const u=localStorage.getItem("poker-editor-settings"),d=u?JSON.parse(u):gn,f={...gn,...d};return f.cellBackgroundColor={...gn.cellBackgroundColor,...d.cellBackgroundColor},f.matrixBackgroundColor={...gn.matrixBackgroundColor,...d.matrixBackgroundColor},f.font={...gn.font,...d.font},["s","m","l","xl","custom"].includes(f.font.size)||(f.font.size=gn.font.size),f.font.size==="custom"&&!f.font.customSize&&(f.font.customSize=gn.font.customSize),["normal","bold"].includes(f.font.weight)||(f.font.weight=gn.font.weight),typeof f.font.inactiveFontTransparent>"u"&&(f.font.inactiveFontTransparent=gn.font.inactiveFontTransparent),f}catch{return gn}}),[l,c]=h.useState("#6b7280");return h.useEffect(()=>{localStorage.setItem("poker-ranges-folders",JSON.stringify(t))},[t]),h.useEffect(()=>{localStorage.setItem("poker-ranges-actions",JSON.stringify(r))},[r]),h.useEffect(()=>{localStorage.setItem("poker-editor-settings",JSON.stringify(o))},[o]),h.useEffect(()=>{const u=o.matrixBackgroundColor.type,d=o.cellBackgroundColor.type;let f="#6b7280";u==="dark"&&d==="default"?f="#161b26":u==="white"&&d==="default"?f="#8f949d":u==="white"&&d==="white"&&(f="#ffffff"),c(f)},[o]),a.jsx(_S.Provider,{value:{folders:t,actionButtons:r,editorSettings:o,setFolders:n,setActionButtons:s,setEditorSettings:i,foldColor:l},children:e})};var gc="Checkbox",[QA,jM]=ut(gc),[ZA,Oh]=QA(gc);function eI(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:s,disabled:o,form:i,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[p,y]=Gt({prop:n,defaultProp:s??!1,onChange:c,caller:gc}),[S,x]=h.useState(null),[b,m]=h.useState(null),v=h.useRef(!1),g=S?!!i||!!S.closest("form"):!0,w={checked:p,disabled:o,setChecked:y,control:S,setControl:x,name:l,form:i,value:d,hasConsumerStoppedPropagationRef:v,required:u,defaultChecked:jr(s)?!1:s,isFormControl:g,bubbleInput:b,setBubbleInput:m};return a.jsx(ZA,{scope:t,...w,children:tI(f)?f(w):r})}var CS="CheckboxTrigger",kS=h.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},s)=>{const{control:o,value:i,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:p,isFormControl:y,bubbleInput:S}=Oh(CS,e),x=me(s,d),b=h.useRef(c);return h.useEffect(()=>{const m=o==null?void 0:o.form;if(m){const v=()=>f(b.current);return m.addEventListener("reset",v),()=>m.removeEventListener("reset",v)}},[o,f]),a.jsx(ae.button,{type:"button",role:"checkbox","aria-checked":jr(c)?"mixed":c,"aria-required":u,"data-state":TS(c),"data-disabled":l?"":void 0,disabled:l,value:i,...r,ref:x,onKeyDown:te(t,m=>{m.key==="Enter"&&m.preventDefault()}),onClick:te(n,m=>{f(v=>jr(v)?!0:!v),S&&y&&(p.current=m.isPropagationStopped(),p.current||m.stopPropagation())})})});kS.displayName=CS;var Dh=h.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:o,required:i,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return a.jsx(eI,{__scopeCheckbox:n,checked:s,defaultChecked:o,disabled:l,required:i,onCheckedChange:u,name:r,form:d,value:c,internal_do_not_use_render:({isFormControl:p})=>a.jsxs(a.Fragment,{children:[a.jsx(kS,{...f,ref:t,__scopeCheckbox:n}),p&&a.jsx(PS,{__scopeCheckbox:n})]})})});Dh.displayName=gc;var NS="CheckboxIndicator",ES=h.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...s}=e,o=Oh(NS,n);return a.jsx(qt,{present:r||jr(o.checked)||o.checked===!0,children:a.jsx(ae.span,{"data-state":TS(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});ES.displayName=NS;var RS="CheckboxBubbleInput",PS=h.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:o,defaultChecked:i,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:p,setBubbleInput:y}=Oh(RS,e),S=me(n,y),x=pc(o),b=Hl(r);h.useEffect(()=>{const v=p;if(!v)return;const g=window.HTMLInputElement.prototype,k=Object.getOwnPropertyDescriptor(g,"checked").set,C=!s.current;if(x!==o&&k){const j=new Event("click",{bubbles:C});v.indeterminate=jr(o),k.call(v,jr(o)?!1:o),v.dispatchEvent(j)}},[p,x,o,s]);const m=h.useRef(jr(o)?!1:o);return a.jsx(ae.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??m.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:S,style:{...t.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});PS.displayName=RS;function tI(e){return typeof e=="function"}function jr(e){return e==="indeterminate"}function TS(e){return jr(e)?"indeterminate":e?"checked":"unchecked"}const Vn=h.forwardRef(({className:e,...t},n)=>a.jsx(Dh,{ref:n,className:L("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:a.jsx(ES,{className:L("flex items-center justify-center text-current"),children:a.jsx(Ql,{className:"h-4 w-4"})})}));Vn.displayName=Dh.displayName;const Sg=({isOpen:e,onOpenChange:t,isMobileMode:n})=>{const{editorSettings:r,setEditorSettings:s}=En(),o=(c,u)=>{s(d=>({...d,[c]:u}))},i=(c,u)=>{s(d=>({...d,font:{...d.font,[c]:u}}))},l=c=>{s(u=>({...u,font:{...u.font,customSize:c}}))};return a.jsx(Mt,{open:e,onOpenChange:t,children:a.jsxs(_t,{className:L("max-h-[90dvh] overflow-y-auto sm:max-w-sm",n&&"h-full max-h-full"),mobileFullscreen:n,children:[a.jsxs(Ct,{children:[a.jsx(kt,{children:"Настройки редактора"}),a.jsx(Qn,{children:"Настройте внешний вид редактора диапазонов."})]}),a.jsxs("div",{className:"py-0 space-y-1.5",children:[" ",a.jsxs("div",{className:"space-y-1.5",children:[" ",a.jsx("h3",{className:"text-lg font-medium",children:"Фон за матрицей"}),a.jsxs(at,{value:r.matrixBackgroundColor.type,onValueChange:c=>s(u=>({...u,matrixBackgroundColor:{...u.matrixBackgroundColor,type:c}})),className:"flex flex-wrap gap-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fe,{value:"dark",id:"bg-dark"}),a.jsx(W,{htmlFor:"bg-dark",children:"Темный"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fe,{value:"white",id:"bg-white"}),a.jsx(W,{htmlFor:"bg-white",children:"Белый"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fe,{value:"custom",id:"bg-custom"}),a.jsx(W,{htmlFor:"bg-custom",children:"На выбор"})]})]}),r.matrixBackgroundColor.type==="custom"&&a.jsxs("div",{className:"flex items-center gap-4 pl-6 pt-0.5",children:[" ",a.jsx(W,{htmlFor:"custom-bg-color-picker",className:"sr-only",children:"Выбор цвета"}),a.jsx(be,{id:"custom-bg-color-picker",type:"color",className:"p-0 h-10 w-10 cursor-pointer rounded-md border-none",value:r.matrixBackgroundColor.customColor,onChange:c=>s(u=>({...u,matrixBackgroundColor:{...u.matrixBackgroundColor,customColor:c.target.value}}))}),a.jsx("span",{className:"text-sm text-muted-foreground",children:"Выберите свой цвет фона."})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[" ",a.jsx("h3",{className:"text-lg font-medium",children:"Фон ячеек матрицы"}),a.jsxs(at,{value:r.cellBackgroundColor.type,onValueChange:c=>s(u=>({...u,cellBackgroundColor:{...u.cellBackgroundColor,type:c}})),className:"flex flex-wrap gap-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fe,{value:"default",id:"color-default"}),a.jsx(W,{htmlFor:"color-default",children:"Темный"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fe,{value:"white",id:"color-white"}),a.jsx(W,{htmlFor:"color-white",children:"Белый"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fe,{value:"custom",id:"color-custom"}),a.jsx(W,{htmlFor:"color-custom",children:"На выбор"})]})]}),r.cellBackgroundColor.type==="custom"&&a.jsxs("div",{className:"flex items-center gap-4 pl-6 pt-0.5",children:[" ",a.jsx(W,{htmlFor:"custom-color-picker",className:"sr-only",children:"Выбор цвета"}),a.jsx(be,{id:"custom-color-picker",type:"color",className:"p-0 h-10 w-10 cursor-pointer rounded-md border-none",value:r.cellBackgroundColor.customColor,onChange:c=>s(u=>({...u,cellBackgroundColor:{...u.cellBackgroundColor,customColor:c.target.value}}))}),a.jsx("span",{className:"text-sm text-muted-foreground",children:"Выберите свой цвет фона."})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[" ",a.jsx("h3",{className:"text-lg font-medium",children:"Скругление ячеек"}),a.jsxs(at,{value:r.cellBorderRadius,onValueChange:c=>o("cellBorderRadius",c),className:"flex flex-wrap gap-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fe,{value:"none",id:"radius-none"}),a.jsx(W,{htmlFor:"radius-none",children:"Нет"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fe,{value:"sm",id:"radius-sm"}),a.jsx(W,{htmlFor:"radius-sm",children:"S"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fe,{value:"md",id:"radius-md"}),a.jsx(W,{htmlFor:"radius-md",children:"M"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fe,{value:"lg",id:"radius-lg"}),a.jsx(W,{htmlFor:"radius-lg",children:"L"})]})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[" ",a.jsx("h3",{className:"text-lg font-medium",children:"Расстояние между ячейками"}),a.jsxs(at,{value:r.cellSpacing,onValueChange:c=>o("cellSpacing",c),className:"flex flex-wrap gap-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fe,{value:"none",id:"spacing-none"}),a.jsx(W,{htmlFor:"spacing-none",children:"0"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fe,{value:"sm",id:"spacing-sm"}),a.jsx(W,{htmlFor:"spacing-sm",children:"S"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fe,{value:"md",id:"spacing-md"}),a.jsx(W,{htmlFor:"spacing-md",children:"M"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fe,{value:"lg",id:"spacing-lg"}),a.jsx(W,{htmlFor:"spacing-lg",children:"L"})]})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[" ",a.jsx("h3",{className:"text-lg font-medium",children:"Шрифт ячеек"}),a.jsxs("div",{className:"space-y-1.5",children:[" ",a.jsx(W,{children:"Размер"}),a.jsxs(at,{value:r.font.size,onValueChange:c=>i("size",c),className:"flex flex-wrap gap-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fe,{value:"s",id:"font-s"}),a.jsx(W,{htmlFor:"font-s",children:"S"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fe,{value:"m",id:"font-m"}),a.jsx(W,{htmlFor:"font-m",children:"M"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fe,{value:"l",id:"font-l"}),a.jsx(W,{htmlFor:"font-l",children:"L"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fe,{value:"xl",id:"font-xl"}),a.jsx(W,{htmlFor:"font-xl",children:"XL"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fe,{value:"custom",id:"font-custom"}),a.jsx(W,{htmlFor:"font-custom",children:"Свой"})]})]}),r.font.size==="custom"&&a.jsxs("div",{className:"flex items-center gap-4 pl-6 pt-0.5",children:[" ",a.jsx(W,{htmlFor:"custom-font-size-input",className:"sr-only",children:"Введите размер шрифта"}),a.jsx(be,{id:"custom-font-size-input",type:"text",className:"w-24",value:r.font.customSize,onChange:c=>l(c.target.value),placeholder:"Например, 16px"}),a.jsx("span",{className:"text-sm text-muted-foreground",children:"Введите свой размер (например, 14px, 1em)."})]})]}),a.jsxs("div",{className:"space-y-0.5",children:[" ",a.jsx(W,{children:"Цвет"}),a.jsxs(at,{value:r.font.color,onValueChange:c=>i("color",c),className:"flex flex-wrap gap-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fe,{value:"auto",id:"color-auto"}),a.jsx(W,{htmlFor:"color-auto",children:"Авто"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fe,{value:"white",id:"color-white-font"}),a.jsx(W,{htmlFor:"color-white-font",children:"Белый"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fe,{value:"black",id:"color-black-font"}),a.jsx(W,{htmlFor:"color-black-font",children:"Черный"})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2 pt-1.5",children:[a.jsx(Vn,{id:"inactive-font-transparent",checked:r.font.inactiveFontTransparent,onCheckedChange:c=>i("inactiveFontTransparent",c)}),a.jsx(W,{htmlFor:"inactive-font-transparent",children:"50% прозрачности для неактивных"})]}),a.jsxs("div",{className:"space-y-0.5",children:[" ",a.jsx(W,{children:"Насыщенность"}),a.jsxs(at,{value:r.font.weight,onValueChange:c=>i("weight",c),className:"flex flex-wrap gap-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fe,{value:"normal",id:"weight-normal"}),a.jsx(W,{htmlFor:"weight-normal",children:"Обычный"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fe,{value:"bold",id:"weight-bold"}),a.jsx(W,{htmlFor:"weight-bold",children:"Жирный"})]})]})]})]})]}),a.jsx(Xn,{className:L(n?"justify-end":"justify-center sm:justify-center"),children:a.jsx(X,{type:"button",onClick:()=>t(!1),children:"Сохранить"})})]})})},vu=768;function Zn(){const[e,t]=h.useState(void 0);return h.useEffect(()=>{const n=window.matchMedia(`(max-width: ${vu-1}px)`),r=()=>{t(window.innerWidth<vu)};return n.addEventListener("change",r),t(window.innerWidth<vu),()=>n.removeEventListener("change",r)},[]),!!e}function nI(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const AS=q.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),Fi=()=>{const e=q.useContext(AS);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};nI(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,-100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(-100%,0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(100%,0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,100%,0)}}@keyframes slideFromTop{from{transform:translate3d(0,-100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,-100%,0)}}@keyframes slideFromLeft{from{transform:translate3d(-100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(-100%,0,0)}}@keyframes slideFromRight{from{transform:translate3d(100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(100%,0,0)}}`);const rI=24,sI=typeof window<"u"?h.useLayoutEffect:h.useEffect;function bg(...e){return(...t)=>{for(let n of e)typeof n=="function"&&n(...t)}}function oI(){return Mh(/^Mac/)}function iI(){return Mh(/^iPhone/)}function jg(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function aI(){return Mh(/^iPad/)||oI()&&navigator.maxTouchPoints>1}function IS(){return iI()||aI()}function Mh(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const yu=typeof document<"u"&&window.visualViewport;function _g(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function OS(e){for(_g(e)&&(e=e.parentElement);e&&!_g(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const lI=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let ma=0,xu;function cI(e={}){let{isDisabled:t}=e;sI(()=>{if(!t)return ma++,ma===1&&IS()&&(xu=uI()),()=>{ma--,ma===0&&(xu==null||xu())}},[t])}function uI(){let e,t=0,n=f=>{e=OS(f.target),!(e===document.documentElement&&e===document.body)&&(t=f.changedTouches[0].pageY)},r=f=>{if(!e||e===document.documentElement||e===document.body){f.preventDefault();return}let p=f.changedTouches[0].pageY,y=e.scrollTop,S=e.scrollHeight-e.clientHeight;S!==0&&((y<=0&&p>t||y>=S&&p<t)&&f.preventDefault(),t=p)},s=f=>{let p=f.target;Bd(p)&&p!==document.activeElement&&(f.preventDefault(),p.style.transform="translateY(-2000px)",p.focus(),requestAnimationFrame(()=>{p.style.transform=""}))},o=f=>{let p=f.target;Bd(p)&&(p.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{p.style.transform="",yu&&(yu.height<window.innerHeight?requestAnimationFrame(()=>{Cg(p)}):yu.addEventListener("resize",()=>Cg(p),{once:!0}))}))},i=()=>{window.scrollTo(0,0)},l=window.pageXOffset,c=window.pageYOffset,u=bg(dI(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let d=bg(To(document,"touchstart",n,{passive:!1,capture:!0}),To(document,"touchmove",r,{passive:!1,capture:!0}),To(document,"touchend",s,{passive:!1,capture:!0}),To(document,"focus",o,!0),To(window,"scroll",i));return()=>{u(),d(),window.scrollTo(l,c)}}function dI(e,t,n){let r=e.style[t];return e.style[t]=n,()=>{e.style[t]=r}}function To(e,t,n,r){return e.addEventListener(t,n,r),()=>{e.removeEventListener(t,n,r)}}function Cg(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let n=OS(e);if(n!==document.documentElement&&n!==document.body&&n!==e){let r=n.getBoundingClientRect().top,s=e.getBoundingClientRect().top,o=e.getBoundingClientRect().bottom;const i=n.getBoundingClientRect().bottom+rI;o>i&&(n.scrollTop+=s-r)}e=n.parentElement}}function Bd(e){return e instanceof HTMLInputElement&&!lI.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function fI(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function hI(...e){return t=>e.forEach(n=>fI(n,t))}function DS(...e){return h.useCallback(hI(...e),e)}const MS=new WeakMap;function He(e,t,n=!1){if(!e||!(e instanceof HTMLElement))return;let r={};Object.entries(t).forEach(([s,o])=>{if(s.startsWith("--")){e.style.setProperty(s,o);return}r[s]=e.style[s],e.style[s]=o}),!n&&MS.set(e,r)}function pI(e,t){if(!e||!(e instanceof HTMLElement))return;let n=MS.get(e);n&&(e.style[t]=n[t])}const We=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function ga(e,t){if(!e)return null;const n=window.getComputedStyle(e),r=n.transform||n.webkitTransform||n.mozTransform;let s=r.match(/^matrix3d\((.+)\)$/);return s?parseFloat(s[1].split(", ")[We(t)?13:12]):(s=r.match(/^matrix\((.+)\)$/),s?parseFloat(s[1].split(", ")[We(t)?5:4]):null)}function mI(e){return 8*(Math.log(e+1)-2)}function wu(e,t){if(!e)return()=>{};const n=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=n}}function gI(...e){return(...t)=>{for(const n of e)typeof n=="function"&&n(...t)}}const Me={DURATION:.5,EASE:[.32,.72,0,1]},LS=.4,vI=.25,yI=100,$S=8,Lr=16,Vd=26,Su="vaul-dragging";function FS(e){const t=q.useRef(e);return q.useEffect(()=>{t.current=e}),q.useMemo(()=>(...n)=>t.current==null?void 0:t.current.call(t,...n),[])}function xI({defaultProp:e,onChange:t}){const n=q.useState(e),[r]=n,s=q.useRef(r),o=FS(t);return q.useEffect(()=>{s.current!==r&&(o(r),s.current=r)},[r,s,o]),n}function zS({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,s]=xI({defaultProp:t,onChange:n}),o=e!==void 0,i=o?e:r,l=FS(n),c=q.useCallback(u=>{if(o){const f=typeof u=="function"?u(e):u;f!==e&&l(f)}else s(u)},[o,e,s,l]);return[i,c]}function wI({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:n,drawerRef:r,overlayRef:s,fadeFromIndex:o,onSnapPointChange:i,direction:l="bottom",container:c,snapToSequentialPoint:u}){const[d,f]=zS({prop:e,defaultProp:n==null?void 0:n[0],onChange:t}),[p,y]=q.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);q.useEffect(()=>{function j(){y({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",j),()=>window.removeEventListener("resize",j)},[]);const S=q.useMemo(()=>d===(n==null?void 0:n[n.length-1])||null,[n,d]),x=q.useMemo(()=>n==null?void 0:n.findIndex(j=>j===d),[n,d]),b=n&&n.length>0&&(o||o===0)&&!Number.isNaN(o)&&n[o]===d||!n,m=q.useMemo(()=>{const j=c?{width:c.getBoundingClientRect().width,height:c.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var _;return(_=n==null?void 0:n.map(N=>{const R=typeof N=="string";let P=0;if(R&&(P=parseInt(N,10)),We(l)){const A=R?P:p?N*j.height:0;return p?l==="bottom"?j.height-A:-j.height+A:A}const O=R?P:p?N*j.width:0;return p?l==="right"?j.width-O:-j.width+O:O}))!=null?_:[]},[n,p,c]),v=q.useMemo(()=>x!==null?m==null?void 0:m[x]:null,[m,x]),g=q.useCallback(j=>{var _;const N=(_=m==null?void 0:m.findIndex(R=>R===j))!=null?_:null;i(N),He(r.current,{transition:`transform ${Me.DURATION}s cubic-bezier(${Me.EASE.join(",")})`,transform:We(l)?`translate3d(0, ${j}px, 0)`:`translate3d(${j}px, 0, 0)`}),m&&N!==m.length-1&&N!==o&&N<o?He(s.current,{transition:`opacity ${Me.DURATION}s cubic-bezier(${Me.EASE.join(",")})`,opacity:"0"}):He(s.current,{transition:`opacity ${Me.DURATION}s cubic-bezier(${Me.EASE.join(",")})`,opacity:"1"}),f(n==null?void 0:n[Math.max(N,0)])},[r.current,n,m,o,s,f]);q.useEffect(()=>{if(d||e){var j;const _=(j=n==null?void 0:n.findIndex(N=>N===e||N===d))!=null?j:-1;m&&_!==-1&&typeof m[_]=="number"&&g(m[_])}},[d,e,n,m,g]);function w({draggedDistance:j,closeDrawer:_,velocity:N,dismissible:R}){if(o===void 0)return;const P=l==="bottom"||l==="right"?(v??0)-j:(v??0)+j,O=x===o-1,A=x===0,z=j>0;if(O&&He(s.current,{transition:`opacity ${Me.DURATION}s cubic-bezier(${Me.EASE.join(",")})`}),!u&&N>2&&!z){R?_():g(m[0]);return}if(!u&&N>2&&z&&m&&n){g(m[n.length-1]);return}const U=m==null?void 0:m.reduce((B,T)=>typeof B!="number"||typeof T!="number"?B:Math.abs(T-P)<Math.abs(B-P)?T:B),H=We(l)?window.innerHeight:window.innerWidth;if(N>LS&&Math.abs(j)<H*.4){const B=z?1:-1;if(B>0&&S){g(m[n.length-1]);return}if(A&&B<0&&R&&_(),x===null)return;g(m[x+B]);return}g(U)}function k({draggedDistance:j}){if(v===null)return;const _=l==="bottom"||l==="right"?v-j:v+j;(l==="bottom"||l==="right")&&_<m[m.length-1]||(l==="top"||l==="left")&&_>m[m.length-1]||He(r.current,{transform:We(l)?`translate3d(0, ${_}px, 0)`:`translate3d(${_}px, 0, 0)`})}function C(j,_){if(!n||typeof x!="number"||!m||o===void 0)return null;const N=x===o-1;if(x>=o&&_)return 0;if(N&&!_)return 1;if(!b&&!N)return null;const P=N?x+1:x-1,O=N?m[P]-m[P-1]:m[P+1]-m[P],A=j/Math.abs(O);return N?1-A:A}return{isLastSnapPoint:S,activeSnapPoint:d,shouldFade:b,getPercentageDragged:C,setActiveSnapPoint:f,activeSnapPointIndex:x,onRelease:w,onDrag:k,snapPointsOffset:m}}const SI=()=>()=>{};function bI(){const{direction:e,isOpen:t,shouldScaleBackground:n,setBackgroundColorOnScale:r,noBodyStyles:s}=Fi(),o=q.useRef(null),i=h.useMemo(()=>document.body.style.backgroundColor,[]);function l(){return(window.innerWidth-Vd)/window.innerWidth}q.useEffect(()=>{if(t&&n){o.current&&clearTimeout(o.current);const c=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!c)return;gI(r&&!s?wu(document.body,{background:"black"}):SI,wu(c,{transformOrigin:We(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${Me.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Me.EASE.join(",")})`}));const u=wu(c,{borderRadius:`${$S}px`,overflow:"hidden",...We(e)?{transform:`scale(${l()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${l()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{u(),o.current=window.setTimeout(()=>{i?document.body.style.background=i:document.body.style.removeProperty("background")},Me.DURATION*1e3)}}},[t,n,i])}let Ao=null;function jI({isOpen:e,modal:t,nested:n,hasBeenOpened:r,preventScrollRestoration:s,noBodyStyles:o}){const[i,l]=q.useState(()=>typeof window<"u"?window.location.href:""),c=q.useRef(0),u=q.useCallback(()=>{if(jg()&&Ao===null&&e&&!o){Ao={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:f,innerHeight:p}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-c.current}px`,left:`${-f}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const y=p-window.innerHeight;y&&c.current>=p&&(document.body.style.top=`${-(c.current+y)}px`)}),300)}},[e]),d=q.useCallback(()=>{if(jg()&&Ao!==null&&!o){const f=-parseInt(document.body.style.top,10),p=-parseInt(document.body.style.left,10);Object.assign(document.body.style,Ao),window.requestAnimationFrame(()=>{if(s&&i!==window.location.href){l(window.location.href);return}window.scrollTo(p,f)}),Ao=null}},[i]);return q.useEffect(()=>{function f(){c.current=window.scrollY}return f(),window.addEventListener("scroll",f),()=>{window.removeEventListener("scroll",f)}},[]),q.useEffect(()=>{n||!r||(e?(!window.matchMedia("(display-mode: standalone)").matches&&u(),t||window.setTimeout(()=>{d()},500)):d())},[e,r,i,t,n,u,d]),{restorePositionSetting:d}}function _I({open:e,onOpenChange:t,children:n,onDrag:r,onRelease:s,snapPoints:o,shouldScaleBackground:i=!1,setBackgroundColorOnScale:l=!0,closeThreshold:c=vI,scrollLockTimeout:u=yI,dismissible:d=!0,handleOnly:f=!1,fadeFromIndex:p=o&&o.length-1,activeSnapPoint:y,setActiveSnapPoint:S,fixed:x,modal:b=!0,onClose:m,nested:v,noBodyStyles:g,direction:w="bottom",defaultOpen:k=!1,disablePreventScroll:C=!0,snapToSequentialPoint:j=!1,preventScrollRestoration:_=!1,repositionInputs:N=!0,onAnimationEnd:R,container:P,autoFocus:O=!1}){var A,z;const[U=!1,H]=zS({defaultProp:k,prop:e,onChange:ue=>{t==null||t(ue),!ue&&!v&&t1(),setTimeout(()=>{R==null||R(ue)},Me.DURATION*1e3),ue&&!b&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),ue||(document.body.style.pointerEvents="auto")}}),[B,T]=q.useState(!1),[E,I]=q.useState(!1),[$,V]=q.useState(!1),Y=q.useRef(null),Q=q.useRef(null),he=q.useRef(null),D=q.useRef(null),M=q.useRef(null),G=q.useRef(!1),J=q.useRef(null),Z=q.useRef(0),ee=q.useRef(!1),le=q.useRef(0),oe=q.useRef(null),ne=q.useRef(((A=oe.current)==null?void 0:A.getBoundingClientRect().height)||0),de=q.useRef(((z=oe.current)==null?void 0:z.getBoundingClientRect().width)||0),ke=q.useRef(0),F=q.useCallback(ue=>{o&&ue===Ze.length-1&&(Q.current=new Date)},[]),{activeSnapPoint:re,activeSnapPointIndex:ie,setActiveSnapPoint:ce,onRelease:xe,snapPointsOffset:Ze,onDrag:hn,shouldFade:Pn,getPercentageDragged:_c}=wI({snapPoints:o,activeSnapPointProp:y,setActiveSnapPointProp:S,drawerRef:oe,fadeFromIndex:p,overlayRef:Y,onSnapPointChange:F,direction:w,container:P,snapToSequentialPoint:j});cI({isDisabled:!U||E||!b||$||!B||!N||!C});const{restorePositionSetting:t1}=jI({isOpen:U,modal:b,nested:v,hasBeenOpened:B,preventScrollRestoration:_,noBodyStyles:g});function zi(){return(window.innerWidth-Vd)/window.innerWidth}function n1(ue){var _e,Re;!d&&!o||oe.current&&!oe.current.contains(ue.target)||(ne.current=((_e=oe.current)==null?void 0:_e.getBoundingClientRect().height)||0,de.current=((Re=oe.current)==null?void 0:Re.getBoundingClientRect().width)||0,I(!0),he.current=new Date,IS()&&window.addEventListener("touchend",()=>G.current=!1,{once:!0}),ue.target.setPointerCapture(ue.pointerId),Z.current=We(w)?ue.pageY:ue.pageX)}function op(ue,_e){var Re,Ie;let Ce=ue;const Lt=(Re=window.getSelection())==null?void 0:Re.toString(),dt=oe.current?ga(oe.current,w):null,Nt=new Date;if(Ce.hasAttribute("data-vaul-no-drag")||Ce.closest("[data-vaul-no-drag]"))return!1;if(w==="right"||w==="left")return!0;if(Q.current&&Nt.getTime()-Q.current.getTime()<500)return!1;if(dt!==null&&(w==="bottom"?dt>0:dt<0))return!0;if(Lt&&Lt.length>0)return!1;if(Nt.getTime()-((Ie=M.current)==null?void 0:Ie.getTime())<u&&dt===0||_e)return M.current=Nt,!1;for(;Ce;){if(Ce.scrollHeight>Ce.clientHeight){if(Ce.scrollTop!==0)return M.current=new Date,!1;if(Ce.getAttribute("role")==="dialog")return!0}Ce=Ce.parentNode}return!0}function r1(ue){if(oe.current&&E){const _e=w==="bottom"||w==="right"?1:-1,Re=(Z.current-(We(w)?ue.pageY:ue.pageX))*_e,Ie=Re>0,Ce=o&&!d&&!Ie;if(Ce&&ie===0)return;const Lt=Math.abs(Re),dt=document.querySelector("[data-vaul-drawer-wrapper]"),Nt=w==="bottom"||w==="top"?ne.current:de.current;let Yt=Lt/Nt;const Or=_c(Lt,Ie);if(Or!==null&&(Yt=Or),Ce&&Yt>=1||!G.current&&!op(ue.target,Ie))return;if(oe.current.classList.add(Su),G.current=!0,He(oe.current,{transition:"none"}),He(Y.current,{transition:"none"}),o&&hn({draggedDistance:Re}),Ie&&!o){const pn=mI(Re),Ui=Math.min(pn*-1,0)*_e;He(oe.current,{transform:We(w)?`translate3d(0, ${Ui}px, 0)`:`translate3d(${Ui}px, 0, 0)`});return}const tr=1-Yt;if((Pn||p&&ie===p-1)&&(r==null||r(ue,Yt),He(Y.current,{opacity:`${tr}`,transition:"none"},!0)),dt&&Y.current&&i){const pn=Math.min(zi()+Yt*(1-zi()),1),Ui=8-Yt*8,ap=Math.max(0,14-Yt*14);He(dt,{borderRadius:`${Ui}px`,transform:We(w)?`scale(${pn}) translate3d(0, ${ap}px, 0)`:`scale(${pn}) translate3d(${ap}px, 0, 0)`,transition:"none"},!0)}if(!o){const pn=Lt*_e;He(oe.current,{transform:We(w)?`translate3d(0, ${pn}px, 0)`:`translate3d(${pn}px, 0, 0)`})}}}q.useEffect(()=>{var ue;function _e(){if(!oe.current||!N)return;const Re=document.activeElement;if(Bd(Re)||ee.current){var Ie;const Ce=((Ie=window.visualViewport)==null?void 0:Ie.height)||0,Lt=window.innerHeight;let dt=Lt-Ce;const Nt=oe.current.getBoundingClientRect().height||0,Yt=Nt>Lt*.8;ke.current||(ke.current=Nt);const Or=oe.current.getBoundingClientRect().top;if(Math.abs(le.current-dt)>60&&(ee.current=!ee.current),o&&o.length>0&&Ze&&ie){const tr=Ze[ie]||0;dt+=tr}if(le.current=dt,Nt>Ce||ee.current){const tr=oe.current.getBoundingClientRect().height;let pn=tr;tr>Ce&&(pn=Ce-(Yt?Or:Vd)),x?oe.current.style.height=`${tr-Math.max(dt,0)}px`:oe.current.style.height=`${Math.max(pn,Ce-Or)}px`}else oe.current.style.height=`${ke.current}px`;o&&o.length>0&&!ee.current?oe.current.style.bottom="0px":oe.current.style.bottom=`${Math.max(dt,0)}px`}}return(ue=window.visualViewport)==null||ue.addEventListener("resize",_e),()=>{var Re;return(Re=window.visualViewport)==null?void 0:Re.removeEventListener("resize",_e)}},[ie,o,Ze]);function xo(ue){s1(),m==null||m(),ue||H(!1),setTimeout(()=>{o&&ce(o[0])},Me.DURATION*1e3)}function ip(){if(!oe.current)return;const ue=document.querySelector("[data-vaul-drawer-wrapper]"),_e=ga(oe.current,w);He(oe.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${Me.DURATION}s cubic-bezier(${Me.EASE.join(",")})`}),He(Y.current,{transition:`opacity ${Me.DURATION}s cubic-bezier(${Me.EASE.join(",")})`,opacity:"1"}),i&&_e&&_e>0&&U&&He(ue,{borderRadius:`${$S}px`,overflow:"hidden",...We(w)?{transform:`scale(${zi()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${zi()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${Me.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Me.EASE.join(",")})`},!0)}function s1(){!E||!oe.current||(oe.current.classList.remove(Su),G.current=!1,I(!1),D.current=new Date)}function o1(ue){if(!E||!oe.current)return;oe.current.classList.remove(Su),G.current=!1,I(!1),D.current=new Date;const _e=ga(oe.current,w);if(!op(ue.target,!1)||!_e||Number.isNaN(_e)||he.current===null)return;const Re=D.current.getTime()-he.current.getTime(),Ie=Z.current-(We(w)?ue.pageY:ue.pageX),Ce=Math.abs(Ie)/Re;if(Ce>.05&&(V(!0),setTimeout(()=>{V(!1)},200)),o){xe({draggedDistance:Ie*(w==="bottom"||w==="right"?1:-1),closeDrawer:xo,velocity:Ce,dismissible:d}),s==null||s(ue,!0);return}if(w==="bottom"||w==="right"?Ie>0:Ie<0){ip(),s==null||s(ue,!0);return}if(Ce>LS){xo(),s==null||s(ue,!1);return}var Lt;const dt=Math.min((Lt=oe.current.getBoundingClientRect().height)!=null?Lt:0,window.innerHeight);var Nt;const Yt=Math.min((Nt=oe.current.getBoundingClientRect().width)!=null?Nt:0,window.innerWidth),Or=w==="left"||w==="right";if(Math.abs(_e)>=(Or?Yt:dt)*c){xo(),s==null||s(ue,!1);return}s==null||s(ue,!0),ip()}q.useEffect(()=>(U&&(He(document.documentElement,{scrollBehavior:"auto"}),Q.current=new Date),()=>{pI(document.documentElement,"scrollBehavior")}),[U]);function i1(ue){const _e=ue?(window.innerWidth-Lr)/window.innerWidth:1,Re=ue?-Lr:0;J.current&&window.clearTimeout(J.current),He(oe.current,{transition:`transform ${Me.DURATION}s cubic-bezier(${Me.EASE.join(",")})`,transform:`scale(${_e}) translate3d(0, ${Re}px, 0)`}),!ue&&oe.current&&(J.current=setTimeout(()=>{const Ie=ga(oe.current,w);He(oe.current,{transition:"none",transform:We(w)?`translate3d(0, ${Ie}px, 0)`:`translate3d(${Ie}px, 0, 0)`})},500))}function a1(ue,_e){if(_e<0)return;const Re=(window.innerWidth-Lr)/window.innerWidth,Ie=Re+_e*(1-Re),Ce=-Lr+_e*Lr;He(oe.current,{transform:We(w)?`scale(${Ie}) translate3d(0, ${Ce}px, 0)`:`scale(${Ie}) translate3d(${Ce}px, 0, 0)`,transition:"none"})}function l1(ue,_e){const Re=We(w)?window.innerHeight:window.innerWidth,Ie=_e?(Re-Lr)/Re:1,Ce=_e?-Lr:0;_e&&He(oe.current,{transition:`transform ${Me.DURATION}s cubic-bezier(${Me.EASE.join(",")})`,transform:We(w)?`scale(${Ie}) translate3d(0, ${Ce}px, 0)`:`scale(${Ie}) translate3d(${Ce}px, 0, 0)`})}return q.createElement(_h,{defaultOpen:k,onOpenChange:ue=>{!d&&!ue||(ue?T(!0):xo(!0),H(ue))},open:U},q.createElement(AS.Provider,{value:{activeSnapPoint:re,snapPoints:o,setActiveSnapPoint:ce,drawerRef:oe,overlayRef:Y,onOpenChange:t,onPress:n1,onRelease:o1,onDrag:r1,dismissible:d,handleOnly:f,isOpen:U,isDragging:E,shouldFade:Pn,closeDrawer:xo,onNestedDrag:a1,onNestedOpenChange:i1,onNestedRelease:l1,keyboardIsOpen:ee,modal:b,snapPointsOffset:Ze,direction:w,shouldScaleBackground:i,setBackgroundColorOnScale:l,noBodyStyles:g,container:P,autoFocus:O}},n))}const US=q.forwardRef(function({...e},t){const{overlayRef:n,snapPoints:r,onRelease:s,shouldFade:o,isOpen:i,modal:l}=Fi(),c=DS(t,n),u=r&&r.length>0;return l?q.createElement(ec,{onMouseUp:s,ref:c,"data-vaul-overlay":"","data-vaul-snap-points":i&&u?"true":"false","data-vaul-snap-points-overlay":i&&o?"true":"false",...e}):(typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),null)});US.displayName="Drawer.Overlay";const BS=q.forwardRef(function({onPointerDownOutside:e,style:t,onOpenAutoFocus:n,...r},s){const{drawerRef:o,onPress:i,onRelease:l,onDrag:c,keyboardIsOpen:u,snapPointsOffset:d,modal:f,isOpen:p,direction:y,snapPoints:S,container:x,handleOnly:b,autoFocus:m}=Fi(),[v,g]=q.useState(!1),w=DS(s,o),k=q.useRef(null),C=q.useRef(null),j=q.useRef(!1),_=S&&S.length>0;bI();const N=(P,O,A=0)=>{if(j.current)return!0;const z=Math.abs(P.y),U=Math.abs(P.x),H=U>z,B=["bottom","right"].includes(O)?1:-1;if(O==="left"||O==="right"){if(!(P.x*B<0)&&U>=0&&U<=A)return H}else if(!(P.y*B<0)&&z>=0&&z<=A)return!H;return j.current=!0,!0};q.useEffect(()=>{_&&window.requestAnimationFrame(()=>{g(!0)})},[]);function R(P){k.current=null,j.current=!1,l(P)}return q.createElement(tc,{"data-vaul-drawer-direction":y,"data-vaul-drawer":"","data-vaul-delayed-snap-points":v?"true":"false","data-vaul-snap-points":p&&_?"true":"false","data-vaul-custom-container":x?"true":"false",...r,ref:w,style:d&&d.length>0?{"--snap-point-height":`${d[0]}px`,...t}:t,onPointerDown:P=>{b||(r.onPointerDown==null||r.onPointerDown.call(r,P),k.current={x:P.pageX,y:P.pageY},i(P))},onOpenAutoFocus:P=>{n==null||n(P),m||P.preventDefault()},onPointerDownOutside:P=>{if(e==null||e(P),!f||P.defaultPrevented){P.preventDefault();return}u.current&&(u.current=!1)},onFocusOutside:P=>{if(!f){P.preventDefault();return}},onPointerMove:P=>{if(C.current=P,b||(r.onPointerMove==null||r.onPointerMove.call(r,P),!k.current))return;const O=P.pageY-k.current.y,A=P.pageX-k.current.x,z=P.pointerType==="touch"?10:2;N({x:A,y:O},y,z)?c(P):(Math.abs(A)>z||Math.abs(O)>z)&&(k.current=null)},onPointerUp:P=>{r.onPointerUp==null||r.onPointerUp.call(r,P),k.current=null,j.current=!1,l(P)},onPointerOut:P=>{r.onPointerOut==null||r.onPointerOut.call(r,P),R(C.current)},onContextMenu:P=>{r.onContextMenu==null||r.onContextMenu.call(r,P),R(C.current)}})});BS.displayName="Drawer.Content";const CI=250,kI=120,NI=q.forwardRef(function({preventCycle:e=!1,children:t,...n},r){const{closeDrawer:s,isDragging:o,snapPoints:i,activeSnapPoint:l,setActiveSnapPoint:c,dismissible:u,handleOnly:d,isOpen:f,onPress:p,onDrag:y}=Fi(),S=q.useRef(null),x=q.useRef(!1);function b(){if(x.current){g();return}window.setTimeout(()=>{m()},kI)}function m(){if(o||e||x.current){g();return}if(g(),(!i||i.length===0)&&u){s();return}if(l===i[i.length-1]&&u){s();return}const k=i.findIndex(j=>j===l);if(k===-1)return;const C=i[k+1];c(C)}function v(){S.current=window.setTimeout(()=>{x.current=!0},CI)}function g(){window.clearTimeout(S.current),x.current=!1}return q.createElement("div",{onClick:b,onPointerCancel:g,onPointerDown:w=>{d&&p(w),v()},onPointerMove:w=>{d&&y(w)},ref:r,"data-vaul-drawer-visible":f?"true":"false","data-vaul-handle":"","aria-hidden":"true",...n},q.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});NI.displayName="Drawer.Handle";function EI(e){const t=Fi(),{container:n=t.container,...r}=e;return q.createElement(Ch,{container:n,...r})}const Rn={Root:_I,Content:BS,Overlay:US,Portal:EI,Close:sc,Title:nc,Description:rc},VS=({shouldScaleBackground:e=!0,...t})=>a.jsx(Rn.Root,{shouldScaleBackground:e,...t});VS.displayName="Drawer";const RI=Rn.Portal,PI=Rn.Close,HS=h.forwardRef(({className:e,...t},n)=>a.jsx(Rn.Overlay,{ref:n,className:L("fixed inset-0 z-50 bg-black/80",e),...t}));HS.displayName=Rn.Overlay.displayName;const WS=h.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(RI,{children:[a.jsx(HS,{}),a.jsxs(Rn.Content,{ref:r,className:L("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",e),...n,children:[a.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),t]})]}));WS.displayName="DrawerContent";const KS=({className:e,...t})=>a.jsx("div",{className:L("grid gap-1.5 p-4 text-center sm:text-left",e),...t});KS.displayName="DrawerHeader";const GS=({className:e,...t})=>a.jsx("div",{className:L("mt-auto flex flex-col gap-2 p-4",e),...t});GS.displayName="DrawerFooter";const qS=h.forwardRef(({className:e,...t},n)=>a.jsx(Rn.Title,{ref:n,className:L("text-lg font-semibold leading-none tracking-tight",e),...t}));qS.displayName=Rn.Title.displayName;const YS=h.forwardRef(({className:e,...t},n)=>a.jsx(Rn.Description,{ref:n,className:L("text-sm text-muted-foreground",e),...t}));YS.displayName=Rn.Description.displayName;const kg=({setOpen:e})=>{const{folders:t,actionButtons:n,setFolders:r,setActionButtons:s}=En(),[o,i]=h.useState([]),[l,c]=h.useState(!0),[u,d]=h.useState({}),[f,p]=h.useState({}),[y,S]=h.useState(null),x=h.useCallback(async()=>{c(!0);const w=await yA();i(w);const k={};w.forEach(C=>{k[C.slot_index]=C.name}),p(k),c(!1)},[]);h.useEffect(()=>{open&&x()},[open,x]);const b=async(w,k)=>{d(C=>({...C,[w]:!0}));try{await k()}catch(C){console.error(`Operation ${w} failed`,C),alert(`Ошибка: ${C instanceof Error?C.message:"Неизвестная ошибка"}`)}finally{d(C=>({...C,[w]:!1}))}},m=async w=>{var _;const k=((_=o.find(N=>N.slot_index===w))==null?void 0:_.name)||`Слот ${w+1}`,C=ji(),j={folders:C.folders,actionButtons:C.actionButtons,trainings:C.trainings,statistics:C.statistics,rangeAccessStats:C.rangeAccessStats,charts:C.charts,editorSettings:C.editorSettings};await b(`save-${w}`,async()=>{const N=await xA(w,k,j);if(N.success)alert(`Настройки успешно сохранены в "${k}"`),await x();else throw N.error||new Error("Не удалось сохранить слот.")})},v=async w=>{confirm("Вы уверены, что хотите загрузить этот слот? Текущие несохраненные папки и кнопки будут перезаписаны.")&&await b(`load-${w}`,async()=>{const k=await wA(w);if(k){const C={version:$i,folders:k.folders,actionButtons:k.actionButtons,trainings:k.trainings,statistics:k.statistics,rangeAccessStats:k.rangeAccessStats,charts:k.charts,editorSettings:k.editorSettings,timestamp:new Date().toISOString()};fc(C)}else alert("Не удалось загрузить данные из слота.")})},g=async w=>{const k=f[w];if(!k||k.trim()===""){alert("Имя слота не может быть пустым.");return}await b(`rename-${w}`,async()=>{const C=await SA(w,k.trim());if(C.success)alert("Слот успешно переименован."),S(null),await x();else throw C.error||new Error("Не удалось переименовать слот.")})};return l?a.jsxs("div",{className:"flex items-center justify-center p-8 h-64",children:[a.jsx(Ms,{className:"h-8 w-8 animate-spin text-muted-foreground"}),a.jsx("p",{className:"ml-4 text-muted-foreground",children:"Загрузка слотов..."})]}):a.jsx("div",{className:"p-4 md:p-0 space-y-4 max-h-[80vh] overflow-y-auto",children:o.map(w=>{const k=!!u[`save-${w.slot_index}`],C=!!u[`load-${w.slot_index}`],j=!!u[`rename-${w.slot_index}`],_=y===w.slot_index;return a.jsxs("div",{className:"p-4 border rounded-lg bg-muted/50 space-y-3",children:[a.jsx("div",{className:"flex items-center justify-between min-h-[32px]",children:_?a.jsxs("div",{className:"flex items-center gap-2 w-full",children:[a.jsx(be,{value:f[w.slot_index]||"",onChange:N=>p(R=>({...R,[w.slot_index]:N.target.value})),className:"h-8",placeholder:"Новое имя слота",onKeyDown:N=>N.key==="Enter"&&g(w.slot_index)}),a.jsx(X,{size:"icon",variant:"ghost",onClick:()=>g(w.slot_index),disabled:j,className:"h-8 w-8 flex-shrink-0",children:j?a.jsx(Ms,{className:"h-4 w-4 animate-spin"}):a.jsx(Ql,{className:"h-4 w-4 text-green-500"})}),a.jsx(X,{size:"icon",variant:"ghost",onClick:()=>S(null),className:"h-8 w-8 flex-shrink-0",children:a.jsx(Jw,{className:"h-4 w-4"})})]}):a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h3",{className:"font-semibold",children:w.name}),a.jsx(X,{size:"icon",variant:"ghost",onClick:()=>S(w.slot_index),className:"h-6 w-6",children:a.jsx(wh,{className:"h-4 w-4"})})]})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(X,{onClick:()=>m(w.slot_index),disabled:k||C,className:"w-full",children:[k?a.jsx(Ms,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(IP,{className:"mr-2 h-4 w-4"}),"Сохранить"]}),a.jsxs(X,{onClick:()=>v(w.slot_index),disabled:!w.data||C||k,variant:"secondary",className:"w-full",children:[C?a.jsx(Ms,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(Ed,{className:"mr-2 h-4 w-4"}),"Загрузить"]})]})]},w.slot_index)})})},Ng=({open:e,onOpenChange:t})=>Zn()?a.jsx(VS,{open:e,onOpenChange:t,children:a.jsxs(WS,{children:[a.jsxs(KS,{className:"text-left",children:[a.jsx(qS,{children:"Слоты памяти"}),a.jsx(YS,{children:"Сохраняйте и загружайте до 5 различных конфигураций папок и кнопок."})]}),e&&a.jsx(kg,{setOpen:t}),a.jsx(GS,{className:"pt-2",children:a.jsx(PI,{asChild:!0,children:a.jsx(X,{variant:"outline",children:"Закрыть"})})})]})}):a.jsx(Mt,{open:e,onOpenChange:t,children:a.jsxs(_t,{className:"sm:max-w-md",children:[a.jsxs(Ct,{children:[a.jsx(kt,{children:"Слоты памяти"}),a.jsx(Qn,{children:"Сохраняйте и загружайте до 5 различных конфигураций папок и кнопок."})]}),e&&a.jsx(kg,{setOpen:t})]})});var JS={exports:{}},XS={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ro=h;function TI(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var AI=typeof Object.is=="function"?Object.is:TI,II=ro.useState,OI=ro.useEffect,DI=ro.useLayoutEffect,MI=ro.useDebugValue;function LI(e,t){var n=t(),r=II({inst:{value:n,getSnapshot:t}}),s=r[0].inst,o=r[1];return DI(function(){s.value=n,s.getSnapshot=t,bu(s)&&o({inst:s})},[e,n,t]),OI(function(){return bu(s)&&o({inst:s}),e(function(){bu(s)&&o({inst:s})})},[e]),MI(n),n}function bu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!AI(e,n)}catch{return!0}}function $I(e,t){return t()}var FI=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?$I:LI;XS.useSyncExternalStore=ro.useSyncExternalStore!==void 0?ro.useSyncExternalStore:FI;JS.exports=XS;var zI=JS.exports;function UI(){return zI.useSyncExternalStore(BI,()=>!0,()=>!1)}function BI(){return()=>{}}var Lh="Avatar",[VI,_M]=ut(Lh),[HI,QS]=VI(Lh),ZS=h.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[s,o]=h.useState("idle");return a.jsx(HI,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:o,children:a.jsx(ae.span,{...r,ref:t})})});ZS.displayName=Lh;var eb="AvatarImage",tb=h.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...o}=e,i=QS(eb,n),l=WI(r,o),c=an(u=>{s(u),i.onImageLoadingStatusChange(u)});return Ve(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?a.jsx(ae.img,{...o,ref:t,src:r}):null});tb.displayName=eb;var nb="AvatarFallback",rb=h.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...s}=e,o=QS(nb,n),[i,l]=h.useState(r===void 0);return h.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),i&&o.imageLoadingStatus!=="loaded"?a.jsx(ae.span,{...s,ref:t}):null});rb.displayName=nb;function Eg(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function WI(e,{referrerPolicy:t,crossOrigin:n}){const r=UI(),s=h.useRef(null),o=r?(s.current||(s.current=new window.Image),s.current):null,[i,l]=h.useState(()=>Eg(o,e));return Ve(()=>{l(Eg(o,e))},[o,e]),Ve(()=>{const c=f=>()=>{l(f)};if(!o)return;const u=c("loaded"),d=c("error");return o.addEventListener("load",u),o.addEventListener("error",d),t&&(o.referrerPolicy=t),typeof n=="string"&&(o.crossOrigin=n),()=>{o.removeEventListener("load",u),o.removeEventListener("error",d)}},[o,n,t]),i}var sb=ZS,ob=tb,ib=rb;const Ma=h.forwardRef(({className:e,...t},n)=>a.jsx(sb,{ref:n,className:L("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Ma.displayName=sb.displayName;const KI=h.forwardRef(({className:e,...t},n)=>a.jsx(ob,{ref:n,className:L("aspect-square h-full w-full",e),...t}));KI.displayName=ob.displayName;const La=h.forwardRef(({className:e,...t},n)=>a.jsx(ib,{ref:n,className:L("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));La.displayName=ib.displayName;const Rg=({isMobileMode:e})=>{var x;const{user:t,logout:n,isAuthenticated:r}=Th(),[s,o]=h.useState(!1),[i,l]=h.useState(!1),[c,u]=h.useState(!1),[d,f]=h.useState(!1);if(!r)return a.jsxs(a.Fragment,{children:[a.jsx(X,{variant:"outline",size:e?"icon":"sm",onClick:()=>o(!0),children:e?a.jsx(Ia,{className:"h-4 w-4"}):a.jsxs(a.Fragment,{children:[a.jsx(Ma,{className:"h-6 w-6",children:a.jsx(La,{className:"text-xs",children:"?"})}),a.jsx("span",{className:"ml-2",children:"Войти"})]})}),a.jsx(zA,{open:s,onOpenChange:o})]});const p=((x=t==null?void 0:t.email)==null?void 0:x.charAt(0).toUpperCase())||"?",y=()=>{n(),l(!1)},S=()=>l(!1);return e?a.jsxs(a.Fragment,{children:[a.jsx(X,{variant:"outline",size:"icon",onClick:()=>l(!0),children:a.jsx(Ma,{className:"h-6 w-6",children:a.jsx(La,{className:"text-xs",children:p})})}),a.jsx(Mt,{open:i,onOpenChange:l,children:a.jsxs(_t,{mobileFullscreen:!0,children:[a.jsx(Ct,{children:a.jsx(kt,{children:"Меню"})}),a.jsxs("div",{className:"flex flex-col gap-2 pt-4",children:[a.jsxs("div",{className:"p-2 text-center text-sm text-muted-foreground border-b pb-4 mb-2",children:[a.jsx("p",{children:"Вы вошли как"}),a.jsx("p",{className:"font-semibold truncate",children:t==null?void 0:t.email})]}),a.jsxs(X,{variant:"outline",onClick:()=>{u(!0),S()},children:[a.jsx(Ia,{className:"mr-2 h-4 w-4"}),"Настройки редактора"]}),a.jsxs(X,{variant:"outline",onClick:()=>{f(!0),S()},children:[a.jsx(Gm,{className:"mr-2 h-4 w-4"}),"Слоты памяти"]}),a.jsx("hr",{className:"my-2"}),a.jsxs(X,{variant:"outline",onClick:()=>{qr(),S()},children:[a.jsx(Km,{className:"mr-2 h-4 w-4"}),"Сохранить в облако"]}),a.jsxs(X,{variant:"outline",onClick:()=>{Fd(),S()},children:[a.jsx(da,{className:"mr-2 h-4 w-4"}),"Загрузить из облака"]}),a.jsx("hr",{className:"my-2"}),a.jsxs(X,{variant:"outline",onClick:()=>{yg(),S()},children:[a.jsx(Xm,{className:"mr-2 h-4 w-4"}),"Импорт из файла"]}),a.jsxs(X,{variant:"outline",onClick:()=>{vg(),S()},children:[a.jsx(Ed,{className:"mr-2 h-4 w-4"}),"Экспорт в файл"]}),a.jsxs(X,{variant:"outline",onClick:()=>{xg(),S()},children:[a.jsx(da,{className:"mr-2 h-4 w-4"}),"Скачать бэкап из облака"]}),a.jsx("hr",{className:"my-2"}),a.jsxs(X,{variant:"destructive",onClick:y,children:[a.jsx(qm,{className:"mr-2 h-4 w-4"}),"Выйти"]})]})]})}),a.jsx(Sg,{isOpen:c,onOpenChange:u,isMobileMode:e}),a.jsx(Ng,{open:d,onOpenChange:f})]}):a.jsxs(a.Fragment,{children:[a.jsxs(MP,{children:[a.jsx(LP,{asChild:!0,children:a.jsx(X,{variant:"outline",size:"icon",className:"rounded-full",children:a.jsx(Ma,{className:"h-8 w-8",children:a.jsx(La,{children:p})})})}),a.jsxs(Xw,{align:"end",className:"w-56",children:[a.jsxs("div",{className:"px-2 py-1.5 text-sm",children:[a.jsx("p",{className:"font-semibold",children:"Вы вошли как"}),a.jsx("p",{className:"text-muted-foreground truncate",children:t==null?void 0:t.email})]}),a.jsx($o,{}),a.jsxs(An,{onClick:()=>u(!0),children:[a.jsx(Ia,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Настройки редактора"})]}),a.jsxs(An,{onClick:()=>f(!0),children:[a.jsx(Gm,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Слоты памяти"})]}),a.jsx($o,{}),a.jsxs(An,{onClick:()=>qr(),children:[a.jsx(Km,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Сохранить в облако"})]}),a.jsxs(An,{onClick:()=>Fd(),children:[a.jsx(da,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Загрузить из облака"})]}),a.jsx($o,{}),a.jsxs(An,{onClick:yg,children:[a.jsx(Xm,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Импорт из файла"})]}),a.jsxs(An,{onClick:vg,children:[a.jsx(Ed,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Экспорт в файл"})]}),a.jsxs(An,{onClick:xg,children:[a.jsx(da,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Скачать бэкап из облака"})]}),a.jsx($o,{}),a.jsxs(An,{onClick:n,children:[a.jsx(qm,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Выйти"})]})]})]}),a.jsx(Sg,{isOpen:c,onOpenChange:u,isMobileMode:e}),a.jsx(Ng,{open:d,onOpenChange:f})]})},tt=h.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:L("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));tt.displayName="Card";const Hd=h.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:L("flex flex-col space-y-1.5 p-6",e),...t}));Hd.displayName="CardHeader";const Wd=h.forwardRef(({className:e,...t},n)=>a.jsx("h3",{ref:n,className:L("text-2xl font-semibold leading-none tracking-tight",e),...t}));Wd.displayName="CardTitle";const ab=h.forwardRef(({className:e,...t},n)=>a.jsx("p",{ref:n,className:L("text-sm text-muted-foreground",e),...t}));ab.displayName="CardDescription";const $h=h.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:L("p-6 pt-0",e),...t}));$h.displayName="CardContent";const GI=h.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:L("flex items-center p-6 pt-0",e),...t}));GI.displayName="CardFooter";const va=["A","K","Q","J","T","9","8","7","6","5","4","3","2"],go=[];for(let e=0;e<va.length;e++){const t=[];for(let n=0;n<va.length;n++){const r=va[e],s=va[n];e===n?t.push(`${r}${r}`):e<n?t.push(`${r}${s}s`):t.push(`${s}${r}o`)}go.push(t)}const lb=go.flat(),Kd=new Map;go.forEach((e,t)=>{e.forEach((n,r)=>{Kd.set(n,{row:t,col:r})})});const Fh=e=>e.length===2&&e[0]===e[1]?6:e.endsWith("s")?4:e.endsWith("o")?12:0,Pg=lb.flatMap(e=>{const t=Fh(e);return Array(t).fill(e)}),Tg=lb.reduce((e,t)=>e+Fh(t),0),Ag=(e,t)=>{const n=[],r=[[-1,0],[1,0],[0,-1],[0,1]];for(const[s,o]of r){const i=e+s,l=t+o;i>=0&&i<13&&l>=0&&l<13&&n.push(go[i][l])}return n},Ig=(e,t)=>{if(!e||Object.keys(e).length===0)return[];let n=new Set;for(const o in e){const i=Kd.get(o);if(!i)continue;const l=Ag(i.row,i.col);for(const c of l)if(!e.hasOwnProperty(c)){n.add(o);break}}if(t===0)return Array.from(n);let r=new Set(n);const s=new Set(n);for(let o=0;o<t;o++){const i=new Set;for(const l of r){const c=Kd.get(l);if(!c)continue;const u=Ag(c.row,c.col);for(const d of u)i.add(d)}i.forEach(l=>s.add(l)),r=i}return Array.from(s)},qI=e=>({none:"rounded-none",sm:"rounded-sm",md:"rounded-md",lg:"rounded-lg"})[e]||"rounded-md",YI=e=>({none:"gap-0",sm:"gap-px sm:gap-0.5",md:"gap-0.5 sm:gap-1",lg:"gap-1 sm:gap-1.5"})[e]||"gap-0.5 sm:gap-1",JI=e=>{switch(e){case"s":return"text-xs";case"m":return"text-sm";case"l":return"text-base";case"xl":return"text-lg";default:return""}},XI=e=>({normal:"font-normal",bold:"font-bold"})[e]||"font-normal",Yr=({selectedHands:e,onHandSelect:t,activeAction:n,actionButtons:r,readOnly:s=!1,isBackgroundMode:o=!1})=>{const i=Zn(),{editorSettings:l,foldColor:c}=En(),[u,d]=h.useState(!1),[f,p]=h.useState(null),y=h.useRef(null),S=h.useRef(!1),x=h.useRef(!1),b=(A,z)=>{if(A==="fold")return c;const U=z.find(H=>H.id===A);return U&&U.type==="simple"?U.color:"#ffffff"};h.useEffect(()=>{o&&(d(!1),p(null))},[o]),h.useEffect(()=>{const A=()=>{d(!1),p(null),S.current=!1};return window.addEventListener("mouseup",A),window.addEventListener("touchend",A),window.addEventListener("touchcancel",A),()=>{window.removeEventListener("mouseup",A),window.removeEventListener("touchend",A),window.removeEventListener("touchcancel",A)}},[]);const m=A=>{if(s||o)return;x.current=!1,y.current=A,d(!0);const U=e[A]===n?"deselect":"select";p(U),t(A,U)},v=A=>{S.current=!0,m(A)},g=A=>{S.current||m(A)},w=A=>{s||o||!u||!f||y.current!==A&&(x.current=!0,t(A,f),y.current=A)},k=A=>{if(!u||o)return;A.preventDefault();const z=A.touches[0],U=document.elementFromPoint(z.clientX,z.clientY);U instanceof HTMLElement&&U.dataset.hand&&w(U.dataset.hand)},C=A=>{const{font:z,cellBackgroundColor:U}=l,H=e[A],B={};z.size==="custom"&&z.customSize&&(B.fontSize=z.customSize);let T=null,E=!1;if(H){const I=r.find($=>$.id===H);if(I){if(I.type==="simple")T=I.color,B.backgroundColor=T;else if(I.type==="weighted"){E=!0;const $=b(I.action1Id,r),V=b(I.action2Id,r);B.background=`linear-gradient(to right, ${$} ${I.weight}%, ${V} ${I.weight}%)`}}}else U.type==="white"?T="#ffffff":U.type==="custom"?T=U.customColor:T=c,B.backgroundColor=T;return z.color==="white"?B.color="white":z.color==="black"?B.color="black":E?B.color="white":T&&(B.color=Sk(T)?"white":"black"),l.font.inactiveFontTransparent&&!H?B.opacity=.5:B.opacity=1,B},j=A=>{if(e[A])return"";const{cellBackgroundColor:z}=l;return z.type==="default"?"hover:bg-muted/70":""},_=()=>{const{matrixBackgroundColor:A}=l;return(A==null?void 0:A.type)==="custom"&&A.customColor?{backgroundColor:A.customColor}:{}},R=L("space-y-4 rounded-lg",i?"px-[1%] py-[1%]":"p-4",o?"w-full h-full flex items-center justify-center":"w-full",(()=>{const{matrixBackgroundColor:A}=l;if(!A)return"bg-background";switch(A.type){case"white":return"bg-white";case"dark":return"bg-background";case"custom":return"";default:return"bg-background"}})()),P=L("grid grid-cols-13 aspect-square w-full select-none rounded-lg",o?"gap-0.5":YI(l.cellSpacing)),O=L("w-full h-full aspect-square font-mono border transition-all duration-200","hover:ring-2 hover:ring-ring",qI(l.cellBorderRadius),JI(l.font.size),XI(l.font.weight),i?"p-0":"p-0.5");return a.jsx("div",{className:R,style:_(),children:a.jsx("div",{className:P,onTouchMove:k,children:go.map((A,z)=>A.map((U,H)=>a.jsx(X,{"data-hand":U,variant:"outline",size:"sm",className:L(O,j(U)),style:C(U),onMouseDown:()=>g(U),onMouseEnter:()=>w(U),onTouchStart:()=>v(U),onClick:()=>{s||o||x.current},children:U},`${z}-${H}`)))})})},cb=e=>e.length===2&&e[0]===e[1]?6:e.endsWith("s")?4:e.endsWith("o")?12:0,Og=go.flat().reduce((e,t)=>e+cb(t),0);function yl(e,[t,n]){return Math.min(n,Math.max(t,e))}var ub=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),QI="VisuallyHidden",ZI=h.forwardRef((e,t)=>a.jsx(ae.span,{...e,ref:t,style:{...ub,...e.style}}));ZI.displayName=QI;var eO=[" ","Enter","ArrowUp","ArrowDown"],tO=[" ","Enter"],os="Select",[vc,yc,nO]=Ti(os),[vo,CM]=ut(os,[nO,Wl]),xc=Wl(),[rO,Ar]=vo(os),[sO,oO]=vo(os),db=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:o,value:i,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:p,required:y,form:S}=e,x=xc(t),[b,m]=h.useState(null),[v,g]=h.useState(null),[w,k]=h.useState(!1),C=cs(u),[j,_]=Gt({prop:r,defaultProp:s??!1,onChange:o,caller:os}),[N,R]=Gt({prop:i,defaultProp:l,onChange:c,caller:os}),P=h.useRef(null),O=b?S||!!b.closest("form"):!0,[A,z]=h.useState(new Set),U=Array.from(A).map(H=>H.props.value).join(";");return a.jsx($x,{...x,children:a.jsxs(rO,{required:y,scope:t,trigger:b,onTriggerChange:m,valueNode:v,onValueNodeChange:g,valueNodeHasChildren:w,onValueNodeHasChildrenChange:k,contentId:Bt(),value:N,onValueChange:R,open:j,onOpenChange:_,dir:C,triggerPointerDownPosRef:P,disabled:p,children:[a.jsx(vc.Provider,{scope:t,children:a.jsx(sO,{scope:e.__scopeSelect,onNativeOptionAdd:h.useCallback(H=>{z(B=>new Set(B).add(H))},[]),onNativeOptionRemove:h.useCallback(H=>{z(B=>{const T=new Set(B);return T.delete(H),T})},[]),children:n})}),O?a.jsxs(Db,{"aria-hidden":!0,required:y,tabIndex:-1,name:d,autoComplete:f,value:N,onChange:H=>R(H.target.value),disabled:p,form:S,children:[N===void 0?a.jsx("option",{value:""}):null,Array.from(A)]},U):null]})})};db.displayName=os;var fb="SelectTrigger",hb=h.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,o=xc(n),i=Ar(fb,n),l=i.disabled||r,c=me(t,i.onTriggerChange),u=yc(n),d=h.useRef("touch"),[f,p,y]=Lb(x=>{const b=u().filter(g=>!g.disabled),m=b.find(g=>g.value===i.value),v=$b(b,x,m);v!==void 0&&i.onValueChange(v.value)}),S=x=>{l||(i.onOpenChange(!0),y()),x&&(i.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return a.jsx(Fx,{asChild:!0,...o,children:a.jsx(ae.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Mb(i.value)?"":void 0,...s,ref:c,onClick:te(s.onClick,x=>{x.currentTarget.focus(),d.current!=="mouse"&&S(x)}),onPointerDown:te(s.onPointerDown,x=>{d.current=x.pointerType;const b=x.target;b.hasPointerCapture(x.pointerId)&&b.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(S(x),x.preventDefault())}),onKeyDown:te(s.onKeyDown,x=>{const b=f.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&p(x.key),!(b&&x.key===" ")&&eO.includes(x.key)&&(S(),x.preventDefault())})})})});hb.displayName=fb;var pb="SelectValue",mb=h.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:i="",...l}=e,c=Ar(pb,n),{onValueNodeHasChildrenChange:u}=c,d=o!==void 0,f=me(t,c.onValueNodeChange);return Ve(()=>{u(d)},[u,d]),a.jsx(ae.span,{...l,ref:f,style:{pointerEvents:"none"},children:Mb(c.value)?a.jsx(a.Fragment,{children:i}):o})});mb.displayName=pb;var iO="SelectIcon",gb=h.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return a.jsx(ae.span,{"aria-hidden":!0,...s,ref:t,children:r||"▼"})});gb.displayName=iO;var aO="SelectPortal",vb=e=>a.jsx(Kl,{asChild:!0,...e});vb.displayName=aO;var is="SelectContent",yb=h.forwardRef((e,t)=>{const n=Ar(is,e.__scopeSelect),[r,s]=h.useState();if(Ve(()=>{s(new DocumentFragment)},[]),!n.open){const o=r;return o?lo.createPortal(a.jsx(xb,{scope:e.__scopeSelect,children:a.jsx(vc.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),o):null}return a.jsx(wb,{...e,ref:t})});yb.displayName=is;var Qt=10,[xb,Ir]=vo(is),lO="SelectContentImpl",cO=ts("SelectContent.RemoveScroll"),wb=h.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:y,sticky:S,hideWhenDetached:x,avoidCollisions:b,...m}=e,v=Ar(is,n),[g,w]=h.useState(null),[k,C]=h.useState(null),j=me(t,M=>w(M)),[_,N]=h.useState(null),[R,P]=h.useState(null),O=yc(n),[A,z]=h.useState(!1),U=h.useRef(!1);h.useEffect(()=>{if(g)return dh(g)},[g]),Zf();const H=h.useCallback(M=>{const[G,...J]=O().map(le=>le.ref.current),[Z]=J.slice(-1),ee=document.activeElement;for(const le of M)if(le===ee||(le==null||le.scrollIntoView({block:"nearest"}),le===G&&k&&(k.scrollTop=0),le===Z&&k&&(k.scrollTop=k.scrollHeight),le==null||le.focus(),document.activeElement!==ee))return},[O,k]),B=h.useCallback(()=>H([_,g]),[H,_,g]);h.useEffect(()=>{A&&B()},[A,B]);const{onOpenChange:T,triggerPointerDownPosRef:E}=v;h.useEffect(()=>{if(g){let M={x:0,y:0};const G=Z=>{var ee,le;M={x:Math.abs(Math.round(Z.pageX)-(((ee=E.current)==null?void 0:ee.x)??0)),y:Math.abs(Math.round(Z.pageY)-(((le=E.current)==null?void 0:le.y)??0))}},J=Z=>{M.x<=10&&M.y<=10?Z.preventDefault():g.contains(Z.target)||T(!1),document.removeEventListener("pointermove",G),E.current=null};return E.current!==null&&(document.addEventListener("pointermove",G),document.addEventListener("pointerup",J,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",G),document.removeEventListener("pointerup",J,{capture:!0})}}},[g,T,E]),h.useEffect(()=>{const M=()=>T(!1);return window.addEventListener("blur",M),window.addEventListener("resize",M),()=>{window.removeEventListener("blur",M),window.removeEventListener("resize",M)}},[T]);const[I,$]=Lb(M=>{const G=O().filter(ee=>!ee.disabled),J=G.find(ee=>ee.ref.current===document.activeElement),Z=$b(G,M,J);Z&&setTimeout(()=>Z.ref.current.focus())}),V=h.useCallback((M,G,J)=>{const Z=!U.current&&!J;(v.value!==void 0&&v.value===G||Z)&&(N(M),Z&&(U.current=!0))},[v.value]),Y=h.useCallback(()=>g==null?void 0:g.focus(),[g]),Q=h.useCallback((M,G,J)=>{const Z=!U.current&&!J;(v.value!==void 0&&v.value===G||Z)&&P(M)},[v.value]),he=r==="popper"?Gd:Sb,D=he===Gd?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:y,sticky:S,hideWhenDetached:x,avoidCollisions:b}:{};return a.jsx(xb,{scope:n,content:g,viewport:k,onViewportChange:C,itemRefCallback:V,selectedItem:_,onItemLeave:Y,itemTextRefCallback:Q,focusSelectedItem:B,selectedItemText:R,position:r,isPositioned:A,searchRef:I,children:a.jsx(ql,{as:cO,allowPinchZoom:!0,children:a.jsx(zl,{asChild:!0,trapped:v.open,onMountAutoFocus:M=>{M.preventDefault()},onUnmountAutoFocus:te(s,M=>{var G;(G=v.trigger)==null||G.focus({preventScroll:!0}),M.preventDefault()}),children:a.jsx(Fl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:M=>M.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:a.jsx(he,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:M=>M.preventDefault(),...m,...D,onPlaced:()=>z(!0),ref:j,style:{display:"flex",flexDirection:"column",outline:"none",...m.style},onKeyDown:te(m.onKeyDown,M=>{const G=M.ctrlKey||M.altKey||M.metaKey;if(M.key==="Tab"&&M.preventDefault(),!G&&M.key.length===1&&$(M.key),["ArrowUp","ArrowDown","Home","End"].includes(M.key)){let Z=O().filter(ee=>!ee.disabled).map(ee=>ee.ref.current);if(["ArrowUp","End"].includes(M.key)&&(Z=Z.slice().reverse()),["ArrowUp","ArrowDown"].includes(M.key)){const ee=M.target,le=Z.indexOf(ee);Z=Z.slice(le+1)}setTimeout(()=>H(Z)),M.preventDefault()}})})})})})})});wb.displayName=lO;var uO="SelectItemAlignedPosition",Sb=h.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,o=Ar(is,n),i=Ir(is,n),[l,c]=h.useState(null),[u,d]=h.useState(null),f=me(t,j=>d(j)),p=yc(n),y=h.useRef(!1),S=h.useRef(!0),{viewport:x,selectedItem:b,selectedItemText:m,focusSelectedItem:v}=i,g=h.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&u&&x&&b&&m){const j=o.trigger.getBoundingClientRect(),_=u.getBoundingClientRect(),N=o.valueNode.getBoundingClientRect(),R=m.getBoundingClientRect();if(o.dir!=="rtl"){const ee=R.left-_.left,le=N.left-ee,oe=j.left-le,ne=j.width+oe,de=Math.max(ne,_.width),ke=window.innerWidth-Qt,F=yl(le,[Qt,Math.max(Qt,ke-de)]);l.style.minWidth=ne+"px",l.style.left=F+"px"}else{const ee=_.right-R.right,le=window.innerWidth-N.right-ee,oe=window.innerWidth-j.right-le,ne=j.width+oe,de=Math.max(ne,_.width),ke=window.innerWidth-Qt,F=yl(le,[Qt,Math.max(Qt,ke-de)]);l.style.minWidth=ne+"px",l.style.right=F+"px"}const P=p(),O=window.innerHeight-Qt*2,A=x.scrollHeight,z=window.getComputedStyle(u),U=parseInt(z.borderTopWidth,10),H=parseInt(z.paddingTop,10),B=parseInt(z.borderBottomWidth,10),T=parseInt(z.paddingBottom,10),E=U+H+A+T+B,I=Math.min(b.offsetHeight*5,E),$=window.getComputedStyle(x),V=parseInt($.paddingTop,10),Y=parseInt($.paddingBottom,10),Q=j.top+j.height/2-Qt,he=O-Q,D=b.offsetHeight/2,M=b.offsetTop+D,G=U+H+M,J=E-G;if(G<=Q){const ee=P.length>0&&b===P[P.length-1].ref.current;l.style.bottom="0px";const le=u.clientHeight-x.offsetTop-x.offsetHeight,oe=Math.max(he,D+(ee?Y:0)+le+B),ne=G+oe;l.style.height=ne+"px"}else{const ee=P.length>0&&b===P[0].ref.current;l.style.top="0px";const oe=Math.max(Q,U+x.offsetTop+(ee?V:0)+D)+J;l.style.height=oe+"px",x.scrollTop=G-Q+x.offsetTop}l.style.margin=`${Qt}px 0`,l.style.minHeight=I+"px",l.style.maxHeight=O+"px",r==null||r(),requestAnimationFrame(()=>y.current=!0)}},[p,o.trigger,o.valueNode,l,u,x,b,m,o.dir,r]);Ve(()=>g(),[g]);const[w,k]=h.useState();Ve(()=>{u&&k(window.getComputedStyle(u).zIndex)},[u]);const C=h.useCallback(j=>{j&&S.current===!0&&(g(),v==null||v(),S.current=!1)},[g,v]);return a.jsx(fO,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:y,onScrollButtonChange:C,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:a.jsx(ae.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});Sb.displayName=uO;var dO="SelectPopperPosition",Gd=h.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Qt,...o}=e,i=xc(n);return a.jsx(zx,{...i,...o,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Gd.displayName=dO;var[fO,zh]=vo(is,{}),qd="SelectViewport",bb=h.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,o=Ir(qd,n),i=zh(qd,n),l=me(t,o.onViewportChange),c=h.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),a.jsx(vc.Slot,{scope:n,children:a.jsx(ae.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:te(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=i;if(p!=null&&p.current&&f){const y=Math.abs(c.current-d.scrollTop);if(y>0){const S=window.innerHeight-Qt*2,x=parseFloat(f.style.minHeight),b=parseFloat(f.style.height),m=Math.max(x,b);if(m<S){const v=m+y,g=Math.min(S,v),w=v-g;f.style.height=g+"px",f.style.bottom==="0px"&&(d.scrollTop=w>0?w:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});bb.displayName=qd;var jb="SelectGroup",[hO,pO]=vo(jb),mO=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Bt();return a.jsx(hO,{scope:n,id:s,children:a.jsx(ae.div,{role:"group","aria-labelledby":s,...r,ref:t})})});mO.displayName=jb;var _b="SelectLabel",Cb=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=pO(_b,n);return a.jsx(ae.div,{id:s.id,...r,ref:t})});Cb.displayName=_b;var xl="SelectItem",[gO,kb]=vo(xl),Nb=h.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...i}=e,l=Ar(xl,n),c=Ir(xl,n),u=l.value===r,[d,f]=h.useState(o??""),[p,y]=h.useState(!1),S=me(t,v=>{var g;return(g=c.itemRefCallback)==null?void 0:g.call(c,v,r,s)}),x=Bt(),b=h.useRef("touch"),m=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(gO,{scope:n,value:r,disabled:s,textId:x,isSelected:u,onItemTextChange:h.useCallback(v=>{f(g=>g||((v==null?void 0:v.textContent)??"").trim())},[]),children:a.jsx(vc.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:a.jsx(ae.div,{role:"option","aria-labelledby":x,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:S,onFocus:te(i.onFocus,()=>y(!0)),onBlur:te(i.onBlur,()=>y(!1)),onClick:te(i.onClick,()=>{b.current!=="mouse"&&m()}),onPointerUp:te(i.onPointerUp,()=>{b.current==="mouse"&&m()}),onPointerDown:te(i.onPointerDown,v=>{b.current=v.pointerType}),onPointerMove:te(i.onPointerMove,v=>{var g;b.current=v.pointerType,s?(g=c.onItemLeave)==null||g.call(c):b.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:te(i.onPointerLeave,v=>{var g;v.currentTarget===document.activeElement&&((g=c.onItemLeave)==null||g.call(c))}),onKeyDown:te(i.onKeyDown,v=>{var w;((w=c.searchRef)==null?void 0:w.current)!==""&&v.key===" "||(tO.includes(v.key)&&m(),v.key===" "&&v.preventDefault())})})})})});Nb.displayName=xl;var zo="SelectItemText",Eb=h.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...o}=e,i=Ar(zo,n),l=Ir(zo,n),c=kb(zo,n),u=oO(zo,n),[d,f]=h.useState(null),p=me(t,m=>f(m),c.onItemTextChange,m=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,m,c.value,c.disabled)}),y=d==null?void 0:d.textContent,S=h.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:y},c.value),[c.disabled,c.value,y]),{onNativeOptionAdd:x,onNativeOptionRemove:b}=u;return Ve(()=>(x(S),()=>b(S)),[x,b,S]),a.jsxs(a.Fragment,{children:[a.jsx(ae.span,{id:c.textId,...o,ref:p}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?lo.createPortal(o.children,i.valueNode):null]})});Eb.displayName=zo;var Rb="SelectItemIndicator",Pb=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return kb(Rb,n).isSelected?a.jsx(ae.span,{"aria-hidden":!0,...r,ref:t}):null});Pb.displayName=Rb;var Yd="SelectScrollUpButton",Tb=h.forwardRef((e,t)=>{const n=Ir(Yd,e.__scopeSelect),r=zh(Yd,e.__scopeSelect),[s,o]=h.useState(!1),i=me(t,r.onScrollButtonChange);return Ve(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;o(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx(Ib,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});Tb.displayName=Yd;var Jd="SelectScrollDownButton",Ab=h.forwardRef((e,t)=>{const n=Ir(Jd,e.__scopeSelect),r=zh(Jd,e.__scopeSelect),[s,o]=h.useState(!1),i=me(t,r.onScrollButtonChange);return Ve(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;o(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx(Ib,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});Ab.displayName=Jd;var Ib=h.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,o=Ir("SelectScrollButton",n),i=h.useRef(null),l=yc(n),c=h.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return h.useEffect(()=>()=>c(),[c]),Ve(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),a.jsx(ae.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:te(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:te(s.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:te(s.onPointerLeave,()=>{c()})})}),vO="SelectSeparator",Ob=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return a.jsx(ae.div,{"aria-hidden":!0,...r,ref:t})});Ob.displayName=vO;var Xd="SelectArrow",yO=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=xc(n),o=Ar(Xd,n),i=Ir(Xd,n);return o.open&&i.position==="popper"?a.jsx(Ux,{...s,...r,ref:t}):null});yO.displayName=Xd;var xO="SelectBubbleInput",Db=h.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const s=h.useRef(null),o=me(r,s),i=pc(t);return h.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[i,t]),a.jsx(ae.select,{...n,style:{...ub,...n.style},ref:o,defaultValue:t})});Db.displayName=xO;function Mb(e){return e===""||e===void 0}function Lb(e){const t=an(e),n=h.useRef(""),r=h.useRef(0),s=h.useCallback(i=>{const l=n.current+i;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),o=h.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function $b(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let i=wO(e,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==n));const c=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function wO(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var SO=db,Fb=hb,bO=mb,jO=gb,_O=vb,zb=yb,CO=bb,Ub=Cb,Bb=Nb,kO=Eb,NO=Pb,Vb=Tb,Hb=Ab,Wb=Ob;const zn=SO,Un=bO,Sn=h.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(Fb,{ref:r,className:L("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,a.jsx(jO,{asChild:!0,children:a.jsx(xh,{className:"h-4 w-4 opacity-50"})})]}));Sn.displayName=Fb.displayName;const Kb=h.forwardRef(({className:e,...t},n)=>a.jsx(Vb,{ref:n,className:L("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(kP,{className:"h-4 w-4"})}));Kb.displayName=Vb.displayName;const Gb=h.forwardRef(({className:e,...t},n)=>a.jsx(Hb,{ref:n,className:L("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(xh,{className:"h-4 w-4"})}));Gb.displayName=Hb.displayName;const bn=h.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>a.jsx(_O,{children:a.jsxs(zb,{ref:s,className:L("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[a.jsx(Kb,{}),a.jsx(CO,{className:L("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(Gb,{})]})}));bn.displayName=zb.displayName;const EO=h.forwardRef(({className:e,...t},n)=>a.jsx(Ub,{ref:n,className:L("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));EO.displayName=Ub.displayName;const Je=h.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(Bb,{ref:r,className:L("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(NO,{children:a.jsx(Ql,{className:"h-4 w-4"})})}),a.jsx(kO,{children:t})]}));Je.displayName=Bb.displayName;const RO=h.forwardRef(({className:e,...t},n)=>a.jsx(Wb,{ref:n,className:L("-mx-1 my-1 h-px bg-muted",e),...t}));RO.displayName=Wb.displayName;var qb=["PageUp","PageDown"],Yb=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Jb={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},yo="Slider",[Qd,PO,TO]=Ti(yo),[Xb,kM]=ut(yo,[TO]),[AO,wc]=Xb(yo),Qb=h.forwardRef((e,t)=>{const{name:n,min:r=0,max:s=100,step:o=1,orientation:i="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[r],value:d,onValueChange:f=()=>{},onValueCommit:p=()=>{},inverted:y=!1,form:S,...x}=e,b=h.useRef(new Set),m=h.useRef(0),g=i==="horizontal"?IO:OO,[w=[],k]=Gt({prop:d,defaultProp:u,onChange:P=>{var A;(A=[...b.current][m.current])==null||A.focus(),f(P)}}),C=h.useRef(w);function j(P){const O=FO(w,P);R(P,O)}function _(P){R(P,m.current)}function N(){const P=C.current[m.current];w[m.current]!==P&&p(w)}function R(P,O,{commit:A}={commit:!1}){const z=VO(o),U=HO(Math.round((P-r)/o)*o+r,z),H=yl(U,[r,s]);k((B=[])=>{const T=LO(B,H,O);if(BO(T,c*o)){m.current=T.indexOf(H);const E=String(T)!==String(B);return E&&A&&p(T),E?T:B}else return B})}return a.jsx(AO,{scope:e.__scopeSlider,name:n,disabled:l,min:r,max:s,valueIndexToChangeRef:m,thumbs:b.current,values:w,orientation:i,form:S,children:a.jsx(Qd.Provider,{scope:e.__scopeSlider,children:a.jsx(Qd.Slot,{scope:e.__scopeSlider,children:a.jsx(g,{"aria-disabled":l,"data-disabled":l?"":void 0,...x,ref:t,onPointerDown:te(x.onPointerDown,()=>{l||(C.current=w)}),min:r,max:s,inverted:y,onSlideStart:l?void 0:j,onSlideMove:l?void 0:_,onSlideEnd:l?void 0:N,onHomeKeyDown:()=>!l&&R(r,0,{commit:!0}),onEndKeyDown:()=>!l&&R(s,w.length-1,{commit:!0}),onStepKeyDown:({event:P,direction:O})=>{if(!l){const U=qb.includes(P.key)||P.shiftKey&&Yb.includes(P.key)?10:1,H=m.current,B=w[H],T=o*U*O;R(B+T,H,{commit:!0})}}})})})})});Qb.displayName=yo;var[Zb,ej]=Xb(yo,{startEdge:"left",endEdge:"right",size:"width",direction:1}),IO=h.forwardRef((e,t)=>{const{min:n,max:r,dir:s,inverted:o,onSlideStart:i,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...d}=e,[f,p]=h.useState(null),y=me(t,g=>p(g)),S=h.useRef(void 0),x=cs(s),b=x==="ltr",m=b&&!o||!b&&o;function v(g){const w=S.current||f.getBoundingClientRect(),k=[0,w.width],j=Uh(k,m?[n,r]:[r,n]);return S.current=w,j(g-w.left)}return a.jsx(Zb,{scope:e.__scopeSlider,startEdge:m?"left":"right",endEdge:m?"right":"left",direction:m?1:-1,size:"width",children:a.jsx(tj,{dir:x,"data-orientation":"horizontal",...d,ref:y,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:g=>{const w=v(g.clientX);i==null||i(w)},onSlideMove:g=>{const w=v(g.clientX);l==null||l(w)},onSlideEnd:()=>{S.current=void 0,c==null||c()},onStepKeyDown:g=>{const k=Jb[m?"from-left":"from-right"].includes(g.key);u==null||u({event:g,direction:k?-1:1})}})})}),OO=h.forwardRef((e,t)=>{const{min:n,max:r,inverted:s,onSlideStart:o,onSlideMove:i,onSlideEnd:l,onStepKeyDown:c,...u}=e,d=h.useRef(null),f=me(t,d),p=h.useRef(void 0),y=!s;function S(x){const b=p.current||d.current.getBoundingClientRect(),m=[0,b.height],g=Uh(m,y?[r,n]:[n,r]);return p.current=b,g(x-b.top)}return a.jsx(Zb,{scope:e.__scopeSlider,startEdge:y?"bottom":"top",endEdge:y?"top":"bottom",size:"height",direction:y?1:-1,children:a.jsx(tj,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:x=>{const b=S(x.clientY);o==null||o(b)},onSlideMove:x=>{const b=S(x.clientY);i==null||i(b)},onSlideEnd:()=>{p.current=void 0,l==null||l()},onStepKeyDown:x=>{const m=Jb[y?"from-bottom":"from-top"].includes(x.key);c==null||c({event:x,direction:m?-1:1})}})})}),tj=h.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:s,onSlideEnd:o,onHomeKeyDown:i,onEndKeyDown:l,onStepKeyDown:c,...u}=e,d=wc(yo,n);return a.jsx(ae.span,{...u,ref:t,onKeyDown:te(e.onKeyDown,f=>{f.key==="Home"?(i(f),f.preventDefault()):f.key==="End"?(l(f),f.preventDefault()):qb.concat(Yb).includes(f.key)&&(c(f),f.preventDefault())}),onPointerDown:te(e.onPointerDown,f=>{const p=f.target;p.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(p)?p.focus():r(f)}),onPointerMove:te(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&s(f)}),onPointerUp:te(e.onPointerUp,f=>{const p=f.target;p.hasPointerCapture(f.pointerId)&&(p.releasePointerCapture(f.pointerId),o(f))})})}),nj="SliderTrack",rj=h.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,s=wc(nj,n);return a.jsx(ae.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...r,ref:t})});rj.displayName=nj;var Zd="SliderRange",sj=h.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,s=wc(Zd,n),o=ej(Zd,n),i=h.useRef(null),l=me(t,i),c=s.values.length,u=s.values.map(p=>aj(p,s.min,s.max)),d=c>1?Math.min(...u):0,f=100-Math.max(...u);return a.jsx(ae.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...r,ref:l,style:{...e.style,[o.startEdge]:d+"%",[o.endEdge]:f+"%"}})});sj.displayName=Zd;var ef="SliderThumb",oj=h.forwardRef((e,t)=>{const n=PO(e.__scopeSlider),[r,s]=h.useState(null),o=me(t,l=>s(l)),i=h.useMemo(()=>r?n().findIndex(l=>l.ref.current===r):-1,[n,r]);return a.jsx(DO,{...e,ref:o,index:i})}),DO=h.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:s,...o}=e,i=wc(ef,n),l=ej(ef,n),[c,u]=h.useState(null),d=me(t,v=>u(v)),f=c?i.form||!!c.closest("form"):!0,p=Hl(c),y=i.values[r],S=y===void 0?0:aj(y,i.min,i.max),x=$O(r,i.values.length),b=p==null?void 0:p[l.size],m=b?zO(b,S,l.direction):0;return h.useEffect(()=>{if(c)return i.thumbs.add(c),()=>{i.thumbs.delete(c)}},[c,i.thumbs]),a.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${S}% + ${m}px)`},children:[a.jsx(Qd.ItemSlot,{scope:e.__scopeSlider,children:a.jsx(ae.span,{role:"slider","aria-label":e["aria-label"]||x,"aria-valuemin":i.min,"aria-valuenow":y,"aria-valuemax":i.max,"aria-orientation":i.orientation,"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,tabIndex:i.disabled?void 0:0,...o,ref:d,style:y===void 0?{display:"none"}:e.style,onFocus:te(e.onFocus,()=>{i.valueIndexToChangeRef.current=r})})}),f&&a.jsx(ij,{name:s??(i.name?i.name+(i.values.length>1?"[]":""):void 0),form:i.form,value:y},r)]})});oj.displayName=ef;var MO="RadioBubbleInput",ij=h.forwardRef(({__scopeSlider:e,value:t,...n},r)=>{const s=h.useRef(null),o=me(s,r),i=pc(t);return h.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&d){const f=new Event("input",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[i,t]),a.jsx(ae.input,{style:{display:"none"},...n,ref:o,defaultValue:t})});ij.displayName=MO;function LO(e=[],t,n){const r=[...e];return r[n]=t,r.sort((s,o)=>s-o)}function aj(e,t,n){const o=100/(n-t)*(e-t);return yl(o,[0,100])}function $O(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function FO(e,t){if(e.length===1)return 0;const n=e.map(s=>Math.abs(s-t)),r=Math.min(...n);return n.indexOf(r)}function zO(e,t,n){const r=e/2,o=Uh([0,50],[0,r]);return(r-o(t)*n)*n}function UO(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function BO(e,t){if(t>0){const n=UO(e);return Math.min(...n)>=t}return!0}function Uh(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function VO(e){return(String(e).split(".")[1]||"").length}function HO(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var lj=Qb,WO=rj,KO=sj,GO=oj;const cj=h.forwardRef(({className:e,...t},n)=>a.jsxs(lj,{ref:n,className:L("relative flex w-full touch-none select-none items-center",e),...t,children:[a.jsx(WO,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:a.jsx(KO,{className:"absolute h-full bg-primary"})}),a.jsx(GO,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));cj.displayName=lj.displayName;const ju=["#cfb912","#bf792d","#bd3636","#ce3298","#4248c0","#128caa","#9b24be","#b2275a","#2bb04a","#137d64"],qO=({open:e,onOpenChange:t,onSave:n})=>{const{actionButtons:r}=En(),s=Zn(),[o,i]=h.useState("simple"),[l,c]=h.useState(""),[u,d]=h.useState(ju[0]),[f,p]=h.useState("fold"),[y,S]=h.useState(""),[x,b]=h.useState(50),m=h.useMemo(()=>{const k={id:"fold",name:"Fold",color:"#6b7280",type:"simple"},C=r.filter(j=>j.type==="simple");return[k,...C]},[r]),v=()=>{if(!l.trim())return;let k;if(o==="simple")k={id:Date.now().toString(),type:"simple",name:l.trim(),color:u};else{if(!f||!y)return;k={id:Date.now().toString(),type:"weighted",name:l.trim(),action1Id:f,action2Id:y,weight:x}}n(k),g()},g=()=>{c(""),i("simple"),d(ju[0]),p("fold"),S(""),b(50),t(!1)},w=!l.trim()||o==="weighted"&&(!f||!y);return a.jsx(Mt,{open:e,onOpenChange:t,children:a.jsxs(_t,{className:"sm:max-w-[480px]",children:[a.jsxs(Ct,{children:[a.jsx(kt,{children:"Создать кнопку действия"}),a.jsx(Qn,{children:"Настройте простую или взвешенную кнопку для вашей стратегии."})]}),a.jsxs("div",{className:"space-y-6 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(W,{htmlFor:"action-name",children:"Название кнопки"}),a.jsx(be,{id:"action-name",value:l,onChange:k=>c(k.target.value),placeholder:"например, 3-bet"})]}),a.jsxs(at,{value:o,onValueChange:k=>i(k),className:"flex gap-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fe,{value:"simple",id:"simple"}),a.jsx(W,{htmlFor:"simple",children:"Простой цвет"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fe,{value:"weighted",id:"weighted"}),a.jsx(W,{htmlFor:"weighted",children:"Взвешенный"})]})]}),o==="simple"&&a.jsxs("div",{className:"space-y-3",children:[a.jsx(W,{children:"Цвет"}),a.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[ju.map(k=>a.jsx("button",{type:"button",className:L("w-8 h-8 rounded-full border-2 transition-all",u===k?"border-ring":"border-transparent"),style:{backgroundColor:k},onClick:()=>d(k)},k)),!s&&a.jsx("input",{type:"color",value:u,onChange:k=>d(k.target.value),className:"w-8 h-8 rounded-full border-2 cursor-pointer"})]})]}),o==="weighted"&&a.jsxs("div",{className:"space-y-4 rounded-md border p-4",children:[a.jsx("h4",{className:"font-medium",children:"Веса"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(W,{children:"Действие 1"}),a.jsxs(zn,{value:f,onValueChange:p,children:[a.jsx(Sn,{children:a.jsx(Un,{placeholder:"Выберите"})}),a.jsx(bn,{children:m.map(k=>a.jsx(Je,{value:k.id,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:k.color}}),a.jsx("span",{children:k.name})]})},k.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(W,{children:"Действие 2"}),a.jsxs(zn,{value:y,onValueChange:S,children:[a.jsx(Sn,{children:a.jsx(Un,{placeholder:"Выберите"})}),a.jsx(bn,{children:m.map(k=>a.jsx(Je,{value:k.id,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:k.color}}),a.jsx("span",{children:k.name})]})},k.id))})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx(W,{children:"Соотношение"}),a.jsxs("span",{children:[x,"% / ",100-x,"%"]})]}),a.jsx(cj,{value:[x],onValueChange:k=>b(k[0]),min:0,max:100,step:1})]})]})]}),a.jsxs(Xn,{children:[a.jsx(X,{variant:"outline",onClick:g,children:"Отмена"}),a.jsx(X,{onClick:v,disabled:w,children:"Сохранить"})]})]})})};var uj="AlertDialog",[YO,NM]=ut(uj,[Zw]),er=Zw(),dj=e=>{const{__scopeAlertDialog:t,...n}=e,r=er(t);return a.jsx(_h,{...r,...n,modal:!0})};dj.displayName=uj;var JO="AlertDialogTrigger",fj=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=er(n);return a.jsx(m0,{...s,...r,ref:t})});fj.displayName=JO;var XO="AlertDialogPortal",hj=e=>{const{__scopeAlertDialog:t,...n}=e,r=er(t);return a.jsx(Ch,{...r,...n})};hj.displayName=XO;var QO="AlertDialogOverlay",pj=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=er(n);return a.jsx(ec,{...s,...r,ref:t})});pj.displayName=QO;var Gs="AlertDialogContent",[ZO,eD]=YO(Gs),tD=FC("AlertDialogContent"),mj=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...s}=e,o=er(n),i=h.useRef(null),l=me(t,i),c=h.useRef(null);return a.jsx(YP,{contentName:Gs,titleName:gj,docsSlug:"alert-dialog",children:a.jsx(ZO,{scope:n,cancelRef:c,children:a.jsxs(tc,{role:"alertdialog",...o,...s,ref:l,onOpenAutoFocus:te(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[a.jsx(tD,{children:r}),a.jsx(rD,{contentRef:i})]})})})});mj.displayName=Gs;var gj="AlertDialogTitle",vj=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=er(n);return a.jsx(nc,{...s,...r,ref:t})});vj.displayName=gj;var yj="AlertDialogDescription",xj=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=er(n);return a.jsx(rc,{...s,...r,ref:t})});xj.displayName=yj;var nD="AlertDialogAction",wj=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=er(n);return a.jsx(sc,{...s,...r,ref:t})});wj.displayName=nD;var Sj="AlertDialogCancel",bj=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:s}=eD(Sj,n),o=er(n),i=me(t,s);return a.jsx(sc,{...o,...r,ref:i})});bj.displayName=Sj;var rD=({contentRef:e})=>{const t=`\`${Gs}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Gs}\` by passing a \`${yj}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Gs}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return h.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},sD=dj,oD=fj,iD=hj,jj=pj,_j=mj,Cj=wj,kj=bj,Nj=vj,Ej=xj;const Rj=sD,aD=oD,lD=iD,Pj=h.forwardRef(({className:e,...t},n)=>a.jsx(jj,{className:L("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));Pj.displayName=jj.displayName;const Bh=h.forwardRef(({className:e,...t},n)=>a.jsxs(lD,{children:[a.jsx(Pj,{}),a.jsx(_j,{ref:n,className:L("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Bh.displayName=_j.displayName;const Vh=({className:e,...t})=>a.jsx("div",{className:L("flex flex-col space-y-2 text-center sm:text-left",e),...t});Vh.displayName="AlertDialogHeader";const Hh=({className:e,...t})=>a.jsx("div",{className:L("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Hh.displayName="AlertDialogFooter";const Wh=h.forwardRef(({className:e,...t},n)=>a.jsx(Nj,{ref:n,className:L("text-lg font-semibold",e),...t}));Wh.displayName=Nj.displayName;const Kh=h.forwardRef(({className:e,...t},n)=>a.jsx(Ej,{ref:n,className:L("text-sm text-muted-foreground",e),...t}));Kh.displayName=Ej.displayName;const Gh=h.forwardRef(({className:e,...t},n)=>a.jsx(Cj,{ref:n,className:L($l(),e),...t}));Gh.displayName=Cj.displayName;const qh=h.forwardRef(({className:e,...t},n)=>a.jsx(kj,{ref:n,className:L($l({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));qh.displayName=kj.displayName;var Sc="Collapsible",[cD,Tj]=ut(Sc),[uD,Yh]=cD(Sc),Aj=h.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:s,disabled:o,onOpenChange:i,...l}=e,[c,u]=Gt({prop:r,defaultProp:s??!1,onChange:i,caller:Sc});return a.jsx(uD,{scope:n,disabled:o,contentId:Bt(),open:c,onOpenToggle:h.useCallback(()=>u(d=>!d),[u]),children:a.jsx(ae.div,{"data-state":Xh(c),"data-disabled":o?"":void 0,...l,ref:t})})});Aj.displayName=Sc;var Ij="CollapsibleTrigger",Oj=h.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,s=Yh(Ij,n);return a.jsx(ae.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":Xh(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...r,ref:t,onClick:te(e.onClick,s.onOpenToggle)})});Oj.displayName=Ij;var Jh="CollapsibleContent",Dj=h.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Yh(Jh,e.__scopeCollapsible);return a.jsx(qt,{present:n||s.open,children:({present:o})=>a.jsx(dD,{...r,ref:t,present:o})})});Dj.displayName=Jh;var dD=h.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:s,...o}=e,i=Yh(Jh,n),[l,c]=h.useState(r),u=h.useRef(null),d=me(t,u),f=h.useRef(0),p=f.current,y=h.useRef(0),S=y.current,x=i.open||l,b=h.useRef(x),m=h.useRef(void 0);return h.useEffect(()=>{const v=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(v)},[]),Ve(()=>{const v=u.current;if(v){m.current=m.current||{transitionDuration:v.style.transitionDuration,animationName:v.style.animationName},v.style.transitionDuration="0s",v.style.animationName="none";const g=v.getBoundingClientRect();f.current=g.height,y.current=g.width,b.current||(v.style.transitionDuration=m.current.transitionDuration,v.style.animationName=m.current.animationName),c(r)}},[i.open,r]),a.jsx(ae.div,{"data-state":Xh(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!x,...o,ref:d,style:{"--radix-collapsible-content-height":p?`${p}px`:void 0,"--radix-collapsible-content-width":S?`${S}px`:void 0,...e.style},children:x&&s})});function Xh(e){return e?"open":"closed"}var fD=Aj,hD=Oj,pD=Dj,fn="Accordion",mD=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Qh,gD,vD]=Ti(fn),[bc,EM]=ut(fn,[vD,Tj]),Zh=Tj(),Mj=q.forwardRef((e,t)=>{const{type:n,...r}=e,s=r,o=r;return a.jsx(Qh.Provider,{scope:e.__scopeAccordion,children:n==="multiple"?a.jsx(SD,{...o,ref:t}):a.jsx(wD,{...s,ref:t})})});Mj.displayName=fn;var[Lj,yD]=bc(fn),[$j,xD]=bc(fn,{collapsible:!1}),wD=q.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},collapsible:o=!1,...i}=e,[l,c]=Gt({prop:n,defaultProp:r??"",onChange:s,caller:fn});return a.jsx(Lj,{scope:e.__scopeAccordion,value:q.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:q.useCallback(()=>o&&c(""),[o,c]),children:a.jsx($j,{scope:e.__scopeAccordion,collapsible:o,children:a.jsx(Fj,{...i,ref:t})})})}),SD=q.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},...o}=e,[i,l]=Gt({prop:n,defaultProp:r??[],onChange:s,caller:fn}),c=q.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=q.useCallback(d=>l((f=[])=>f.filter(p=>p!==d)),[l]);return a.jsx(Lj,{scope:e.__scopeAccordion,value:i,onItemOpen:c,onItemClose:u,children:a.jsx($j,{scope:e.__scopeAccordion,collapsible:!0,children:a.jsx(Fj,{...o,ref:t})})})}),[bD,jc]=bc(fn),Fj=q.forwardRef((e,t)=>{const{__scopeAccordion:n,disabled:r,dir:s,orientation:o="vertical",...i}=e,l=q.useRef(null),c=me(l,t),u=gD(n),f=cs(s)==="ltr",p=te(e.onKeyDown,y=>{var _;if(!mD.includes(y.key))return;const S=y.target,x=u().filter(N=>{var R;return!((R=N.ref.current)!=null&&R.disabled)}),b=x.findIndex(N=>N.ref.current===S),m=x.length;if(b===-1)return;y.preventDefault();let v=b;const g=0,w=m-1,k=()=>{v=b+1,v>w&&(v=g)},C=()=>{v=b-1,v<g&&(v=w)};switch(y.key){case"Home":v=g;break;case"End":v=w;break;case"ArrowRight":o==="horizontal"&&(f?k():C());break;case"ArrowDown":o==="vertical"&&k();break;case"ArrowLeft":o==="horizontal"&&(f?C():k());break;case"ArrowUp":o==="vertical"&&C();break}const j=v%m;(_=x[j].ref.current)==null||_.focus()});return a.jsx(bD,{scope:n,disabled:r,direction:s,orientation:o,children:a.jsx(Qh.Slot,{scope:n,children:a.jsx(ae.div,{...i,"data-orientation":o,ref:c,onKeyDown:r?void 0:p})})})}),wl="AccordionItem",[jD,ep]=bc(wl),zj=q.forwardRef((e,t)=>{const{__scopeAccordion:n,value:r,...s}=e,o=jc(wl,n),i=yD(wl,n),l=Zh(n),c=Bt(),u=r&&i.value.includes(r)||!1,d=o.disabled||e.disabled;return a.jsx(jD,{scope:n,open:u,disabled:d,triggerId:c,children:a.jsx(fD,{"data-orientation":o.orientation,"data-state":Kj(u),...l,...s,ref:t,disabled:d,open:u,onOpenChange:f=>{f?i.onItemOpen(r):i.onItemClose(r)}})})});zj.displayName=wl;var Uj="AccordionHeader",Bj=q.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,s=jc(fn,n),o=ep(Uj,n);return a.jsx(ae.h3,{"data-orientation":s.orientation,"data-state":Kj(o.open),"data-disabled":o.disabled?"":void 0,...r,ref:t})});Bj.displayName=Uj;var tf="AccordionTrigger",Vj=q.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,s=jc(fn,n),o=ep(tf,n),i=xD(tf,n),l=Zh(n);return a.jsx(Qh.ItemSlot,{scope:n,children:a.jsx(hD,{"aria-disabled":o.open&&!i.collapsible||void 0,"data-orientation":s.orientation,id:o.triggerId,...l,...r,ref:t})})});Vj.displayName=tf;var Hj="AccordionContent",Wj=q.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,s=jc(fn,n),o=ep(Hj,n),i=Zh(n);return a.jsx(pD,{role:"region","aria-labelledby":o.triggerId,"data-orientation":s.orientation,...i,...r,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});Wj.displayName=Hj;function Kj(e){return e?"open":"closed"}var _D=Mj,CD=zj,kD=Bj,Gj=Vj,qj=Wj;const Yj=_D,tp=h.forwardRef(({className:e,...t},n)=>a.jsx(CD,{ref:n,className:L("border-b",e),...t}));tp.displayName="AccordionItem";const np=h.forwardRef(({className:e,children:t,...n},r)=>a.jsx(kD,{className:"flex",children:a.jsxs(Gj,{ref:r,className:L("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...n,children:[t,a.jsx(xh,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));np.displayName=Gj.displayName;const rp=h.forwardRef(({className:e,children:t,...n},r)=>a.jsx(qj,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:a.jsx("div",{className:L("pb-4 pt-0",e),children:t})}));rp.displayName=qj.displayName;const _u=({folders:e,selectedRange:t,setSelectedRange:n,editingFolderId:r,setEditingFolderId:s,editingButton:o,setEditingButton:i,updateFolderName:l,updateRangeName:c,addRange:u,deleteFolder:d,deleteRange:f,cloneRange:p,isMobileMode:y,inDialog:S,totalFoldersCount:x,openFolderId:b,setOpenFolderId:m})=>a.jsx(Yj,{type:"single",collapsible:!0,value:b||void 0,onValueChange:m,children:e.map(v=>a.jsxs(tp,{value:v.id,children:[a.jsxs(np,{className:"flex items-center justify-between mb-1 py-2 hover:no-underline",children:[r===v.id?a.jsx(be,{value:v.name,onChange:g=>l(v.id,g.target.value),onBlur:()=>s(null),onKeyDown:g=>{g.key==="Enter"&&s(null)},className:L("h-6 text-sm border-none bg-transparent p-0 focus:bg-background",y&&"max-w-[50vw]"),autoFocus:!0,onClick:g=>g.stopPropagation()}):a.jsx("span",{onDoubleClick:()=>s(v.id),className:L("cursor-text text-sm flex-1 truncate text-left",y&&"max-w-[50vw]"),children:v.name}),a.jsxs("div",{className:"flex items-center gap-1 ml-auto",children:[a.jsx(X,{size:"sm",variant:"ghost",onClick:g=>{g.stopPropagation(),u(v.id)},className:"h-6 w-6 p-0",children:a.jsx(Wr,{className:"h-3 w-3"})}),x>1&&a.jsxs(Rj,{children:[a.jsx(aD,{asChild:!0,children:a.jsx(X,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0",onClick:g=>g.stopPropagation(),children:a.jsx(rs,{className:"h-3 w-3"})})}),a.jsxs(Bh,{children:[a.jsxs(Vh,{children:[a.jsx(Wh,{children:"Вы уверены?"}),a.jsxs(Kh,{children:['Это действие безвозвратно удалит папку "',v.name,'" и все содержащиеся в ней ренжи.']})]}),a.jsxs(Hh,{children:[a.jsx(qh,{children:"Отмена"}),a.jsx(Gh,{onClick:()=>d(v.id),children:"Удалить"})]})]})]})]})]}),a.jsx(rp,{className:"pb-0 pt-0",children:a.jsx("div",{className:"space-y-1 ml-4",children:v.ranges.map(g=>a.jsxs("div",{className:L("flex items-center justify-between p-2 rounded cursor-pointer",t===g.id?"bg-primary/10":"hover:bg-muted/50"),onClick:()=>{n(g.id)},children:[a.jsx("span",{onDoubleClick:w=>{w.stopPropagation(),i(g.id)},className:L("cursor-text text-xs flex-1 truncate",y&&"max-w-[50vw]"),children:o===g.id?a.jsx(be,{value:g.name,onChange:w=>c(g.id,w.target.value),onBlur:()=>i(null),onKeyDown:w=>{w.key==="Enter"&&i(null)},className:"h-5 text-xs border-none bg-transparent p-0 focus:bg-background",autoFocus:!0,onClick:w=>w.stopPropagation()}):g.name}),a.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[a.jsx(X,{size:"sm",variant:"ghost",onClick:w=>{w.stopPropagation(),p(v.id,g)},className:"h-6 w-6 p-0",children:a.jsx(RP,{className:"h-3 w-3"})}),v.ranges.length>1&&a.jsx(X,{size:"sm",variant:"ghost",onClick:w=>{w.stopPropagation(),f(g.id)},className:"h-6 w-6 p-0",children:a.jsx(rs,{className:"h-3 w-3"})})]})]},g.id))})})]},v.id))}),Dg=({isMobileMode:e=!1})=>{var Y,Q,he;const[t,n]=h.useState(null),[r,s]=h.useState(null),{folders:o,setFolders:i,actionButtons:l,setActionButtons:c,foldColor:u}=En(),[d,f]=h.useState(((Q=(Y=o[0])==null?void 0:Y.ranges[0])==null?void 0:Q.id)||""),[p,y]=h.useState(((he=l[0])==null?void 0:he.id)||"raise"),[S,x]=h.useState(!1),[b,m]=h.useState(null),[v,g]=h.useState(!1);h.useEffect(()=>{var M;const D=o.find(G=>G.ranges.some(J=>J.id===d));D?m(D.id):o.length>0?(m(o[0].id),f(((M=o[0].ranges[0])==null?void 0:M.id)||"")):m(null)},[d,o]);const w=()=>{for(const D of o){const M=D.ranges.find(G=>G.id===d);if(M)return{folder:D,range:M}}return o.length>0&&o[0].ranges.length>0?{folder:o[0],range:o[0].ranges[0]}:{folder:null,range:null}},k=(D,M)=>{i(G=>G.map(J=>({...J,ranges:J.ranges.map(Z=>Z.id===D?{...Z,name:M}:Z)})))},C=(D,M)=>{i(G=>G.map(J=>J.id===D?{...J,name:M}:J))},j=()=>{const D={id:Date.now().toString(),name:"Новая папка",ranges:[{id:Date.now().toString()+"-range",name:"Новый ренж",hands:{}}]};i(M=>[...M,D]),f(D.ranges[0].id)},_=D=>{i(M=>{var J;const G=M.filter(Z=>Z.id!==D);if(G.length===0){const Z={id:Date.now().toString(),name:"Папка",ranges:[{id:Date.now().toString()+"-range",name:"Ренж",hands:{}}]};return f(Z.ranges[0].id),[Z]}else G.some(Z=>Z.ranges.some(ee=>ee.id===d))||f(((J=G[0].ranges[0])==null?void 0:J.id)||"");return G})},N=D=>{const M={id:Date.now().toString(),name:"Новый ренж",hands:{}};i(G=>G.map(J=>J.id===D?{...J,ranges:[...J.ranges,M]}:J)),f(M.id)},R=(D,M)=>{const G={id:Date.now().toString(),name:`${M.name} +clone`,hands:{...M.hands}};i(J=>J.map(Z=>Z.id===D?{...Z,ranges:[...Z.ranges,G]}:Z)),f(G.id)},P=D=>{i(M=>{let G=d;const J=M.map(Z=>{const ee=Z.ranges.filter(le=>le.id!==D);return ee.length===0&&Z.id!=="1"?null:{...Z,ranges:ee}}).filter(Boolean);if(G===D){let Z=!1;for(const ee of J)if(ee.ranges.length>0){G=ee.ranges[0].id,Z=!0;break}if(!Z){const ee={id:Date.now().toString(),name:"Папка",ranges:[{id:Date.now().toString()+"-range",name:"Ренж",hands:{}}]};return G=ee.ranges[0].id,[ee]}}return f(G),J})},O=D=>{c(M=>[...M,D]),y(D.id)},A=(D,M,G)=>{c(J=>J.map(Z=>Z.id===D&&Z.type==="simple"?{...Z,[M]:G}:Z))},z=D=>{if(l.length<=1)return;const M=l.find(J=>J.id===D);if(!M)return;const G=new Set([D]);M.type==="simple"&&l.forEach(J=>{J.type==="weighted"&&(J.action1Id===D||J.action2Id===D)&&G.add(J.id)}),i(J=>J.map(Z=>({...Z,ranges:Z.ranges.map(ee=>{const le={...ee.hands};return Object.entries(le).forEach(([oe,ne])=>{G.has(ne)&&delete le[oe]}),{...ee,hands:le}})}))),c(J=>{var ee;const Z=J.filter(le=>!G.has(le.id));return G.has(p)&&y(((ee=Z[0])==null?void 0:ee.id)||""),Z})},U=(D,M)=>{const{range:G}=w();if(!G)return;const J={...G.hands};M==="select"?J[D]=p:J[D]===p&&delete J[D],i(Z=>Z.map(ee=>({...ee,ranges:ee.ranges.map(le=>le.id===G.id?{...le,hands:J}:le)})))},{folder:H,range:B}=w(),T=()=>{if(!B||!B.hands)return 0;let D=0;return Object.entries(B.hands).forEach(([M,G])=>{const J=cb(M);G&&G!=="fold"&&typeof J=="number"&&!isNaN(J)&&(D+=J)}),D},E=()=>{const D=T();return Og>0?Math.round(D/Og*100):0},I=(D=!1)=>a.jsxs("div",{className:L("space-y-4",D?"flex-1 flex flex-col":""),children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-lg font-semibold",children:e||D?"Создать папку":"Создать"}),e||D?a.jsx(X,{size:"sm",onClick:j,variant:"outline",children:a.jsx(Wr,{className:"h-4 w-4"})}):a.jsx(X,{size:"sm",onClick:j,variant:"ghost",className:"h-6 w-6 p-0",children:a.jsx(Wr,{className:"h-4 w-4"})})]}),a.jsx("div",{className:L("space-y-2 overflow-y-auto",!D&&e&&"max-h-64",D?"flex-1":""),children:D?a.jsx("div",{className:"space-y-2",children:a.jsx(_u,{folders:o,selectedRange:d,setSelectedRange:f,editingFolderId:r,setEditingFolderId:s,editingButton:t,setEditingButton:n,updateFolderName:C,updateRangeName:k,addRange:N,deleteFolder:_,deleteRange:P,cloneRange:R,isMobileMode:e,inDialog:D,totalFoldersCount:o.length,openFolderId:b,setOpenFolderId:m})}):e?o.map(M=>a.jsx(tt,{className:"p-3",children:a.jsx(_u,{folders:[M],selectedRange:d,setSelectedRange:f,editingFolderId:r,setEditingFolderId:s,editingButton:t,setEditingButton:n,updateFolderName:C,updateRangeName:k,addRange:N,deleteFolder:_,deleteRange:P,cloneRange:R,isMobileMode:e,inDialog:D,totalFoldersCount:o.length,openFolderId:b,setOpenFolderId:m})},M.id)):a.jsx(tt,{className:"p-3 space-y-2",children:a.jsx(_u,{folders:o,selectedRange:d,setSelectedRange:f,editingFolderId:r,setEditingFolderId:s,editingButton:t,setEditingButton:n,updateFolderName:C,updateRangeName:k,addRange:N,deleteFolder:_,deleteRange:P,cloneRange:R,isMobileMode:e,inDialog:D,totalFoldersCount:o.length,openFolderId:b,setOpenFolderId:m})})})]}),$=(D,M)=>{if(D==="fold")return u;const G=M.find(J=>J.id===D);return G&&G.type==="simple"?G.color:"#ffffff"},V=D=>{if(D.type==="simple")return{backgroundColor:D.color};if(D.type==="weighted"){const M=$(D.action1Id,l),G=$(D.action2Id,l);return{background:`linear-gradient(to right, ${M} ${D.weight}%, ${G} ${D.weight}%)`}}return{}};return a.jsxs("div",{className:L("bg-background",e?"h-full flex flex-col":"flex h-screen"),children:[a.jsx(qO,{open:v,onOpenChange:g,onSave:O}),e?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex-1 overflow-y-auto py-4",children:a.jsxs("div",{className:"mx-auto max-w-full",children:[a.jsxs("div",{className:"flex justify-between items-end mb-4 px-4",children:[a.jsxs("div",{className:"text-left",children:[H&&a.jsx("h2",{className:"text-base font-bold text-muted-foreground mb-px",children:H.name}),B&&a.jsx("h1",{className:"text-sm font-normal ml-1",children:B.name})]}),B&&a.jsxs("div",{className:"bg-background/80 px-2 py-1 rounded text-xs font-mono flex items-center gap-1 z-10",children:[a.jsxs("span",{className:"text-primary font-bold",children:[E(),"%"]}),a.jsxs("span",{className:"text-muted-foreground",children:["(",T(),")"]})]})]}),B&&a.jsx("div",{className:"overflow-x-auto",children:a.jsx(Yr,{selectedHands:B.hands,onHandSelect:U,activeAction:p,actionButtons:l})}),a.jsx("div",{className:"bg-card rounded-lg p-3 mt-4 mx-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-sm font-medium",children:"Действия"}),a.jsx(X,{size:"sm",variant:"outline",onClick:()=>g(!0),children:a.jsx(Wr,{className:"h-3 w-3"})})]}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:l.map(D=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(X,{size:"sm",onClick:()=>y(D.id),style:V(D),className:L("flex-1 min-w-0 text-primary-foreground border-transparent","hover:opacity-90 transition-opacity",p===D.id&&"ring-2 ring-offset-2 ring-offset-card ring-primary"),children:t===D.id?a.jsx(be,{value:D.name,onChange:M=>A(D.id,"name",M.target.value),onBlur:()=>n(null),onKeyDown:M=>{M.key==="Enter"&&n(null)},className:"h-5 text-xs border-none bg-transparent p-0 focus:bg-background text-center w-full",autoFocus:!0,onClick:M=>M.stopPropagation()}):a.jsx("span",{onDoubleClick:M=>{M.stopPropagation(),n(D.id)},className:"cursor-text truncate px-1",children:D.name})}),a.jsxs("div",{className:"flex gap-1",children:[D.type==="simple"?a.jsx("input",{type:"color",value:D.color,onChange:M=>A(D.id,"color",M.target.value),className:"w-6 h-6 rounded border cursor-pointer"}):a.jsx("div",{className:"w-6 h-6 flex items-center justify-center",children:a.jsx(Ym,{className:"h-4 w-4 text-muted-foreground"})}),l.length>1&&a.jsx(X,{size:"sm",variant:"ghost",onClick:()=>z(D.id),children:a.jsx(rs,{className:"h-3 w-3"})})]})]},D.id))})]})})]})}),a.jsx("div",{className:"bg-card border-t p-3 pb-[calc(env(safe-area-inset-bottom)+0.75rem)]",children:a.jsxs(Mt,{open:S,onOpenChange:x,children:[a.jsx(g0,{asChild:!0,children:a.jsx(X,{variant:"outline",className:"w-full",children:"Выбрать ренж"})}),a.jsxs(_t,{mobileFullscreen:!0,className:"flex flex-col",children:[a.jsx(Ct,{children:a.jsx(kt,{children:"Выбрать ренж"})}),I(!0),a.jsx(Xn,{className:"mt-auto p-4 border-t",children:a.jsx(X,{onClick:()=>x(!1),className:"w-full",children:"Выбрать"})})]})]})})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-card space-y-4 w-80 border-r flex flex-col p-4",children:[a.jsx("div",{className:"space-y-4 order-1",children:I()}),a.jsxs("div",{className:"space-y-3 border-t order-2 pt-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-sm font-medium",children:"Действия"}),a.jsx(X,{size:"sm",variant:"outline",onClick:()=>g(!0),children:a.jsx(Wr,{className:"h-3 w-3"})})]}),a.jsx("div",{className:"space-y-2",children:l.map(D=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(X,{size:"sm",onClick:()=>y(D.id),style:V(D),className:L("flex-1 min-w-0 text-primary-foreground border-transparent","hover:opacity-90 transition-opacity",p===D.id&&"ring-2 ring-offset-2 ring-offset-card ring-primary"),children:t===D.id?a.jsx(be,{value:D.name,onChange:M=>A(D.id,"name",M.target.value),onBlur:()=>n(null),onKeyDown:M=>{M.key==="Enter"&&n(null)},className:"h-5 text-xs border-none bg-transparent p-0 focus:bg-background text-center w-full",autoFocus:!0,onClick:M=>M.stopPropagation()}):a.jsx("span",{onDoubleClick:M=>{M.stopPropagation(),n(D.id)},className:"cursor-text truncate px-1",children:D.name})}),a.jsxs("div",{className:"flex gap-1",children:[D.type==="simple"?a.jsx("input",{type:"color",value:D.color,onChange:M=>A(D.id,"color",M.target.value),className:"w-6 h-6 rounded border cursor-pointer"}):a.jsx("div",{className:"w-6 h-6 flex items-center justify-center",children:a.jsx(Ym,{className:"h-4 w-4 text-muted-foreground"})}),l.length>1&&a.jsx(X,{size:"sm",variant:"ghost",onClick:()=>z(D.id),children:a.jsx(rs,{className:"h-3 w-3"})})]})]},D.id))})]})]}),a.jsx("div",{className:"flex-1 p-6",children:a.jsx("div",{className:"mx-auto max-w-4xl",children:a.jsxs("div",{className:"space-y-4 lg:w-[63%] mx-auto",children:[a.jsxs("div",{className:"flex justify-between items-end",children:[a.jsxs("div",{className:"text-left",children:[H&&a.jsx("h2",{className:"text-base font-bold text-muted-foreground mb-px",children:H.name}),B&&a.jsx("h1",{className:"text-sm font-normal ml-1",children:B.name})]}),B&&a.jsxs("div",{className:"bg-background/80 px-2 py-1 rounded text-xs font-mono flex items-center gap-1 z-10",children:[a.jsxs("span",{className:"text-primary font-bold",children:[E(),"%"]}),a.jsxs("span",{className:"text-muted-foreground",children:["(",T(),")"]})]})]}),B&&a.jsx("div",{className:L(e&&"overflow-x-auto"),children:a.jsx(Yr,{selectedHands:B.hands,onHandSelect:U,activeAction:p,actionButtons:l})})]})})})]})]})},ND=({open:e,onOpenChange:t,onCreateTraining:n})=>{const r=Zn(),[s,o]=h.useState(""),[i,l]=h.useState("classic"),[c,u]=h.useState("all-hands"),[d,f]=h.useState(0),[p,y]=h.useState("sequential"),[S,x]=h.useState([]),{folders:b}=En(),m=b.some(w=>w.ranges.length>0),v=w=>{x(k=>k.includes(w)?k.filter(C=>C!==w):[...k,w])},g=()=>{if(!s.trim()||S.length===0||!m)return;const w={id:Date.now().toString(),name:s.trim(),type:i,subtype:i==="classic"?c:void 0,borderExpansionLevel:i==="classic"&&c==="border-check"?d:void 0,rangeSelectionOrder:i==="border-repeat"?p:void 0,ranges:S,createdAt:new Date,stats:null};n(w),o(""),l("classic"),u("all-hands"),f(0),y("sequential"),x([]),t(!1)};return a.jsx(Mt,{open:e,onOpenChange:t,children:a.jsxs(_t,{mobileFullscreen:r,className:L("flex flex-col",!r&&"max-h-[90vh]"),children:[a.jsx(Ct,{className:"relative -top-2 flex-shrink-0",children:a.jsx(kt,{children:"Создать тренировку"})}),a.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[a.jsx("div",{className:"space-y-2 mt-1 flex-shrink-0",children:a.jsx(be,{id:"training-name",value:s,onChange:w=>o(w.target.value),placeholder:"Введите название тренировки",className:"h-8"})}),a.jsxs("div",{className:"flex-1 flex flex-col min-h-0 overflow-y-auto py-2 pr-2",children:[a.jsx(W,{className:"block w-full text-center flex-shrink-0 mb-3",children:"Вид тренировки"}),a.jsxs(at,{value:i,onValueChange:w=>l(w),className:"grid grid-cols-2 gap-x-6",children:[a.jsx("div",{className:"flex flex-col space-y-4",children:a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fe,{value:"classic",id:"classic"}),a.jsx(W,{htmlFor:"classic",className:"font-medium cursor-pointer",children:"Классическая"})]}),i==="classic"&&a.jsx("div",{className:"space-y-3 pl-8 pt-3",children:a.jsxs(at,{value:c,onValueChange:w=>u(w),children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fe,{value:"all-hands",id:"all-hands"}),a.jsx(W,{htmlFor:"all-hands",children:"Все руки"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fe,{value:"border-check",id:"border-check"}),a.jsx(W,{htmlFor:"border-check",children:"Граница ренжа"})]}),c==="border-check"&&a.jsxs("div",{className:"pl-8 pt-2",children:[a.jsx(W,{className:"text-xs font-normal text-muted-foreground",children:"Уровень расширения"}),a.jsxs(at,{value:String(d),onValueChange:w=>f(Number(w)),className:"flex items-center gap-x-4 pt-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fe,{value:"0",id:"level-0"}),a.jsx(W,{htmlFor:"level-0",className:"font-normal cursor-pointer",children:"0"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fe,{value:"1",id:"level-1"}),a.jsx(W,{htmlFor:"level-1",className:"font-normal cursor-pointer",children:"+1"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fe,{value:"2",id:"level-2"}),a.jsx(W,{htmlFor:"level-2",className:"font-normal cursor-pointer",children:"+2"})]})]})]})]})]})})]})}),a.jsx("div",{className:"flex flex-col space-y-4",children:a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fe,{value:"border-repeat",id:"border-repeat"}),a.jsx(W,{htmlFor:"border-repeat",className:"font-medium cursor-pointer",children:"Повторение границ"})]}),i==="border-repeat"&&a.jsxs("div",{className:"pl-8 pt-3",children:[a.jsx(W,{className:"text-xs font-normal text-muted-foreground",children:"Порядок ренжей"}),a.jsxs(at,{value:p,onValueChange:w=>y(w),className:"flex flex-col gap-y-3 pt-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fe,{value:"sequential",id:"sequential"}),a.jsx(W,{htmlFor:"sequential",className:"font-normal cursor-pointer",children:"По порядку"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fe,{value:"random",id:"random"}),a.jsx(W,{htmlFor:"random",className:"font-normal cursor-pointer",children:"Случайно"})]})]})]})]})})]}),a.jsxs("div",{className:"space-y-3 pt-4 flex-1 flex flex-col min-h-0",children:[a.jsx(W,{children:"Выберите ренжи для тренировки"}),m?a.jsx(Yj,{type:"multiple",className:"w-full flex-1 overflow-y-auto -mr-2 pr-2",children:b.map(w=>w.ranges.length>0?a.jsxs(tp,{value:w.id,children:[a.jsx(np,{className:"py-2 hover:no-underline",children:w.name}),a.jsx(rp,{children:a.jsx("div",{className:"space-y-2 pt-2 pl-4",children:w.ranges.map(k=>a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Vn,{id:k.id,checked:S.includes(k.id),onCheckedChange:()=>v(k.id)}),a.jsx(W,{htmlFor:k.id,className:"text-sm font-normal cursor-pointer",children:k.name})]},k.id))})})]},w.id):null)}):a.jsx(tt,{className:"p-4 text-center",children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"Создайте хотя бы 1 ренж чтобы создать тренировку"})})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 mt-auto flex-shrink-0",children:[a.jsx(X,{variant:"outline",onClick:()=>t(!1),children:"Отмена"}),a.jsx(X,{onClick:g,disabled:!s.trim()||S.length===0||!m,variant:"poker",children:"Создать тренировку"})]})]})]})})},Jj=h.forwardRef(({className:e,...t},n)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:n,className:L("w-full caption-bottom text-sm",e),...t})}));Jj.displayName="Table";const Xj=h.forwardRef(({className:e,...t},n)=>a.jsx("thead",{ref:n,className:L("[&_tr]:border-b",e),...t}));Xj.displayName="TableHeader";const Qj=h.forwardRef(({className:e,...t},n)=>a.jsx("tbody",{ref:n,className:L("[&_tr:last-child]:border-0",e),...t}));Qj.displayName="TableBody";const ED=h.forwardRef(({className:e,...t},n)=>a.jsx("tfoot",{ref:n,className:L("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));ED.displayName="TableFooter";const nf=h.forwardRef(({className:e,...t},n)=>a.jsx("tr",{ref:n,className:L("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));nf.displayName="TableRow";const Uo=h.forwardRef(({className:e,...t},n)=>a.jsx("th",{ref:n,className:L("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Uo.displayName="TableHead";const Bo=h.forwardRef(({className:e,...t},n)=>a.jsx("td",{ref:n,className:L("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Bo.displayName="TableCell";const RD=h.forwardRef(({className:e,...t},n)=>a.jsx("caption",{ref:n,className:L("mt-4 text-sm text-muted-foreground",e),...t}));RD.displayName="TableCaption";const Mg=["spades","hearts","diamonds","clubs"],PD=({hand:e,className:t,fixedCards:n})=>{const r=Zn(),o=n||(u=>{const d=()=>Mg[Math.floor(Math.random()*Mg.length)],f=()=>{let p=d(),y=d();for(;p===y;)y=d();return[p,y]};if(u.length===2&&u[0]===u[1]){const[p,y]=f();return[{rank:u[0],suit:p},{rank:u[1],suit:y}]}else if(u.length===3)if(u[2]==="s"){const y=d();return[{rank:u[0],suit:y},{rank:u[1],suit:y}]}else{const[y,S]=f();return[{rank:u[0],suit:y},{rank:u[1],suit:S}]}else if(u.length===2){const[p,y]=f();return[{rank:u[0],suit:p},{rank:u[1],suit:y}]}return[{rank:"A",suit:"spades"},{rank:"A",suit:"hearts"}]})(e),i=u=>{switch(u){case"hearts":return"♥";case"diamonds":return"♦";case"clubs":return"♣";case"spades":default:return"♠"}},l=u=>{switch(u){case"hearts":return"bg-red-700";case"diamonds":return"bg-blue-700";case"clubs":return"bg-green-700";case"spades":default:return"bg-gray-800"}},c=u=>u;return a.jsx("div",{className:L("flex gap-1",t),children:o.map((u,d)=>a.jsxs("div",{className:L(l(u.suit),"text-white rounded-md shadow-lg w-12 h-16 sm:w-16 sm:h-20 relative font-bold flex items-center justify-center"),children:[a.jsxs("div",{className:"absolute top-[0.15rem] left-1.5 flex flex-col items-center leading-none",children:[a.jsx("span",{className:L(r?"text-[13.863px] translate-y-[10%]":"text-[14.292px] sm:text-[17.86px] translate-y-[20%]"),children:c(u.rank)}),a.jsx("span",{className:L(r?"text-[11.647px] -mt-1.5 translate-y-[75%]":"text-[10.719px] sm:text-[13.89px] -mt-1.5 translate-y-[65%]"),children:i(u.suit)})]}),a.jsx("div",{className:"text-4xl sm:text-5xl translate-x-[15%] translate-y-[20%]",children:c(u.rank)})]},d))})},TD=({open:e,onClose:t,results:n})=>{const r=c=>{const u=Math.floor(c/6e4),d=Math.floor(c%6e4/1e3);return`${u}:${d.toString().padStart(2,"0")}`},s=c=>new Date(c).toLocaleString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),i=(c=>c>=90?{level:"Отлично!",color:"text-green-600",icon:DP}:c>=75?{level:"Хорошо!",color:"text-blue-600",icon:Jm}:c>=60?{level:"Неплохо",color:"text-yellow-600",icon:NP}:{level:"Нужна практика",color:"text-red-600",icon:Jm})(n.accuracy),l=i.icon;return a.jsx(Mt,{open:e,onOpenChange:t,children:a.jsxs(_t,{className:"sm:max-w-md",children:[a.jsxs(Ct,{className:"text-center",children:[a.jsx("div",{className:"mx-auto mb-4 w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center",children:a.jsx(l,{className:`w-8 h-8 ${i.color}`})}),a.jsx(kt,{className:"text-xl",children:"Тренировка завершена!"}),a.jsxs(Qn,{children:[a.jsx("p",{className:"text-base",children:n.trainingName}),a.jsxs("p",{className:"text-sm text-muted-foreground flex items-center justify-center gap-1.5 mt-1",children:[a.jsx(bP,{className:"w-3.5 h-3.5"}),s(n.timestamp)]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(tt,{className:"p-4",children:a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:`text-2xl font-bold ${i.color}`,children:[n.accuracy.toFixed(1),"%"]}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Точность"}),a.jsx("div",{className:`text-sm font-medium ${i.color}`,children:i.level})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"flex items-center justify-center gap-1 text-2xl font-bold text-primary",children:[a.jsx(EP,{className:"w-5 h-5"}),r(n.duration)]}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Время"})]})]})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[a.jsxs(tt,{className:"p-3",children:[a.jsx("div",{className:"text-lg font-bold text-green-600",children:n.correctAnswers}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Правильно"})]}),a.jsxs(tt,{className:"p-3",children:[a.jsx("div",{className:"text-lg font-bold text-red-600",children:n.totalQuestions-n.correctAnswers}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Ошибок"})]})]}),a.jsxs(tt,{className:"p-3 text-center",children:[a.jsx("div",{className:"text-lg font-bold text-primary",children:n.totalQuestions}),a.jsx("div",{className:"text-sm text-muted-foreground",children:n.type==="classic"?"Всего рук":"Всего ренжей"})]})]}),a.jsx(Xn,{className:"mt-6",children:a.jsx(X,{onClick:t,className:"w-full",size:"lg",children:"Закрыть"})})]})})},Lg=["spades","hearts","diamonds","clubs"],$a=()=>Lg[Math.floor(Math.random()*Lg.length)],Cu=()=>{let e=$a(),t=$a();for(;e===t;)t=$a();return[e,t]},ku=e=>{let t;if(e.length===2&&e[0]===e[1]){const[n,r]=Cu();t=[{rank:e[0],suit:n},{rank:e[1],suit:r}]}else if(e.length===3)if(e[2]==="s"){const r=$a();t=[{rank:e[0],suit:r},{rank:e[1],suit:r}]}else{const[r,s]=Cu();t=[{rank:e[0],suit:r},{rank:e[1],suit:s}]}else if(e.length===2){const[n,r]=Cu();t=[{rank:e[0],suit:n},{rank:e[1],suit:r}]}else t=[{rank:"A",suit:"spades"},{rank:"A",suit:"hearts"}];return{hand:e,cards:t}},AD=({training:e,onStop:t})=>{const{folders:n,actionButtons:r,foldColor:s}=En(),{toast:o}=cS(),i=Zn(),[l,c]=h.useState(""),[u,d]=h.useState(null),[f,p]=h.useState([]),[y,S]=h.useState(0),[x,b]=h.useState(null),[m,v]=h.useState({startTime:Date.now(),hands:[],accuracy:0}),[g,w]=h.useState(null),[k,C]=h.useState(!1),[j,_]=h.useState({}),[N,R]=h.useState(!1),[P,O]=h.useState(!1),[A,z]=h.useState(()=>{var F;return((F=r[0])==null?void 0:F.id)||""}),[U,H]=h.useState(!1),[B,T]=h.useState(null),E=h.useRef(null),I=(F,re)=>{if(F==="fold")return s;const ie=re.find(ce=>ce.id===F);return ie&&ie.type==="simple"?ie.color:"#ffffff"},$=(F,re)=>{if(F.type==="simple")return{backgroundColor:F.color,color:"white"};if(F.type==="weighted"){const ie=I(F.action1Id,re),ce=I(F.action2Id,re);return{background:`linear-gradient(to right, ${ie} ${F.weight}%, ${ce} ${F.weight}%)`,color:"white"}}return{}},V=h.useMemo(()=>{const F=[];if(!e.ranges)return[];for(const re of e.ranges)for(const ie of n){const ce=ie.ranges.find(xe=>xe.id===re);ce&&F.push({...ce,folderName:ie.name})}if(e.type==="border-repeat"&&e.rangeSelectionOrder==="random")for(let re=F.length-1;re>0;re--){const ie=Math.floor(Math.random()*(re+1));[F[re],F[ie]]=[F[ie],F[re]]}return F},[n,e.ranges,e.type,e.rangeSelectionOrder]),Y=V[y],Q=e.type==="classic"?x:Y,he=()=>{if(!j)return 0;let F=0;return Object.entries(j).forEach(([re,ie])=>{const ce=Fh(re);ie&&ie!=="fold"&&typeof ce=="number"&&!isNaN(ce)&&(F+=ce)}),F},D=()=>{const F=he();return Tg>0?Math.round(F/Tg*100):0},M=()=>{const F=Math.floor(Math.random()*Pg.length),re=Pg[F];c(re),d(ku(re))};h.useEffect(()=>{if(V.length!==0){if(e.type==="classic"){const F=Math.floor(Math.random()*V.length),re=V[F];if(b(re),e.subtype==="all-hands")M();else if(e.subtype==="border-check"){if(!re)return;const ie=Ig(re.hands,e.borderExpansionLevel);if(p(ie),ie.length>0){const ce=Math.floor(Math.random()*ie.length),xe=ie[ce];c(xe),d(ku(xe))}else o({title:"Не удалось определить границу ренжа",description:"Ренж может быть пустым, занимать всю матрицу или не содержать граничных рук.",variant:"warning"}),c(""),d(null)}}return()=>{E.current&&clearTimeout(E.current)}}},[e.type,e.subtype,e.borderExpansionLevel,V]);const G=F=>!Q||!F?"fold":Q.hands[F]||"fold",J=r.filter(F=>{if(!Q||!Q.hands)return!1;const re=new Set(Object.values(Q.hands));return F.type==="simple"?re.has(F.id):F.type==="weighted"?re.has(F.action1Id)&&re.has(F.action2Id):!1}),Z=F=>{if(g||!l)return;const re=G(l),ie=F===re;w(ie?"correct":"incorrect");const ce={hand:l,correct:ie,userAction:F,correctAction:re};v(xe=>{const Ze=[...xe.hands,ce],Pn=Ze.filter(_c=>_c.correct).length/Ze.length*100;return{...xe,hands:Ze,accuracy:Pn}}),ie?E.current=setTimeout(()=>{oe()},1500):(O(!0),C(!0))},ee=F=>{if(N)return;if(!A){o({title:"Действие не выбрано",description:"Пожалуйста, сначала создайте кнопки действий в редакторе.",variant:"destructive"});return}const re={...j};re[F]===A?delete re[F]:re[F]=A,_(re)},le=()=>{if(!Y)return;const F=Y.hands,re=Object.keys(F).every(ce=>j[ce]===F[ce])&&Object.keys(j).every(ce=>F[ce]===j[ce]);R(!0),O(!0),w(re?"correct":"incorrect"),re||C(!0);const ie={hand:Y.name,correct:re,userAction:"matrix",correctAction:"matrix"};v(ce=>{const xe=[...ce.hands,ie],hn=xe.filter(Pn=>Pn.correct).length/xe.length*100;return{...ce,hands:xe,accuracy:hn}})},oe=()=>{var F;if(E.current&&(clearTimeout(E.current),E.current=null),e.type==="classic"){const re=Math.floor(Math.random()*V.length),ie=V[re];if(b(ie),e.subtype==="all-hands")M();else if(e.subtype==="border-check"){if(!ie){ne();return}const ce=Ig(ie.hands,e.borderExpansionLevel);if(p(ce),ce.length>0){const xe=Math.floor(Math.random()*ce.length),Ze=ce[xe];c(Ze),d(ku(Ze))}else{o({title:"Тренировка завершена",description:"Не удалось найти подходящие руки в одном из ренжей.",variant:"info"}),ne();return}}}else if(y<V.length-1)S(re=>re+1),_({});else{ne();return}w(null),C(!1),O(!1),R(!1),z(((F=r[0])==null?void 0:F.id)||"")},ne=()=>{E.current&&(clearTimeout(E.current),E.current=null);const F=Date.now(),re=F-m.startTime,ie=m.hands.filter(hn=>hn.correct).length,ce=m.hands.length,xe=ce>0?ie/ce*100:0;if(ce>0){const hn={trainingId:e.id,timestamp:F,duration:re,totalQuestions:ce,correctAnswers:ie},Pn=JSON.parse(localStorage.getItem("training-statistics")||"[]");Pn.push(hn),localStorage.setItem("training-statistics",JSON.stringify(Pn))}const Ze={trainingName:e.name,type:e.type,duration:re,accuracy:xe,totalQuestions:ce,correctAnswers:ie,timestamp:F};T(Ze),H(!0)},de=()=>{H(!1),t()},ke=()=>{const F=Date.now()-m.startTime,re=Math.floor(F/6e4),ie=Math.floor(F%6e4/1e3);return`${re}:${ie.toString().padStart(2,"0")}`};return V.length===0?a.jsx("div",{className:"h-full bg-background flex items-center justify-center",children:a.jsxs(tt,{className:"p-6 text-center",children:[a.jsx("p",{className:"text-lg text-muted-foreground",children:"Ренжи для тренировки не найдены"}),a.jsx(X,{onClick:t,className:"mt-4",children:"Вернуться"})]})}):a.jsxs("div",{className:"h-full bg-background flex flex-col sm:flex-row",children:[a.jsxs("div",{className:"hidden sm:block w-80 bg-card border-r p-4 space-y-4",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("h2",{className:"text-lg font-semibold",children:["Статистика: ",e.name]})}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-primary",children:ke()}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Время"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-2xl font-bold text-primary",children:[m.accuracy.toFixed(1),"%"]}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Точность"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-primary",children:m.hands.length}),a.jsx("div",{className:"text-sm text-muted-foreground",children:e.type==="classic"?"Рук сыграно":"Ренжей проверено"})]})]}),a.jsxs("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:[a.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"История"}),m.hands.map((F,re)=>a.jsx("div",{className:L("p-2 rounded text-sm",F.correct?"bg-green-500/20 text-green-700 dark:text-green-300":"bg-red-500/20 text-red-700 dark:text-red-300"),children:F.hand},re))]})]}),a.jsxs("div",{className:"flex-1 flex flex-col",children:[a.jsx("div",{className:"sm:hidden px-4 py-2 border-b bg-card",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"text-lg font-semibold",children:[Q==null?void 0:Q.folderName," - ",Q==null?void 0:Q.name]})})}),a.jsx("div",{className:"flex-1 p-4 sm:p-6 overflow-y-auto",children:a.jsx("div",{className:"max-w-4xl mx-auto space-y-6",children:e.type==="classic"?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"hidden sm:block text-center",children:[a.jsxs("h1",{className:"text-2xl font-bold mb-2",children:[Q==null?void 0:Q.folderName," - ",Q==null?void 0:Q.name]}),a.jsxs("p",{className:"text-muted-foreground",children:["Текущая рука: ",l]})]}),a.jsxs("div",{className:"relative mx-auto w-full max-w-2xl",children:[a.jsxs("div",{className:L("relative bg-poker-felt rounded-full border-8 border-poker-table shadow-2xl transition-all duration-300","w-full aspect-[3/2] max-w-lg mx-auto",g==="correct"&&"shadow-green-500/50",g==="incorrect"&&"shadow-red-500/50"),children:[a.jsx("div",{className:"absolute inset-4 rounded-full bg-gradient-to-br from-poker-felt to-poker-green opacity-90"}),a.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:a.jsx("div",{className:"bg-black rounded-full p-4 shadow-xl border-4 border-gray-800",children:a.jsx(PD,{hand:l,fixedCards:u==null?void 0:u.cards,className:"scale-90 sm:scale-100"})})}),P&&a.jsx("div",{className:"absolute top-1/2 right-8 sm:right-12 transform -translate-y-1/2",children:a.jsx(X,{onClick:oe,className:"bg-gray-500 hover:bg-gray-600 text-white w-[45px] h-[45px] sm:w-[55px] sm:h-[55px] rounded-lg shadow-xl border-2 border-gray-700",size:"icon",children:a.jsx(Ks,{className:"h-5 w-5 sm:h-6 sm:w-6"})})}),a.jsx("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2",children:a.jsx("div",{className:"text-white/60 text-sm font-semibold",children:"DEALER"})})]}),a.jsx("div",{className:"sm:hidden text-center mt-4",children:a.jsxs("p",{className:"text-muted-foreground text-sm",children:["Рука ",m.hands.length+1,": ",a.jsx("span",{className:"font-bold text-primary",children:l})]})})]}),a.jsxs("div",{className:"flex justify-center gap-2 sm:gap-3 flex-wrap px-4",children:[a.jsx(X,{variant:"secondary",size:"sm",onClick:()=>Z("fold"),disabled:P,style:{backgroundColor:s},className:L("text-white hover:opacity-80 text-xs sm:text-sm px-3 sm:px-4",g==="incorrect"&&G(l)==="fold"&&"ring-2 ring-green-500"),children:"FOLD"}),J.map(F=>a.jsx(X,{size:"sm",onClick:()=>Z(F.id),disabled:P,style:$(F,r),className:L("text-white hover:opacity-80 text-xs sm:text-sm px-3 sm:px-4",g==="incorrect"&&G(l)===F.id&&"ring-2 ring-green-500"),children:F.name},F.id))]}),k&&Q&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-center text-lg font-semibold",children:"Правильный ренж:"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsx(Yr,{selectedHands:Q.hands,onHandSelect:()=>{},activeAction:"",actionButtons:r,readOnly:!0})})]}),a.jsx("div",{className:"text-center mt-6",children:a.jsx(X,{onClick:ne,variant:"destructive",size:"lg",children:"Завершить"})})]}):a.jsx(a.Fragment,{children:i?a.jsxs("div",{className:"space-y-2 sm:space-y-2",children:[a.jsx("div",{className:"overflow-x-auto pb-1",children:a.jsx(Yr,{selectedHands:k?Y.hands:j,onHandSelect:ee,activeAction:A,actionButtons:r,readOnly:N})}),a.jsx("div",{className:"flex justify-center gap-2 sm:gap-3 flex-wrap px-2 sm:px-4",children:J.map(F=>a.jsx(X,{size:"sm",onClick:()=>z(F.id),disabled:N,style:$(F,r),className:L("text-white hover:opacity-80 text-xs sm:text-sm px-2 sm:px-4 h-7 py-1",A===F.id&&"ring-2 ring-white"),children:F.name},F.id))}),a.jsxs("div",{className:"flex justify-center items-center gap-2 sm:gap-4 px-4",children:[a.jsx(X,{onClick:le,disabled:N,variant:g==="correct"?"default":g==="incorrect"?"destructive":"poker",className:L("h-7 py-1",g==="correct"?"bg-green-600 hover:bg-green-700":""),size:"sm",children:"Проверить"}),P&&a.jsx(X,{onClick:oe,className:"bg-gray-500 hover:bg-gray-600 text-white w-8 h-8 rounded-lg shadow-lg border-2 border-gray-700",size:"icon",children:a.jsx(Ks,{className:"h-3 w-3"})}),a.jsx(X,{onClick:ne,variant:"destructive",size:"sm",className:"h-7 py-1",children:"Завершить"})]})]}):a.jsxs("div",{className:"flex flex-col items-center w-full",children:[a.jsx("div",{className:"w-full max-w-[600px] px-4",children:a.jsxs("div",{className:"flex justify-between items-end",children:[a.jsxs("div",{className:"text-left",children:[a.jsx("h2",{className:"text-base font-bold text-muted-foreground mb-px",children:Y==null?void 0:Y.folderName}),a.jsx("h1",{className:"text-sm font-normal ml-1",children:Y==null?void 0:Y.name})]}),a.jsxs("div",{className:"bg-background/80 px-2 py-1 rounded text-xs font-mono flex items-center gap-1 z-10",children:[a.jsxs("span",{className:"text-primary font-bold",children:[D(),"%"]}),a.jsxs("span",{className:"text-muted-foreground",children:["(",he(),")"]})]})]})}),a.jsx("div",{className:"w-full flex justify-center mt-1",children:a.jsxs("div",{className:"w-[87%] max-w-[522px]",children:[a.jsx(Yr,{selectedHands:k?Y.hands:j,onHandSelect:ee,activeAction:A,actionButtons:r,readOnly:N}),a.jsxs("div",{className:"mt-3 space-y-3",children:[a.jsx("div",{className:"flex justify-center gap-2 sm:gap-3 flex-wrap px-2 sm:px-4",children:J.map(F=>a.jsx(X,{size:"sm",onClick:()=>z(F.id),disabled:N,style:$(F,r),className:L("text-white hover:opacity-80 text-xs sm:text-sm px-2 sm:px-4 h-7 py-1",A===F.id&&"ring-2 ring-white"),children:F.name},F.id))}),a.jsxs("div",{className:"flex justify-center items-center gap-2 sm:gap-4 px-4",children:[a.jsx(X,{onClick:le,disabled:N,variant:g==="correct"?"default":g==="incorrect"?"destructive":"poker",className:L("h-7 py-1",g==="correct"?"bg-green-600 hover:bg-green-700":""),size:"sm",children:"Проверить"}),P&&a.jsx(X,{onClick:oe,className:"bg-gray-500 hover:bg-gray-600 text-white w-8 h-8 rounded-lg shadow-lg border-2 border-gray-700",size:"icon",children:a.jsx(Ks,{className:"h-3 w-3"})}),a.jsx(X,{onClick:ne,variant:"destructive",size:"sm",className:"h-7 py-1",children:"Завершить"})]})]})]})})]})})})}),a.jsx("div",{className:"sm:hidden p-0 border-t bg-card",children:a.jsxs("div",{className:"grid grid-cols-3 gap-1 text-center",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-bold text-primary",children:ke()}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"Время"})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"text-sm font-bold text-primary",children:[m.accuracy.toFixed(1),"%"]}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"Точность"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-bold text-primary",children:m.hands.length}),a.jsx("div",{className:"text-xs text-muted-foreground",children:e.type==="classic"?"Рук":"Ренжей"})]})]})})]}),B&&a.jsx(TD,{open:U,onClose:de,results:B})]})},ID=({isMobileMode:e=!1})=>{const t=Zn(),n=e||t,[r,s]=h.useState(()=>{const E=localStorage.getItem("training-sessions");try{const I=E?JSON.parse(E):[];return Array.isArray(I)?I:[]}catch(I){return console.error("Failed to parse training sessions from localStorage",I),[]}}),[o]=h.useState(()=>{const E=localStorage.getItem("poker-ranges-folders");try{const I=E?JSON.parse(E):[];return Array.isArray(I)?I:[]}catch(I){return console.error("Failed to parse folders from localStorage",I),[]}}),[i,l]=h.useState(null),[c,u]=h.useState(!1),[d,f]=h.useState(null),[p,y]=h.useState([]),[S,x]=h.useState(0),[b,m]=h.useState(null),[v,g]=h.useState([]),[w,k]=h.useState(null),C=r.find(E=>E.id===b);h.useEffect(()=>{!n&&r.length>0&&!i&&l(r[0].id)},[n,r,i]),h.useEffect(()=>{localStorage.setItem("training-sessions",JSON.stringify(r))},[r]),h.useEffect(()=>{if(i){const E=localStorage.getItem("training-statistics");let I=[];try{const V=E?JSON.parse(E):[];I=Array.isArray(V)?V:[]}catch(V){console.error("Failed to parse training statistics",V)}const $=I.filter(V=>V.trainingId===i).sort((V,Y)=>Y.timestamp-V.timestamp);y($)}else y([])},[i,S]),h.useEffect(()=>{if(b){const E=localStorage.getItem("training-statistics");let I=[];try{const V=E?JSON.parse(E):[];I=Array.isArray(V)?V:[]}catch(V){console.error("Failed to parse training statistics",V)}const $=I.filter(V=>V.trainingId===b).sort((V,Y)=>Y.timestamp-V.timestamp);g($)}else g([])},[b]);const j=E=>{const I=localStorage.getItem("training-statistics");let $=[];try{const ee=I?JSON.parse(I):[];$=Array.isArray(ee)?ee:[]}catch(ee){console.error("Failed to parse training statistics from localStorage",ee),$=[]}const V=$.filter(ee=>ee.trainingId===E);if(V.length===0)return null;const Y=V.length,Q=V.reduce((ee,le)=>ee+le.totalQuestions,0),he=V.reduce((ee,le)=>ee+le.correctAnswers,0),D=V.reduce((ee,le)=>ee+le.duration,0),M=Q>0?he/Q*100:0,G=Y>0?D/Y:0,J=Math.floor(G/6e4),Z=Math.floor(G%6e4/1e3);return{accuracy:M.toFixed(1),hands:Q,time:`${J}:${Z.toString().padStart(2,"0")}`,sessions:Y}},_=E=>{if(E.type==="classic"){if(!E.subtype)return null;if(E.subtype==="all-hands")return"Все руки";if(E.subtype==="border-check")return E.borderExpansionLevel===void 0?"Граница ренжа (+0)":`Граница ренжа (+${E.borderExpansionLevel})`}else if(E.type==="border-repeat")return E.rangeSelectionOrder==="random"?"Случайный порядок":"По порядку";return null},N=E=>{s(I=>[E,...I])},R=E=>{s(Y=>Y.filter(Q=>Q.id!==E)),i===E&&l(null);const I=localStorage.getItem("training-statistics");let $=[];try{const Y=I?JSON.parse(I):[];$=Array.isArray(Y)?Y:[]}catch{}const V=$.filter(Y=>Y.trainingId!==E);localStorage.setItem("training-statistics",JSON.stringify(V)),x(Y=>Y+1)},P=()=>{w&&(R(w),k(null))},O=E=>{const I=r.find($=>$.id===E);I&&f(I)},A=()=>{f(null),x(E=>E+1)},z=E=>{const I=Math.floor(E/1e3),$=Math.floor(I/3600),V=Math.floor(I%3600/60),Y=I%60,Q=[];return $>0&&Q.push(`${$}ч`),V>0&&Q.push(`${V}м`),(Y>0||I===0)&&Q.push(`${Y}с`),Q.join(" ")||"0с"},U=E=>{const I=Math.floor(E/6e4),$=Math.floor(E%6e4/1e3);return`${I}:${$.toString().padStart(2,"0")}`},H=E=>new Date(E).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"}),B=(E,I)=>I===0?"0.0":(E/I*100).toFixed(1),T=h.useMemo(()=>{if(v.length===0)return{totalDuration:0,totalAccuracy:0};const E=v.reduce((Y,Q)=>Y+Q.duration,0),I=v.reduce((Y,Q)=>Y+Q.correctAnswers,0),$=v.reduce((Y,Q)=>Y+Q.totalQuestions,0),V=$>0?I/$*100:0;return{totalDuration:E,totalAccuracy:V}},[v]);return d?a.jsx(AD,{training:d,onStop:A}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:L("bg-background flex h-full",n?"flex-col":""),children:[a.jsxs("div",{className:L("bg-card p-4 space-y-4",n?"order-2 flex-1 flex flex-col":"w-80 border-r"),children:[a.jsx("div",{children:a.jsx("h2",{className:"text-lg font-semibold",children:"Тренировки"})}),a.jsxs("div",{className:L("space-y-2 overflow-y-auto","flex-1"),children:[a.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Созданные тренировки"}),r.length===0?a.jsx(tt,{className:"p-4 text-center",children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"Не создано ни одной тренировки"})}):r.map(E=>{const I=j(E.id),$=i===E.id,V=_(E);return a.jsx(tt,{className:L("cursor-pointer transition-all duration-300",n?"py-1 px-2":$?"p-3":"py-1 px-3",$?"bg-primary/10 border-primary":"hover:bg-muted/50"),onClick:()=>l(Y=>Y===E.id?null:E.id),children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1 overflow-hidden",children:[a.jsx("h4",{className:"font-medium truncate my-0",children:E.name}),a.jsxs("div",{className:L("transition-all duration-300 ease-in-out overflow-hidden",$?"max-h-40 opacity-100 mt-1":"max-h-0 opacity-0"),children:[a.jsxs("div",{className:"text-xs text-muted-foreground",children:[E.type==="classic"?"Классическая":"Повторение границ",V&&` • ${V}`]}),I&&a.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Точность: ",I.accuracy,"% • Сессий: ",I.sessions]})]})]}),a.jsxs("div",{className:"flex items-center",children:[n&&a.jsxs(a.Fragment,{children:[a.jsx(X,{size:"sm",variant:"ghost",className:"h-6 px-1",onClick:Y=>{Y.stopPropagation(),m(E.id)},children:a.jsx(_P,{className:"h-3.5 w-3.5"})}),a.jsx(X,{size:"sm",variant:"ghost",className:"h-6 px-1",onClick:Y=>{Y.stopPropagation(),O(E.id)},children:a.jsx(Ks,{className:"h-3.5 w-3.5"})})]}),a.jsx(X,{size:"sm",variant:"ghost",className:n?"h-6 px-1":"",onClick:Y=>{Y.stopPropagation(),k(E.id)},children:a.jsx(rs,{className:L(n?"h-3.5 w-3.5":"h-4 w-4")})})]})]})},E.id)})]}),a.jsx(X,{className:"w-full",variant:"poker",onClick:()=>u(!0),children:"Создать тренировку"})]}),!n&&a.jsx("div",{className:L("p-6",n?"order-1 flex-1":"flex-1 overflow-y-auto"),children:a.jsx("div",{className:L("mx-auto space-y-6",n?"max-w-full":"max-w-4xl"),children:i?a.jsx("div",{children:(()=>{var he;const E=r.find(D=>D.id===i);if(!E)return null;const I=j(E.id),$=_(E),V=o.find(D=>D.id===E.folderId),Y=V?V.name:null,Q=(he=E.rangeIds)==null?void 0:he.map(D=>{const M=V==null?void 0:V.ranges.find(G=>G.id===D);return M?M.name:null}).filter(Boolean).join(", ");return a.jsxs("div",{className:"space-y-4",children:[a.jsx(tt,{children:a.jsxs(Hd,{className:"p-2",children:[a.jsx(Wd,{className:"text-center text-lg",children:E.name}),a.jsxs(ab,{className:"text-center text-xs",children:[E.type==="classic"?"Классическая тренировка":"Тренировка повторения границ",$&&` • ${$}`]}),(Y||Q)&&a.jsxs("div",{className:"text-xs text-muted-foreground text-center pt-1 border-t mt-1",children:[Y&&a.jsxs("p",{children:[a.jsx("strong",{children:"Папка:"})," ",Y]}),Q&&a.jsxs("p",{className:"truncate",title:Q,children:[a.jsx("strong",{children:"Ренжи:"})," ",Q]})]})]})}),I?a.jsxs(tt,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Статистика всех сессий"}),a.jsxs("div",{className:L("gap-4 text-center",n?"grid grid-cols-2 space-y-2":"grid grid-cols-4"),children:[a.jsxs("div",{children:[a.jsxs("div",{className:"text-2xl font-bold text-primary",children:[I.accuracy,"%"]}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Точность"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-primary",children:I.hands}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Рук сыграно"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-primary",children:I.time}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Среднее время"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-primary",children:I.sessions}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Сессий"})]})]})]}):a.jsx(tt,{className:"p-6 text-center text-muted-foreground",children:"Начните тренировку, чтобы собрать статистику."}),a.jsx("div",{className:"text-center",children:a.jsxs(X,{size:"lg",variant:"poker",onClick:()=>O(E.id),children:[a.jsx(Ks,{className:"h-5 w-5 mr-2"}),"Запустить тренировку"]})}),!n&&a.jsxs(tt,{children:[a.jsx(Hd,{children:a.jsx(Wd,{children:"История сессий"})}),a.jsx($h,{children:p.length>0?a.jsxs(Jj,{children:[a.jsx(Xj,{children:a.jsxs(nf,{children:[a.jsx(Uo,{className:"w-[100px]",children:"Сессия"}),a.jsx(Uo,{children:"Дата"}),a.jsx(Uo,{children:"Время"}),a.jsx(Uo,{className:"text-right",children:"Точность"})]})}),a.jsx(Qj,{children:p.map((D,M)=>a.jsxs(nf,{children:[a.jsx(Bo,{className:"font-medium",children:p.length-M}),a.jsx(Bo,{children:H(D.timestamp)}),a.jsx(Bo,{children:U(D.duration)}),a.jsxs(Bo,{className:"text-right",children:[B(D.correctAnswers,D.totalQuestions),"%"]})]},D.timestamp))})]}):a.jsx("div",{className:"text-center text-muted-foreground py-8",children:"Нет данных о сессиях для этой тренировки."})})]})]})})()}):!n&&a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsxs("div",{className:"text-center text-muted-foreground",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Тренировка ренжей"}),a.jsx("p",{children:"Выберите тренировку из списка слева или создайте новую."})]})})})})]}),a.jsx(ND,{open:c,onOpenChange:u,onCreateTraining:N}),n&&a.jsx(Mt,{open:!!b,onOpenChange:E=>{E||m(null)},children:a.jsxs(_t,{mobileFullscreen:!0,className:"flex flex-col",children:[a.jsxs(Ct,{className:"flex-shrink-0",children:[a.jsx(kt,{children:C==null?void 0:C.name}),a.jsx(Qn,{children:"История сессий"})]}),a.jsx("div",{className:"flex-1 overflow-y-auto -mx-6 px-6",children:v.length>0?a.jsx("div",{className:"space-y-2 py-4",children:v.map((E,I)=>a.jsx(tt,{className:"p-3",children:a.jsxs("div",{className:"grid grid-cols-3 items-center gap-4 text-sm",children:[a.jsxs("div",{className:"font-medium",children:[a.jsxs("p",{children:["Сессия ",v.length-I]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:H(E.timestamp)})]}),a.jsx("div",{className:"text-center text-muted-foreground",children:U(E.duration)}),a.jsxs("div",{className:"text-right font-semibold",children:[B(E.correctAnswers,E.totalQuestions),"%"]})]})},E.timestamp))}):a.jsx("div",{className:"flex items-center justify-center h-full text-center text-muted-foreground",children:"Нет данных о сессиях для этой тренировки."})}),v.length>0&&a.jsx("div",{className:"flex-shrink-0 border-t mt-auto p-4 bg-card/50",children:a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:"Общее время"}),a.jsx("div",{className:"text-lg font-bold",children:z(T.totalDuration)})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:"Общая точность"}),a.jsxs("div",{className:"text-lg font-bold",children:[T.totalAccuracy.toFixed(1),"%"]})]})]})})]})}),a.jsx(Rj,{open:!!w,onOpenChange:E=>{E||k(null)},children:a.jsxs(Bh,{children:[a.jsxs(Vh,{children:[a.jsx(Wh,{children:"Вы уверены?"}),a.jsx(Kh,{children:"Это действие невозможно отменить. Это приведет к необратимому удалению тренировки и всей связанной с ней статистики."})]}),a.jsxs(Hh,{children:[a.jsx(qh,{children:"Отмена"}),a.jsx(Gh,{onClick:P,className:$l({variant:"destructive"}),children:"Удалить"})]})]})})]})},OD=({isOpen:e,onOpenChange:t,chart:n})=>{const[r,s]=h.useState([]),[o,i]=h.useState(!0),[l,c]=h.useState(!1),u=()=>{if(!(!e||!n)){i(!0);try{const p=localStorage.getItem("poker-range-access-statistics"),y=p?JSON.parse(p):{},S=localStorage.getItem("poker-ranges-folders"),x=S?JSON.parse(S):[],b=new Map;x.forEach(w=>{w.ranges.forEach(k=>{b.set(k.id,{folderName:w.name,rangeName:k.name})})});const m=new Set;n.buttons.forEach(w=>{w.type==="normal"&&w.linkedItem&&w.linkedItem!=="label-only"&&w.linkedItem!=="exit"&&m.add(w.linkedItem),w.linkButtons&&w.linkButtons.forEach(k=>{k.enabled&&k.targetRangeId&&m.add(k.targetRangeId)})});const g=Array.from(m).map(w=>{const k=Number(y[w])||0,C=b.get(w);return{id:w,folderName:C?C.folderName:"Удаленная папка",rangeName:C?C.rangeName:"(Ренж не найден)",count:k}}).sort((w,k)=>k.count-w.count).slice(0,10);s(g)}catch(p){console.error("Ошибка при обработке статистики чарта:",p),s([])}finally{i(!1)}}};h.useEffect(()=>{e&&u()},[e,n]);const d=async()=>{if(window.confirm("Вы уверены, что хотите сбросить всю статистику обращений к ренджам? Это действие необратимо и затронет данные в облаке, если вы авторизованы.")){c(!0);try{await NA(),u()}catch(p){console.error("Failed to reset stats:",p)}finally{c(!1)}}},f=r.filter(p=>p.count>0).length>0;return a.jsx(Mt,{open:e,onOpenChange:t,children:a.jsxs(_t,{className:"max-w-md",children:[a.jsxs(Ct,{children:[a.jsxs(kt,{children:['Статистика для "',n==null?void 0:n.name,'"']}),a.jsx(Qn,{children:"10 самых популярных ренджей в этом чарте."})]}),a.jsx("div",{className:"py-4 max-h-[60vh] overflow-y-auto",children:o?a.jsx("div",{className:"flex justify-center items-center h-24",children:a.jsx(Ms,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):f?a.jsx("ol",{className:"list-decimal list-inside space-y-2",children:r.filter(p=>p.count>0).map(p=>a.jsxs("li",{className:"text-sm",children:[a.jsxs("span",{className:"font-medium",children:[p.folderName," - ",p.rangeName,":"]}),a.jsxs("span",{className:"text-muted-foreground ml-2",children:[p.count," обращений"]})]},p.id))}):a.jsx("div",{className:"text-center text-muted-foreground py-8",children:a.jsx("p",{children:"Нет данных об обращениях к ренджам в этом чарте."})})}),a.jsxs(Xn,{className:"flex-col-reverse gap-2 sm:flex-row sm:justify-between sm:space-x-2",children:[a.jsxs(X,{variant:"destructive",onClick:d,disabled:l||o||!f,className:"w-full sm:w-auto",children:[l?a.jsx(Ms,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(rs,{className:"mr-2 h-4 w-4"}),"Сбросить статистику"]}),a.jsx(X,{onClick:()=>t(!1),className:"w-full sm:w-auto",children:"Закрыть"})]})]})})},DD=e=>{const t=e%10,n=e%100;return n>=11&&n<=19?"кнопок":t===1?"кнопка":t>=2&&t<=4?"кнопки":"кнопок"},MD=({isMobileMode:e,charts:t,onCreateChart:n,onDeleteChart:r,onEditChart:s,onPlayChart:o})=>{const[i,l]=h.useState(!1),[c,u]=h.useState(""),[d,f]=h.useState(!1),[p,y]=h.useState(null),S=()=>{c.trim()&&(n(c.trim()),u(""),l(!1))},x=b=>{y(b),f(!0)};return a.jsxs("div",{className:"p-4 sm:p-6",children:[a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Чарты"}),a.jsxs(Mt,{open:i,onOpenChange:l,children:[a.jsx(g0,{asChild:!0,children:a.jsxs(X,{children:[a.jsx(Wr,{className:"mr-2 h-4 w-4"})," Создать чарт"]})}),a.jsxs(_t,{children:[a.jsxs(Ct,{children:[a.jsx(kt,{children:"Создать новый чарт"}),a.jsx(Qn,{children:"Введите название для вашего нового чарта."})]}),a.jsx(be,{value:c,onChange:b=>u(b.target.value),placeholder:"Название чарта",onKeyDown:b=>b.key==="Enter"&&S()}),a.jsx(Xn,{children:a.jsx(X,{onClick:S,disabled:!c.trim(),children:"Создать"})})]})]})]}),a.jsx("div",{className:L("space-y-3",e&&"max-h-[calc(70vh)] overflow-y-auto pr-1"),children:t.length>0?t.map(b=>a.jsx(tt,{className:"transition-all hover:bg-muted/50",children:a.jsxs($h,{className:"p-3 flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1 overflow-hidden mr-2",children:[a.jsx("h3",{className:"font-semibold truncate",children:b.name}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[b.buttons.length," ",DD(b.buttons.length)]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(X,{variant:"ghost",size:"icon",onClick:m=>{m.stopPropagation(),x(b)},children:a.jsx(jP,{className:"h-4 w-4"})}),a.jsx(X,{variant:"ghost",size:"icon",onClick:m=>{m.stopPropagation(),o(b)},children:a.jsx(Ks,{className:"h-4 w-4"})}),a.jsx(X,{variant:"ghost",size:"icon",onClick:m=>{m.stopPropagation(),s(b)},children:a.jsx(wh,{className:"h-4 w-4"})}),a.jsx(X,{variant:"destructive",size:"icon",onClick:m=>{m.stopPropagation(),r(b.id)},children:a.jsx(rs,{className:"h-4 w-4"})})]})]})},b.id)):a.jsxs("div",{className:"text-center py-12 border-2 border-dashed rounded-lg",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Чарты не найдены"}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Создайте свой первый чарт, чтобы начать."})]})})]}),a.jsx(OD,{isOpen:d,onOpenChange:f,chart:p})]})},Oe=5,LD=({buttons:e,setButtons:t,canvasRef:n,isMoveMode:r})=>{const[s,o]=h.useState(null),[i,l]=h.useState(!1),[c,u]=h.useState(!1),[d,f]=h.useState({x:0,y:0}),[p,y]=h.useState(null);h.useEffect(()=>{r||o(null)},[r]),h.useEffect(()=>{const C=n.current;if(!C)return;const j=_=>{_.target===C&&o(null)};return C.addEventListener("mousedown",j),()=>{C.removeEventListener("mousedown",j)}},[n]);const S=h.useCallback((C,j)=>{var z;const _=C.target.getBoundingClientRect(),N=((z=C.touches)==null?void 0:z[0])||C,R=N.clientX-_.left,P=N.clientY-_.top,O=8;let A=null;return R<O&&P<O?A="nw":R>_.width-O&&P<O?A="ne":R<O&&P>_.height-O?A="sw":R>_.width-O&&P>_.height-O?A="se":R<O?A="w":R>_.width-O?A="e":P<O?A="n":P>_.height-O&&(A="s"),A},[]),x=h.useCallback((C,j)=>{if(C.target.closest(".settings-icon"))return;C.stopPropagation(),o(j.id);const _=S(C,j);!r&&_?(u(!0),y(_)):l(!0);const N=C.currentTarget.getBoundingClientRect();f({x:C.clientX-N.left,y:C.clientY-N.top})},[S,r]),b=h.useCallback((C,j)=>{if(C.target.closest(".settings-icon"))return;C.stopPropagation(),o(j.id);const _=S(C,j);!r&&_?(u(!0),y(_)):l(!0);const N=C.currentTarget.getBoundingClientRect(),R=C.touches[0];f({x:R.clientX-N.left,y:R.clientY-N.top})},[S,r]),m=h.useCallback(C=>{if(!s||!n.current)return;const j=n.current.getBoundingClientRect(),_=e.find(N=>N.id===s);if(_){if(i){let N=C.clientX-d.x-j.left,R=C.clientY-d.y-j.top;N=Math.max(0,Math.min(N,j.width-_.width)),R=Math.max(0,Math.min(R,j.height-_.height)),t(P=>P.map(O=>O.id===s?{...O,x:N,y:R}:O))}else if(c&&p){let N=_.width,R=_.height,P=_.x,O=_.y;switch(p){case"e":N=Math.max(Oe,C.clientX-(_.x+j.left));break;case"s":R=Math.max(Oe,C.clientY-(_.y+j.top));break;case"w":const A=C.clientX-(_.x+j.left);N=Math.max(Oe,_.width-A),P=_.x+A;break;case"n":const z=C.clientY-(_.y+j.top);R=Math.max(Oe,_.height-z),O=_.y+z;break;case"se":N=Math.max(Oe,C.clientX-(_.x+j.left)),R=Math.max(Oe,C.clientY-(_.y+j.top));break;case"sw":const U=C.clientX-(_.x+j.left);N=Math.max(Oe,_.width-U),P=_.x+U,R=Math.max(Oe,C.clientY-(_.y+j.top));break;case"ne":N=Math.max(Oe,C.clientX-(_.x+j.left));const H=C.clientY-(_.y+j.top);R=Math.max(Oe,_.height-H),O=_.y+H;break;case"nw":const B=C.clientX-(_.x+j.left);N=Math.max(Oe,_.width-B),P=_.x+B;const T=C.clientY-(_.y+j.top);R=Math.max(Oe,_.height-T),O=_.y+T;break}P=Math.max(0,Math.min(P,j.width-N)),O=Math.max(0,Math.min(O,j.height-R)),N=Math.min(N,j.width-P),R=Math.min(R,j.height-O),t(A=>A.map(z=>z.id===s?{...z,x:P,y:O,width:N,height:R}:z))}}},[s,i,c,d,p,e,t,n]),v=h.useCallback(C=>{if(!s||!n.current)return;C.preventDefault();const j=C.touches[0];if(!j)return;const _=n.current.getBoundingClientRect(),N=e.find(R=>R.id===s);if(N){if(i){let R=j.clientX-d.x-_.left,P=j.clientY-d.y-_.top;R=Math.max(0,Math.min(R,_.width-N.width)),P=Math.max(0,Math.min(P,_.height-N.height)),t(O=>O.map(A=>A.id===s?{...A,x:R,y:P}:A))}else if(c&&p){let R=N.width,P=N.height,O=N.x,A=N.y;switch(p){case"e":R=Math.max(Oe,j.clientX-(N.x+_.left));break;case"s":P=Math.max(Oe,j.clientY-(N.y+_.top));break;case"w":const z=j.clientX-(N.x+_.left);R=Math.max(Oe,N.width-z),O=N.x+z;break;case"n":const U=j.clientY-(N.y+_.top);P=Math.max(Oe,N.height-U),A=N.y+U;break;case"se":R=Math.max(Oe,j.clientX-(N.x+_.left)),P=Math.max(Oe,j.clientY-(N.y+_.top));break;case"sw":const H=j.clientX-(N.x+_.left);R=Math.max(Oe,N.width-H),O=N.x+H,P=Math.max(Oe,j.clientY-(N.y+_.top));break;case"ne":R=Math.max(Oe,j.clientX-(N.x+_.left));const B=j.clientY-(N.y+_.top);P=Math.max(Oe,N.height-B),A=N.y+B;break;case"nw":const T=j.clientX-(N.x+_.left);R=Math.max(Oe,N.width-T),O=N.x+T;const E=j.clientY-(N.y+_.top);P=Math.max(Oe,N.height-E),A=N.y+E;break}O=Math.max(0,Math.min(O,_.width-R)),A=Math.max(0,Math.min(A,_.height-P)),R=Math.min(R,_.width-O),P=Math.min(P,_.height-A),t(z=>z.map(U=>U.id===s?{...U,x:O,y:A,width:R,height:P}:U))}}},[s,i,c,d,p,e,t,n]),g=h.useCallback(()=>{l(!1),u(!1),y(null),r||o(null)},[r]),w=h.useCallback((C,j)=>{if(i||c)return;if(r){C.currentTarget.style.cursor="grab";return}const _=S(C,j);_?C.currentTarget.style.cursor=`${_}-resize`:C.currentTarget.style.cursor="grab"},[i,c,S,r]),k=h.useCallback(C=>{i||c||(C.currentTarget.style.cursor="default")},[i,c]);return h.useEffect(()=>(i||c?(window.addEventListener("mousemove",m),window.addEventListener("mouseup",g),window.addEventListener("touchmove",v,{passive:!1}),window.addEventListener("touchend",g)):(window.removeEventListener("mousemove",m),window.removeEventListener("mouseup",g),window.removeEventListener("touchmove",v),window.removeEventListener("touchend",g)),()=>{window.removeEventListener("mousemove",m),window.removeEventListener("mouseup",g),window.removeEventListener("touchmove",v),window.removeEventListener("touchend",g)}),[i,c,m,g,v]),{activeButtonId:s,handleMouseDown:x,handleTouchStart:b,handleButtonMouseMove:w,handleButtonMouseLeave:k}},$g=5,$D=({canvasRef:e,width:t,height:n,buttons:r,activeButtonId:s,onButtonMouseDown:o,onButtonTouchStart:i,onButtonMouseMove:l,onButtonMouseLeave:c,onSettingsClick:u})=>a.jsxs("div",{ref:e,className:"relative border-2 border-dashed border-muted-foreground rounded-lg bg-card flex items-center justify-center overflow-hidden",style:{width:t,height:n},children:[r.length===0&&a.jsx("p",{className:"text-muted-foreground",children:"Рабочая область (холст)"}),r.map(d=>{const f={backgroundColor:d.color,position:"absolute",left:d.x,top:d.y,width:Math.max($g,d.width||0),height:Math.max($g,d.height||0),zIndex:s===d.id?100:1,color:d.isFontAdaptive===!1&&d.fontColor?d.fontColor:"white"};return d.isFontAdaptive===!1&&d.fontSize&&(f.fontSize=`${d.fontSize}px`),a.jsxs("div",{style:f,className:"relative flex items-center justify-center rounded-md shadow-md font-semibold group",onMouseDown:p=>o(p,d),onTouchStart:p=>i(p,d),onMouseMove:p=>l(p,d),onMouseLeave:c,children:[d.name,a.jsx(X,{variant:"ghost",size:"icon",className:"absolute top-1 right-1 h-6 w-6 p-0 opacity-0 group-hover:opacity-100 transition-opacity settings-icon",onClick:p=>u(p,d),title:"Настройки кнопки",children:a.jsx(Ia,{className:"h-4 w-4"})})]},d.id)})]}),FD=({isMobileMode:e,canvasWidth:t,canvasHeight:n,onAddButton:r,onMaximizeCanvas:s,onDimensionChange:o,onDimensionBlur:i,isMoveMode:l,onToggleMoveMode:c})=>a.jsxs("div",{className:L("flex flex-col",e?"p-4 mb-2 gap-2":"mb-6 gap-4"),children:[a.jsxs("div",{className:L("flex items-center",e?"gap-2":"gap-4"),children:[a.jsxs(X,{onClick:r,className:"flex items-center gap-2 h-7",children:[a.jsx(Wr,{className:"h-4 w-4"}),"Создать кнопку"]}),a.jsx(X,{variant:"ghost",size:"icon",onClick:s,title:"Развернуть на весь экран",children:a.jsx(PP,{className:"h-5 w-5"})}),a.jsx(X,{variant:l?"secondary":"ghost",size:"icon",onClick:c,title:"Режим перемещения (отключает изменение размера)",children:a.jsx(AP,{className:"h-5 w-5"})})]}),a.jsxs("div",{className:L("flex items-center gap-1 flex-wrap",e?"grid grid-cols-[auto_1fr] gap-x-1 gap-y-1 w-full":""),children:[a.jsx(W,{htmlFor:"canvasWidth",className:L("text-right",e&&"text-left"),children:"Ширина"}),a.jsx(be,{id:"canvasWidth",type:"number",value:isNaN(t)?"":t,onChange:u=>o(u.target.value,"width"),onBlur:()=>i(t,"width"),className:"w-20 h-7",min:"100",maxLength:4}),a.jsx(W,{htmlFor:"canvasHeight",className:L("text-right",e&&"text-left"),children:"Высота"}),a.jsx(be,{id:"canvasHeight",type:"number",value:isNaN(n)?"":n,onChange:u=>o(u.target.value,"height"),onBlur:()=>i(n,"height"),className:"w-20 h-7",min:"100",maxLength:4})]})]}),zD=({isOpen:e,onOpenChange:t,isMobileMode:n,editingButton:r,setEditingButton:s,onSave:o,onCancel:i,onDuplicate:l,onDelete:c,allRanges:u,folders:d,onOpenLegendPreview:f,isCreatingNewButton:p})=>{var k;const[y,S]=h.useState(null),x=[{name:"Красный",hex:"#FF0000"},{name:"Зеленый",hex:"#2FCA2F"},{name:"Синий",hex:"#0000FF"},{name:"Оранжевый",hex:"#FFA500"},{name:"Фиолетовый",hex:"#800080"}];h.useEffect(()=>{if(r&&r.type==="normal"&&r.linkedItem){const C=u.find(j=>j.id===r.linkedItem);if(C){const j=d.find(_=>_.ranges.some(N=>N.id===C.id));S(j?j.id:null)}else S(null)}else S(null)},[r,d,u]);const b=C=>{s(j=>{if(!j)return null;let _=j.linkedItem;return C==="label"?_="label-only":C==="exit"?_="exit-chart-placeholder":C==="normal"&&j.type!=="normal"&&(u.length>0?_=u[0].id:_=""),{...j,type:C,linkedItem:_}})},m=C=>{S(C);const j=d.find(N=>N.id===C),_=j==null?void 0:j.ranges[0];s(N=>N?{...N,linkedItem:_?_.id:""}:null)},v=C=>{s(j=>j?{...j,linkedItem:C}:null)},g=y?((k=d.find(C=>C.id===y))==null?void 0:k.ranges)||[]:[],w=(r==null?void 0:r.type)==="normal"?r.linkedItem:"";return r?a.jsx(Mt,{open:e,onOpenChange:C=>{C?t(!0):i()},children:a.jsxs(_t,{mobileFullscreen:n,onInteractOutside:C=>{p&&!n&&C.preventDefault()},children:[a.jsx(Ct,{children:a.jsx(kt,{children:"Настройка кнопки"})}),a.jsxs("div",{className:L("grid",n?"gap-3.5 py-3.5":"gap-4 py-4"),children:[a.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[a.jsx(W,{htmlFor:"buttonName",className:"text-right",children:"Название"}),a.jsx(be,{id:"buttonName",value:(r==null?void 0:r.name)||"",onChange:C=>s(j=>j?{...j,name:C.target.value}:null),className:"col-span-3"})]}),a.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[a.jsx(W,{htmlFor:"buttonColor",className:"text-right",children:"Цвет"}),a.jsxs("div",{className:"col-span-3 flex items-center gap-2",children:[x.map(C=>a.jsx("div",{className:"w-8 h-8 rounded-md cursor-pointer border border-gray-700",style:{backgroundColor:C.hex},onClick:()=>s(j=>j?{...j,color:C.hex}:null),title:C.name},C.hex)),a.jsx(be,{id:"buttonColor",type:"color",value:(r==null?void 0:r.color)||"#000000",onChange:C=>s(j=>j?{...j,color:C.target.value}:null),className:"w-10 h-10 p-0 border-none cursor-pointer"})]})]}),a.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[a.jsx(W,{className:"text-right",children:"Тип кнопки"}),a.jsxs(at,{value:(r==null?void 0:r.type)||"normal",onValueChange:b,className:"col-span-3 flex gap-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fe,{value:"normal",id:"typeNormal"}),a.jsx(W,{htmlFor:"typeNormal",className:"font-normal",children:"Обычная"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fe,{value:"label",id:"typeLabel"}),a.jsx(W,{htmlFor:"typeLabel",className:"font-normal",children:"Только текст"})]}),!n&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fe,{value:"exit",id:"typeExit"}),a.jsx(W,{htmlFor:"typeExit",className:"font-normal",children:"Выход"})]})]})]}),r.type==="normal"&&a.jsx(a.Fragment,{children:n?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(W,{className:"font-bold whitespace-nowrap",children:"Привязать"}),a.jsxs(zn,{value:y||"",onValueChange:m,disabled:d.length===0,children:[a.jsx(Sn,{className:"flex-1",children:a.jsx(Un,{placeholder:"Папка"})}),a.jsx(bn,{children:d.length===0?a.jsx(Je,{value:"no-folders-available",disabled:!0,children:"Нет доступных папок"}):d.map(C=>a.jsx(Je,{value:C.id,children:C.name},C.id))})]}),a.jsxs(zn,{value:w,onValueChange:v,disabled:!y||g.length===0,children:[a.jsx(Sn,{className:"flex-1",children:a.jsx(Un,{placeholder:"Диапазон"})}),a.jsx(bn,{children:y?g.length===0?a.jsx(Je,{value:"no-ranges-in-folder",disabled:!0,children:"Нет диапазонов в этой папке"}):g.map(C=>a.jsx(Je,{value:C.id,children:C.name},C.id)):a.jsx(Je,{value:"select-folder-first",disabled:!0,children:"Сначала выберите папку"})})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[a.jsx(W,{htmlFor:"linkedFolder",className:"text-right",children:"Папка"}),a.jsxs(zn,{value:y||"",onValueChange:m,disabled:d.length===0,children:[a.jsx(Sn,{className:"col-span-3",children:a.jsx(Un,{placeholder:"Выберите папку"})}),a.jsx(bn,{children:d.length===0?a.jsx(Je,{value:"no-folders-available",disabled:!0,children:"Нет доступных папок"}):d.map(C=>a.jsx(Je,{value:C.id,children:C.name},C.id))})]})]}),a.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[a.jsx(W,{htmlFor:"linkedRange",className:"text-right",children:"Диапазон"}),a.jsxs(zn,{value:w,onValueChange:v,disabled:!y||g.length===0,children:[a.jsx(Sn,{className:"col-span-3",children:a.jsx(Un,{placeholder:"Выберите диапазон"})}),a.jsx(bn,{children:y?g.length===0?a.jsx(Je,{value:"no-ranges-in-folder",disabled:!0,children:"Нет диапазонов в этой папке"}):g.map(C=>a.jsx(Je,{value:C.id,children:C.name},C.id)):a.jsx(Je,{value:"select-folder-first",disabled:!0,children:"Сначала выберите папку"})})]})]})]})}),a.jsxs("div",{className:L("grid grid-cols-4 items-center gap-4 border-t",n?"pt-3.5 mt-1.5":"pt-4 mt-2"),children:[a.jsx(W,{className:"text-right",children:"Шрифт"}),a.jsxs("div",{className:L("col-span-3 flex flex-wrap items-center gap-x-4",n?"gap-y-1.5":"gap-y-2"),children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Vn,{id:"adaptiveFont",checked:(r==null?void 0:r.isFontAdaptive)??!0,onCheckedChange:C=>{s(j=>j?{...j,isFontAdaptive:!!C}:null)}}),a.jsx(W,{htmlFor:"adaptiveFont",className:"font-normal",children:"Адаптивный"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(be,{id:"fontSize",type:"number",value:(r==null?void 0:r.fontSize)||16,onChange:C=>s(j=>j?{...j,fontSize:parseInt(C.target.value)||16}:null),className:"w-16 h-8",min:"1",disabled:(r==null?void 0:r.isFontAdaptive)??!0}),a.jsx(W,{htmlFor:"fontSize",className:"font-normal text-sm text-muted-foreground",children:"px"})]}),a.jsxs(at,{value:(r==null?void 0:r.fontColor)||"white",onValueChange:C=>{s(j=>j?{...j,fontColor:C}:null)},className:"flex gap-4",disabled:(r==null?void 0:r.isFontAdaptive)??!0,children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fe,{value:"white",id:"fontWhite"}),a.jsx(W,{htmlFor:"fontWhite",className:"font-normal",children:"Белый"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fe,{value:"black",id:"fontBlack"}),a.jsx(W,{htmlFor:"fontBlack",className:"font-normal",children:"Черный"})]})]})]})]}),a.jsxs("div",{className:L("grid grid-cols-4 items-center gap-4 border-t",n?"pt-3.5 mt-1.5":"pt-4 mt-2"),children:[a.jsx(W,{className:"text-right",children:"Размер"}),a.jsxs("div",{className:"col-span-3 grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(W,{htmlFor:"buttonWidth",className:"font-normal w-6 text-right",children:"W:"}),a.jsx(be,{id:"buttonWidth",type:"number",value:(r==null?void 0:r.width)||0,onChange:C=>{const j=parseInt(C.target.value,10);s(_=>_?{..._,width:isNaN(j)?0:j}:null)},className:"w-20 h-8"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(W,{htmlFor:"buttonHeight",className:"font-normal w-6 text-right",children:"H:"}),a.jsx(be,{id:"buttonHeight",type:"number",value:(r==null?void 0:r.height)||0,onChange:C=>{const j=parseInt(C.target.value,10);s(_=>_?{..._,height:isNaN(j)?0:j}:null)},className:"w-20 h-8"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[a.jsx(W,{className:"text-right",children:"Позиция"}),a.jsxs("div",{className:"col-span-3 grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(W,{htmlFor:"buttonX",className:"font-normal w-6 text-right",children:"X: "}),a.jsx(be,{id:"buttonX",type:"number",value:(r==null?void 0:r.x)||0,onChange:C=>{const j=parseInt(C.target.value,10);s(_=>_?{..._,x:isNaN(j)?0:j}:null)},className:"w-20 h-8"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(W,{htmlFor:"buttonY",className:"font-normal w-6 text-right",children:"Y:"}),a.jsx(be,{id:"buttonY",type:"number",value:(r==null?void 0:r.y)||0,onChange:C=>{const j=parseInt(C.target.value,10);s(_=>_?{..._,y:isNaN(j)?0:j}:null)},className:"w-20 h-8"})]})]})]}),a.jsxs("div",{className:L("grid grid-cols-4 items-start gap-4 border-t",n?"pt-3.5 mt-1.5":"pt-4 mt-2"),children:[a.jsx(W,{className:"text-right col-start-1 pt-2",children:"Опции"}),a.jsxs("div",{className:"col-span-3 flex flex-col gap-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Vn,{id:"showLegend",checked:(r==null?void 0:r.showLegend)??!1,onCheckedChange:C=>{s(j=>j?{...j,showLegend:!!C}:null)},disabled:(r==null?void 0:r.type)==="label"||(r==null?void 0:r.type)==="exit"}),a.jsx(W,{htmlFor:"showLegend",className:"font-normal",children:"Показать легенду"}),(r==null?void 0:r.showLegend)&&(r==null?void 0:r.type)==="normal"&&a.jsx(X,{variant:"outline",size:"sm",className:"h-7 ml-2",onClick:f,children:"Предпросмотр"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Vn,{id:"showRandomizer",checked:(r==null?void 0:r.showRandomizer)??!1,onCheckedChange:C=>{s(j=>j?{...j,showRandomizer:!!C}:null)},disabled:(r==null?void 0:r.type)==="label"||(r==null?void 0:r.type)==="exit"}),a.jsx(W,{htmlFor:"showRandomizer",className:"font-normal",children:"Показывать рандомайзер"})]})]})]})]}),a.jsxs(Xn,{children:[a.jsx(X,{variant:"destructive",onClick:c,children:"Удалить"}),a.jsx(X,{variant:"outline",onClick:l,children:"Копировать"}),a.jsx(X,{onClick:o,children:"Сохранить"})]})]})}):null},Fg=(e,t)=>{if(e==="fold")return"#6b7280";const n=t.find(r=>r.id===e);return n&&n.type==="simple"?n.color:"#ffffff"},UD=(e,t)=>{if(e.type==="simple")return{backgroundColor:e.color};if(e.type==="weighted"){const n=Fg(e.action1Id,t),r=Fg(e.action2Id,t);return{background:`linear-gradient(to right, ${n} ${e.weight}%, ${r} ${e.weight}%)`}}return{}},BD=({config:e,onConfigChange:t,folders:n,buttonIndex:r})=>{const[s,o]=h.useState("");h.useEffect(()=>{if(e.targetRangeId){const c=n.find(u=>u.ranges.some(d=>d.id===e.targetRangeId));o((c==null?void 0:c.id)||"")}else n.length>0&&o(n[0].id)},[e.targetRangeId,n]);const i=h.useMemo(()=>{const c=n.find(u=>u.id===s);return c?c.ranges:[]},[s,n]),l=c=>{var d,f;o(c);const u=((f=(d=n.find(p=>p.id===c))==null?void 0:d.ranges[0])==null?void 0:f.id)||"";t({...e,targetRangeId:u})};return a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx(W,{htmlFor:`link-button-text-${r}`,children:"Текст на кнопке"}),a.jsx(be,{id:`link-button-text-${r}`,value:e.text,onChange:c=>t({...e,text:c.target.value}),placeholder:"Напр. vs 3-bet"})]}),r===0&&a.jsxs("div",{children:[a.jsx(W,{htmlFor:"link-button-position",children:"Расположение группы кнопок"}),a.jsxs(zn,{value:e.position,onValueChange:c=>t({...e,position:c}),children:[a.jsx(Sn,{id:"link-button-position",children:a.jsx(Un,{placeholder:"Выберите расположение"})}),a.jsxs(bn,{children:[a.jsx(Je,{value:"left",children:"Слева"}),a.jsx(Je,{value:"center",children:"По центру"}),a.jsx(Je,{value:"right",children:"Справа"})]})]})]}),a.jsxs("div",{children:[a.jsx(W,{children:"Целевой ренж"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(zn,{value:s,onValueChange:l,children:[a.jsx(Sn,{children:a.jsx(Un,{placeholder:"Выберите папку"})}),a.jsx(bn,{children:n.map(c=>a.jsx(Je,{value:c.id,children:c.name},c.id))})]}),a.jsxs(zn,{value:e.targetRangeId,onValueChange:c=>t({...e,targetRangeId:c}),disabled:!s,children:[a.jsx(Sn,{children:a.jsx(Un,{placeholder:"Выберите ренж"})}),a.jsx(bn,{children:i.map(c=>a.jsx(Je,{value:c.id,children:c.name},c.id))})]})]})]})]})},VD=({isOpen:e,onOpenChange:t,linkedRange:n,actionButtons:r,editingButton:s,onSave:o,folders:i})=>{const[l,c]=h.useState({}),[u,d]=h.useState([]),[f,p]=h.useState({showTitle:!1,titleText:"",titleFontSize:20,titleAlignment:"center"}),[y,S]=h.useState(!0),x=Zn();h.useEffect(()=>{if(e){c((s==null?void 0:s.legendOverrides)||{});const k=(s==null?void 0:s.linkButtons)||[],C=Array(6).fill(null).map((j,_)=>({...k[_]||{enabled:!1,text:"",position:"center",targetRangeId:""}}));d(C),p({showTitle:(n==null?void 0:n.showTitle)||!1,titleText:(n==null?void 0:n.titleText)||(n==null?void 0:n.name)||"",titleFontSize:(n==null?void 0:n.titleFontSize)||20,titleAlignment:(n==null?void 0:n.titleAlignment)||"center"}),S((s==null?void 0:s.legendIsMultiLine)??!0)}},[e,s,n]);const b=()=>{const k={};for(const C in l)l[C]&&l[C].trim()!==""&&(k[C]=l[C].trim());o({overrides:k,linkButtonsConfig:u,titleConfig:f,legendIsMultiLine:y}),t(!1)},m=(k,C)=>{const j=[...u];if(j[k]=C,k===0){const _=C.position;for(let N=1;N<j.length;N++)j[N]={...j[N],position:_}}d(j)},v=h.useMemo(()=>{if(!n)return[];const k=new Set(Object.values(n.hands));return r.filter(C=>k.has(C.id))},[n,r]),g=h.useMemo(()=>{var C;const k=((C=u[0])==null?void 0:C.position)||"center";return{left:"justify-start",center:"justify-center",right:"justify-end"}[k]},[u]),w=h.useMemo(()=>u.filter(k=>k.enabled&&k.text.trim()!==""),[u]);return a.jsx(Mt,{open:e,onOpenChange:t,children:a.jsxs(_t,{className:"max-w-4xl sm:max-h-[90vh] overflow-y-auto",onInteractOutside:k=>k.preventDefault(),mobileFullscreen:x,children:[a.jsx(Ct,{children:a.jsx(kt,{children:"Предпросмотр и редактирование"})}),n&&a.jsxs("div",{children:[a.jsx(Yr,{selectedHands:n.hands,onHandSelect:()=>{},activeAction:"",actionButtons:r,readOnly:!0,isBackgroundMode:!1,sizeVariant:"editorPreview"}),a.jsxs("div",{className:"mt-4 space-y-3",children:[a.jsx("h4",{className:"font-semibold",children:"Редактировать названия в легенде:"}),a.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[a.jsx(Vn,{id:"legend-multiline",checked:y,onCheckedChange:k=>S(!!k)}),a.jsx(W,{htmlFor:"legend-multiline",children:"С новой строки"})]}),v.map(k=>a.jsxs("div",{className:"grid grid-cols-[auto_1fr] items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2 whitespace-nowrap",children:[a.jsx("div",{className:"w-4 h-4 rounded-sm border flex-shrink-0",style:UD(k,r)}),a.jsxs(W,{htmlFor:`legend-override-${k.id}`,children:[k.name,":"]})]}),a.jsx(be,{id:`legend-override-${k.id}`,value:l[k.id]||"",onChange:C=>c(j=>({...j,[k.id]:C.target.value})),placeholder:`По умолчанию: ${k.name}`})]},k.id))]}),a.jsxs("div",{className:"mt-6 pt-4 border-t",children:[a.jsx("h4",{className:"font-semibold mb-3",children:"Заголовок над матрицей"}),a.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[a.jsx(Vn,{id:"show-title",checked:f.showTitle,onCheckedChange:k=>p(C=>({...C,showTitle:!!k}))}),a.jsx(W,{htmlFor:"show-title",children:"Показывать заголовок"})]}),f.showTitle&&a.jsxs("div",{className:"space-y-4 pl-6",children:[a.jsxs("div",{children:[a.jsx(W,{htmlFor:"title-text",children:"Текст заголовка"}),a.jsx(be,{id:"title-text",value:f.titleText,onChange:k=>p(C=>({...C,titleText:k.target.value})),placeholder:"Напр. Open Raise BTN"})]}),a.jsxs("div",{className:"flex gap-4 items-end",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx(W,{htmlFor:"title-font-size",children:"Размер шрифта (px)"}),a.jsx(be,{id:"title-font-size",type:"number",value:f.titleFontSize,onChange:k=>p(C=>({...C,titleFontSize:Number(k.target.value)||20}))})]}),a.jsxs("div",{children:[a.jsx(W,{children:"Выравнивание"}),a.jsxs(at,{value:f.titleAlignment,onValueChange:k=>p(C=>({...C,titleAlignment:k})),className:"flex gap-4 mt-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fe,{value:"left",id:"align-left"}),a.jsx(W,{htmlFor:"align-left",children:"Слева"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fe,{value:"center",id:"align-center"}),a.jsx(W,{htmlFor:"align-center",children:"По центру"})]})]})]})]})]})]}),a.jsxs("div",{className:"mt-6 pt-4 border-t",children:[a.jsx("h4",{className:"font-semibold mb-3",children:"Кнопки-ссылки на другой ренж"}),w.length>0&&a.jsxs("div",{className:"space-y-2 mb-6",children:[a.jsx(W,{children:"Предпросмотр кнопок"}),a.jsx("div",{className:`p-4 border rounded-lg bg-muted/40 flex ${g}`,children:a.jsx("div",{className:"grid grid-cols-1 gap-2",children:w.map((k,C)=>a.jsx(X,{variant:"outline",size:"sm",className:"pointer-events-none",children:k.text},C))})})]}),a.jsx(W,{children:"Настройки кнопок"}),a.jsx("div",{className:"grid grid-cols-1 gap-2 mt-2",children:u.map((k,C)=>a.jsxs("div",{className:"p-2 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(Vn,{id:`enable-link-button-${C}`,checked:k.enabled,onCheckedChange:j=>m(C,{...k,enabled:!!j})}),a.jsxs(W,{htmlFor:`enable-link-button-${C}`,className:"font-semibold",children:["Кнопка-ссылка #",C+1]})]}),k.enabled&&a.jsx(BD,{config:k,onConfigChange:j=>m(C,j),folders:i,buttonIndex:C})]},C))})]})]}),a.jsxs(Xn,{children:[a.jsx(X,{variant:"outline",onClick:()=>t(!1),children:"Отмена"}),a.jsx(X,{onClick:b,children:"Сохранить"})]})]})})},HD=({isMobileMode:e=!1,chart:t,onBackToCharts:n,onSaveChart:r})=>{const{folders:s,setFolders:o,actionButtons:i}=En(),l=s.flatMap(ne=>ne.ranges),[c,u]=h.useState(t.name),[d,f]=h.useState(!1),[p,y]=h.useState(t.buttons),[S,x]=h.useState(t.canvasWidth||800),[b,m]=h.useState(t.canvasHeight||500),[v,g]=h.useState(!1),[w,k]=h.useState(null),[C,j]=h.useState(!1),[_,N]=h.useState(!1),[R,P]=h.useState(!1),O=h.useRef(null),A=100,z=5,{activeButtonId:U,handleMouseDown:H,handleTouchStart:B,handleButtonMouseMove:T,handleButtonMouseLeave:E}=LD({buttons:p,setButtons:y,canvasRef:O,isMoveMode:R});h.useEffect(()=>{u(t.name),y(t.buttons),x(t.canvasWidth||800),m(t.canvasHeight||500)},[t]),h.useEffect(()=>{y(ne=>{let de=!1;const ke=ne.map(F=>{let re=F.x,ie=F.y,ce=F.width,xe=F.height;return ce=Math.max(z,ce),xe=Math.max(z,xe),re=Math.max(0,Math.min(re,S-ce)),ie=Math.max(0,Math.min(ie,b-xe)),ce=Math.min(ce,S-re),xe=Math.min(xe,b-ie),re!==F.x||ie!==F.y||ce!==F.width||xe!==F.height?(de=!0,{...F,x:re,y:ie,width:ce,height:xe}):F});return de?ke:ne})},[S,b]),h.useEffect(()=>{const ne=de=>{if(!R||!U||!p.find(ce=>ce.id===U))return;["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(de.key)&&de.preventDefault();let F=0,re=0;const ie=de.shiftKey?10:1;switch(de.key){case"ArrowUp":re=-ie;break;case"ArrowDown":re=ie;break;case"ArrowLeft":F=-ie;break;case"ArrowRight":F=ie;break;default:return}y(ce=>ce.map(xe=>{if(xe.id===U){const Ze=Math.max(0,Math.min(xe.x+F,S-xe.width)),hn=Math.max(0,Math.min(xe.y+re,b-xe.height));return{...xe,x:Ze,y:hn}}return xe}))};return window.addEventListener("keydown",ne),()=>{window.removeEventListener("keydown",ne)}},[R,U,p,y,S,b]);const I=()=>{const ne={id:String(Date.now()),name:"new",color:"#60A5FA",linkedItem:l.length>0?l[0].id:"label-only",x:50,y:50,width:120,height:40,type:l.length>0?"button":"label",isFontAdaptive:!0,fontSize:16,fontColor:"white",showLegend:!0,legendIsMultiLine:!0,showRandomizer:!1,legendOverrides:{},linkButtons:Array(6).fill(null).map(()=>({enabled:!1,text:"",position:"center",targetRangeId:""}))};y(de=>[...de,ne]),k(ne),j(!0),g(!0)},$=(ne,de)=>{ne.stopPropagation(),k(de),j(!1),g(!0)},V=()=>{w&&(y(ne=>ne.map(de=>de.id===w.id?w:de)),g(!1),k(null),j(!1))},Y=()=>{w&&!t.buttons.some(ne=>ne.id===w.id)&&y(ne=>ne.filter(de=>de.id!==w.id)),g(!1),k(null),j(!1)},Q=()=>{if(w){let de,ke;const F=w.x+w.width+10;if(F+w.width<=S)de=F,ke=w.y;else{const ie=w.y+w.height+10;ie+w.height<=b?(de=w.x,ke=ie):(de=Math.min(w.x+10,S-w.width),ke=Math.min(w.y+10,b-w.height))}de=Math.max(0,de),ke=Math.max(0,ke);const re={...w,id:String(Date.now()),x:de,y:ke};y(ie=>[...ie,re]),g(!1),k(null),j(!1)}},he=()=>{w&&(y(ne=>ne.filter(de=>de.id!==w.id)),g(!1),k(null),j(!1))},D=()=>{const ne={...t,name:c,buttons:p,canvasWidth:S,canvasHeight:b};r(ne),n(),console.log("[ChartEditor] Chart saved, triggering background sync."),qr(!1)},M=(ne,de)=>{(de==="width"?x:m)(parseInt(ne,10))},G=(ne,de)=>{const ke=de==="width"?x:m;(isNaN(ne)||ne<A)&&ke(A)},J=()=>{e?(x(window.innerWidth),m(window.innerHeight)):(x(Math.round(window.innerWidth*.97)),m(Math.round(window.innerHeight*.91)))},Z=()=>{w&&N(!0)},ee=ne=>{if(k(de=>de?{...de,legendOverrides:ne.overrides,linkButtons:ne.linkButtonsConfig,legendIsMultiLine:ne.legendIsMultiLine}:null),ne.titleConfig&&(w!=null&&w.linkedItem)){const de=w.linkedItem;o(ke=>ke.map(F=>({...F,ranges:F.ranges.map(re=>re.id===de?{...re,showTitle:ne.titleConfig.showTitle,titleText:ne.titleConfig.titleText,titleFontSize:ne.titleConfig.titleFontSize,titleAlignment:ne.titleConfig.titleAlignment}:re)})))}N(!1)},le=()=>{P(ne=>!ne)},oe=w!=null&&w.linkedItem?l.find(ne=>ne.id===w.linkedItem):null;return a.jsx("div",{className:L("p-6",e?"flex-1 overflow-y-auto":"min-h-screen"),children:a.jsxs("div",{className:L("mx-auto",e?"w-full":""),children:[a.jsx("div",{className:"flex justify-between items-center mb-2",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(X,{variant:"ghost",size:"icon",onClick:D,title:"Назад к чартам",children:a.jsx(SP,{className:"h-6 w-6 text-foreground"})}),d?a.jsx(be,{value:c,onChange:ne=>u(ne.target.value),onBlur:()=>f(!1),onKeyDown:ne=>{ne.key==="Enter"&&(ne.preventDefault(),f(!1))},className:"text-3xl font-bold h-auto p-0 border-none focus-visible:ring-0 bg-transparent",autoFocus:!0}):a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h1",{className:"text-3xl font-bold text-foreground",children:c}),a.jsx(X,{variant:"ghost",size:"icon",onClick:()=>f(!0),title:"Редактировать название",children:a.jsx(wh,{className:"h-5 w-5 text-muted-foreground"})})]})]})}),a.jsx(FD,{isMobileMode:e||!1,canvasWidth:S,canvasHeight:b,onAddButton:I,onMaximizeCanvas:J,onDimensionChange:M,onDimensionBlur:G,isMoveMode:R,onToggleMoveMode:le}),a.jsx($D,{canvasRef:O,width:S,height:b,buttons:p,activeButtonId:U,onButtonMouseDown:H,onButtonTouchStart:B,onButtonMouseMove:T,onButtonMouseLeave:E,onSettingsClick:$}),a.jsx(zD,{isOpen:v,onOpenChange:g,isMobileMode:e||!1,editingButton:w,setEditingButton:k,onSave:V,onCancel:Y,onDuplicate:Q,onDelete:he,allRanges:l,folders:s,onOpenLegendPreview:Z,isCreatingNewButton:C}),a.jsx(VD,{isOpen:_,onOpenChange:N,linkedRange:oe,actionButtons:i,editingButton:w,onSave:ee,folders:s})]})})};/*! Capacitor: https://capacitorjs.com/ - MIT License */const WD=e=>{const t=new Map;t.set("web",{name:"web"});const n=e.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:t},r=(o,i)=>{n.platforms.set(o,i)},s=o=>{n.platforms.has(o)&&(n.currentPlatform=n.platforms.get(o))};return n.addPlatform=r,n.setPlatform=s,n},KD=e=>e.CapacitorPlatforms=WD(e),Zj=KD(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});Zj.addPlatform;Zj.setPlatform;var so;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(so||(so={}));class Nu extends Error{constructor(t,n,r){super(t),this.message=t,this.code=n,this.data=r}}const GD=e=>{var t,n;return e!=null&&e.androidBridge?"android":!((n=(t=e==null?void 0:e.webkit)===null||t===void 0?void 0:t.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},qD=e=>{var t,n,r,s,o;const i=e.CapacitorCustomPlatform||null,l=e.Capacitor||{},c=l.Plugins=l.Plugins||{},u=e.CapacitorPlatforms,d=()=>i!==null?i.name:GD(e),f=((t=u==null?void 0:u.currentPlatform)===null||t===void 0?void 0:t.getPlatform)||d,p=()=>f()!=="web",y=((n=u==null?void 0:u.currentPlatform)===null||n===void 0?void 0:n.isNativePlatform)||p,S=j=>{const _=w.get(j);return!!(_!=null&&_.platforms.has(f())||m(j))},x=((r=u==null?void 0:u.currentPlatform)===null||r===void 0?void 0:r.isPluginAvailable)||S,b=j=>{var _;return(_=l.PluginHeaders)===null||_===void 0?void 0:_.find(N=>N.name===j)},m=((s=u==null?void 0:u.currentPlatform)===null||s===void 0?void 0:s.getPluginHeader)||b,v=j=>e.console.error(j),g=(j,_,N)=>Promise.reject(`${N} does not have an implementation of "${_}".`),w=new Map,k=(j,_={})=>{const N=w.get(j);if(N)return console.warn(`Capacitor plugin "${j}" already registered. Cannot register plugins twice.`),N.proxy;const R=f(),P=m(j);let O;const A=async()=>(!O&&R in _?O=typeof _[R]=="function"?O=await _[R]():O=_[R]:i!==null&&!O&&"web"in _&&(O=typeof _.web=="function"?O=await _.web():O=_.web),O),z=(I,$)=>{var V,Y;if(P){const Q=P==null?void 0:P.methods.find(he=>$===he.name);if(Q)return Q.rtype==="promise"?he=>l.nativePromise(j,$.toString(),he):(he,D)=>l.nativeCallback(j,$.toString(),he,D);if(I)return(V=I[$])===null||V===void 0?void 0:V.bind(I)}else{if(I)return(Y=I[$])===null||Y===void 0?void 0:Y.bind(I);throw new Nu(`"${j}" plugin is not implemented on ${R}`,so.Unimplemented)}},U=I=>{let $;const V=(...Y)=>{const Q=A().then(he=>{const D=z(he,I);if(D){const M=D(...Y);return $=M==null?void 0:M.remove,M}else throw new Nu(`"${j}.${I}()" is not implemented on ${R}`,so.Unimplemented)});return I==="addListener"&&(Q.remove=async()=>$()),Q};return V.toString=()=>`${I.toString()}() { [capacitor code] }`,Object.defineProperty(V,"name",{value:I,writable:!1,configurable:!1}),V},H=U("addListener"),B=U("removeListener"),T=(I,$)=>{const V=H({eventName:I},$),Y=async()=>{const he=await V;B({eventName:I,callbackId:he},$)},Q=new Promise(he=>V.then(()=>he({remove:Y})));return Q.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await Y()},Q},E=new Proxy({},{get(I,$){switch($){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return P?T:H;case"removeListener":return B;default:return U($)}}});return c[j]=E,w.set(j,{name:j,proxy:E,platforms:new Set([...Object.keys(_),...P?[R]:[]])}),E},C=((o=u==null?void 0:u.currentPlatform)===null||o===void 0?void 0:o.registerPlugin)||k;return l.convertFileSrc||(l.convertFileSrc=j=>j),l.getPlatform=f,l.handleError=v,l.isNativePlatform=y,l.isPluginAvailable=x,l.pluginMethodNoop=g,l.registerPlugin=C,l.Exception=Nu,l.DEBUG=!!l.DEBUG,l.isLoggingEnabled=!!l.isLoggingEnabled,l.platform=l.getPlatform(),l.isNative=l.isNativePlatform(),l},YD=e=>e.Capacitor=qD(e),_i=YD(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),sp=_i.registerPlugin;_i.Plugins;class e1{constructor(t){this.listeners={},this.retainedEventArguments={},this.windowListeners={},t&&(console.warn(`Capacitor WebPlugin "${t.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=t)}addListener(t,n){let r=!1;this.listeners[t]||(this.listeners[t]=[],r=!0),this.listeners[t].push(n);const o=this.windowListeners[t];o&&!o.registered&&this.addWindowListener(o),r&&this.sendRetainedArgumentsForEvent(t);const i=async()=>this.removeListener(t,n);return Promise.resolve({remove:i})}async removeAllListeners(){this.listeners={};for(const t in this.windowListeners)this.removeWindowListener(this.windowListeners[t]);this.windowListeners={}}notifyListeners(t,n,r){const s=this.listeners[t];if(!s){if(r){let o=this.retainedEventArguments[t];o||(o=[]),o.push(n),this.retainedEventArguments[t]=o}return}s.forEach(o=>o(n))}hasListeners(t){return!!this.listeners[t].length}registerWindowListener(t,n){this.windowListeners[n]={registered:!1,windowEventName:t,pluginEventName:n,handler:r=>{this.notifyListeners(n,r)}}}unimplemented(t="not implemented"){return new _i.Exception(t,so.Unimplemented)}unavailable(t="not available"){return new _i.Exception(t,so.Unavailable)}async removeListener(t,n){const r=this.listeners[t];if(!r)return;const s=r.indexOf(n);this.listeners[t].splice(s,1),this.listeners[t].length||this.removeWindowListener(this.windowListeners[t])}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){t&&(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}sendRetainedArgumentsForEvent(t){const n=this.retainedEventArguments[t];n&&(delete this.retainedEventArguments[t],n.forEach(r=>{this.notifyListeners(t,r)}))}}const zg=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Ug=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class JD extends e1{async getCookies(){const t=document.cookie,n={};return t.split(";").forEach(r=>{if(r.length<=0)return;let[s,o]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");s=Ug(s).trim(),o=Ug(o).trim(),n[s]=o}),n}async setCookie(t){try{const n=zg(t.key),r=zg(t.value),s=`; expires=${(t.expires||"").replace("expires=","")}`,o=(t.path||"/").replace("path=",""),i=t.url!=null&&t.url.length>0?`domain=${t.url}`:"";document.cookie=`${n}=${r||""}${s}; path=${o}; ${i};`}catch(n){return Promise.reject(n)}}async deleteCookie(t){try{document.cookie=`${t.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const t=document.cookie.split(";")||[];for(const n of t)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(t){return Promise.reject(t)}}async clearAllCookies(){try{await this.clearCookies()}catch(t){return Promise.reject(t)}}}sp("CapacitorCookies",{web:()=>new JD});const XD=async e=>new Promise((t,n)=>{const r=new FileReader;r.onload=()=>{const s=r.result;t(s.indexOf(",")>=0?s.split(",")[1]:s)},r.onerror=s=>n(s),r.readAsDataURL(e)}),QD=(e={})=>{const t=Object.keys(e);return Object.keys(e).map(s=>s.toLocaleLowerCase()).reduce((s,o,i)=>(s[o]=e[t[i]],s),{})},ZD=(e,t=!0)=>e?Object.entries(e).reduce((r,s)=>{const[o,i]=s;let l,c;return Array.isArray(i)?(c="",i.forEach(u=>{l=t?encodeURIComponent(u):u,c+=`${o}=${l}&`}),c.slice(0,-1)):(l=t?encodeURIComponent(i):i,c=`${o}=${l}`),`${r}&${c}`},"").substr(1):null,eM=(e,t={})=>{const n=Object.assign({method:e.method||"GET",headers:e.headers},t),s=QD(e.headers)["content-type"]||"";if(typeof e.data=="string")n.body=e.data;else if(s.includes("application/x-www-form-urlencoded")){const o=new URLSearchParams;for(const[i,l]of Object.entries(e.data||{}))o.set(i,l);n.body=o.toString()}else if(s.includes("multipart/form-data")||e.data instanceof FormData){const o=new FormData;if(e.data instanceof FormData)e.data.forEach((l,c)=>{o.append(c,l)});else for(const l of Object.keys(e.data))o.append(l,e.data[l]);n.body=o;const i=new Headers(n.headers);i.delete("content-type"),n.headers=i}else(s.includes("application/json")||typeof e.data=="object")&&(n.body=JSON.stringify(e.data));return n};class tM extends e1{async request(t){const n=eM(t,t.webFetchExtra),r=ZD(t.params,t.shouldEncodeUrlParams),s=r?`${t.url}?${r}`:t.url,o=await fetch(s,n),i=o.headers.get("content-type")||"";let{responseType:l="text"}=o.ok?t:{};i.includes("application/json")&&(l="json");let c,u;switch(l){case"arraybuffer":case"blob":u=await o.blob(),c=await XD(u);break;case"json":c=await o.json();break;case"document":case"text":default:c=await o.text()}const d={};return o.headers.forEach((f,p)=>{d[p]=f}),{data:c,headers:d,status:o.status,url:o.url}}async get(t){return this.request(Object.assign(Object.assign({},t),{method:"GET"}))}async post(t){return this.request(Object.assign(Object.assign({},t),{method:"POST"}))}async put(t){return this.request(Object.assign(Object.assign({},t),{method:"PUT"}))}async patch(t){return this.request(Object.assign(Object.assign({},t),{method:"PATCH"}))}async delete(t){return this.request(Object.assign(Object.assign({},t),{method:"DELETE"}))}}sp("CapacitorHttp",{web:()=>new tM});const nM=sp("App",{web:()=>un(()=>import("./web-DOsVRfSP.js"),[]).then(e=>new e.AppWeb)}),Bg=(e,t)=>{if(e==="fold")return"#6b7280";const n=t.find(r=>r.id===e);return n&&n.type==="simple"?n.color:"#ffffff"},rM=(e,t)=>{if(e.type==="simple")return{backgroundColor:e.color};if(e.type==="weighted"){const n=Bg(e.action1Id,t),r=Bg(e.action2Id,t);return{background:`linear-gradient(to right, ${n} ${e.weight}%, ${r} ${e.weight}%)`}}return{}},sM=({usedActions:e,allActionButtons:t,legendOverrides:n,legendIsMultiLine:r})=>{if(e.length===0)return null;const s=r??!0;return a.jsx("div",{className:L("mt-4",s?"flex flex-col items-start gap-y-2":"flex flex-row flex-wrap items-center gap-x-4 gap-y-2"),children:e.map(o=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 rounded-sm border",style:rM(o,t)}),a.jsx("span",{className:"text-sm font-medium",children:(n==null?void 0:n[o.id])||o.name})]},o.id))})},oM=({isOpen:e,onClose:t,children:n,isMobileMode:r=!1})=>e?a.jsx("div",{className:L("fixed inset-0 z-50 flex bg-black/50",r?"items-stretch p-0":"items-center justify-center p-2"),onClick:t,children:a.jsx("div",{className:L("bg-background shadow-2xl",r?"w-full h-full rounded-none":"w-auto p-4 rounded-lg"),onClick:s=>s.stopPropagation(),children:n})}):null,iM=({isMobileMode:e=!1,chart:t,allRanges:n,onBackToCharts:r})=>{const{actionButtons:s}=En(),[o,i]=h.useState(null),[l,c]=h.useState(!1),[u,d]=h.useState(null),[f,p]=h.useState(null),[y,S]=h.useState({width:0,height:0}),[x,b]=h.useState({}),m=_=>{if(!_){console.warn("[Stats] recordRangeAccess called with no rangeId.");return}let N={};try{const R=localStorage.getItem("poker-range-access-statistics");if(R){const P=JSON.parse(R);typeof P=="object"&&P!==null&&!Array.isArray(P)&&(N=P)}}catch(R){console.error("Error parsing range access statistics, starting fresh for this session.",R),N={}}try{const R=Number(N[_])||0;N[_]=R+1,localStorage.setItem("poker-range-access-statistics",JSON.stringify(N))}catch(R){console.error("Error saving range access statistics to localStorage.",R),alert("Не удалось сохранить статистику. Возможно, хранилище переполнено.")}};h.useEffect(()=>{const _=()=>{S({width:window.innerWidth,height:window.innerHeight})};_(),window.addEventListener("resize",_);try{const N=getComputedStyle(document.documentElement).getPropertyValue("--background").trim();if(!N)return;const R=N.replace(/%/g,"").split(" ");if(R.length<3)return;const P=parseFloat(R[0]),O=parseFloat(R[1]),A=parseFloat(R[2]);if(isNaN(P)||isNaN(O)||isNaN(A))return;const z=A+(100-A)*.15,U=`hsl(${P} ${O}% ${Math.min(100,z)}%)`;b({borderColor:U,borderWidth:"1px",borderStyle:"solid"})}catch(N){console.error("Could not calculate dynamic border color, falling back.",N),b({borderColor:"hsl(var(--border))",borderWidth:"1px",borderStyle:"solid"})}return()=>window.removeEventListener("resize",_)},[]),h.useEffect(()=>{if(!_i.isNativePlatform())return;const _=nM.addListener("backButton",()=>{l?g():r()});return()=>{_.then(N=>N.remove()).catch(N=>{console.error("Failed to remove back button listener",N)})}},[l,r]);const v=_=>{if(_.type==="label")return;if(_.type==="exit"){r();return}const N=n.find(R=>R.id===_.linkedItem);N?(m(N.id),i(N),d(_),_.showRandomizer?p(Math.floor(Math.random()*101)):p(null),c(!0)):alert("Привязанный диапазон не найден.")},g=()=>{c(!1),i(null),d(null),p(null)},w=_=>{const N=n.find(R=>R.id===_);N?(m(N.id),i(N)):alert("Связанный ренж не найден!")},k=q.useMemo(()=>{if(!o)return[];const _=new Set(Object.values(o.hands));return s.filter(N=>_.has(N.id))},[o,s]),C=e&&y.width>0&&t.canvasWidth>0?Math.min(y.width/t.canvasWidth,y.height/t.canvasHeight):1,j={left:"justify-start",center:"justify-center",right:"justify-end"};return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:L(e?"fixed inset-0 z-50 flex flex-col items-center justify-center bg-background":"p-6 min-h-screen"),children:a.jsx("div",{className:L(e?"w-full h-full flex flex-col items-center justify-center":"w-full flex justify-center items-start"),children:a.jsxs("div",{className:L("relative flex items-center justify-center overflow-hidden",e?"bg-background":"bg-card rounded-lg"),style:{width:t.canvasWidth,height:t.canvasHeight,...e?{transform:`scale(${C})`,transformOrigin:"center center"}:{flexShrink:0,...x}},children:[(!e||!l)&&t.buttons.map(_=>{const N={backgroundColor:_.color,position:"absolute",left:_.x,top:_.y,width:Math.max(5,_.width||0),height:Math.max(5,_.height||0),color:_.isFontAdaptive===!1&&_.fontColor?_.fontColor:"white"};return _.isFontAdaptive===!1&&_.fontSize&&(N.fontSize=`${_.fontSize}px`),a.jsx("div",{style:N,className:L("flex items-center justify-center rounded-md shadow-md font-semibold z-20",_.type!=="label"&&"cursor-pointer hover:opacity-90 transition-opacity"),onClick:()=>v(_),children:_.name},_.id)}),t.buttons.length===0&&(!e||!l)&&a.jsx("p",{className:"text-muted-foreground z-10",children:"В этом чарте нет кнопок."})]})})}),a.jsx(oM,{isOpen:l,onClose:g,isMobileMode:e,children:o&&a.jsxs("div",{className:L("relative flex flex-col h-full",e?"pb-[30px]":"p-4"),children:[(u==null?void 0:u.showRandomizer)&&f!==null&&a.jsx("div",{className:"absolute top-0 right-0 font-bold z-10 rounded-md",style:{fontSize:"20px",color:"white",backgroundColor:"#0d0e12",padding:"4px 12px"},children:f}),o.showTitle&&o.titleText&&a.jsx("h3",{className:"pt-10 mb-2 px-4 font-bold text-white flex-shrink-0",style:{fontSize:`${o.titleFontSize||20}px`,textAlign:o.titleAlignment||"center"},children:o.titleText}),a.jsx("div",{className:L("flex items-center justify-center flex-shrink-0",e?"w-full":"h-full"),children:a.jsx("div",{className:L("aspect-square",e?"w-full":"h-full"),children:a.jsx(Yr,{selectedHands:o.hands,onHandSelect:()=>{},activeAction:"",actionButtons:s,readOnly:!0,isBackgroundMode:!1})})}),a.jsxs("div",{className:L("flex-shrink-0",e&&"px-4 pb-4"),children:[(u==null?void 0:u.showLegend)&&a.jsx(sM,{usedActions:k,allActionButtons:s,legendOverrides:u==null?void 0:u.legendOverrides,legendIsMultiLine:u==null?void 0:u.legendIsMultiLine}),(u==null?void 0:u.linkButtons)&&u.linkButtons.some(_=>_.enabled)&&a.jsx("div",{className:L("mt-4 flex",j[u.linkButtons[0].position]),children:a.jsx("div",{className:"grid grid-cols-3 gap-2",children:u.linkButtons.map((_,N)=>_.enabled&&_.targetRangeId&&a.jsx(X,{onClick:()=>w(_.targetRangeId),className:"bg-green-600 hover:bg-green-700 text-white font-bold h-8 px-2 text-xs",children:_.text||"Перейти"},N))})})]}),e&&a.jsx(X,{onClick:g,className:"absolute bottom-0 left-0 w-full rounded-none text-white font-bold bg-gray-800 hover:bg-gray-700 z-20",style:{height:"30px"},children:"Назад"})]})})]})},aM=()=>{console.log("Index.tsx rendered");const{folders:e}=En(),t=e.flatMap(_=>_.ranges),[n,r]=h.useState("chart"),[s,o]=h.useState(null),[i,l]=h.useState(null),[c,u]=h.useState(!1),d=Zn(),[f,p]=h.useState(()=>{try{const _=localStorage.getItem("userCharts");return _?JSON.parse(_):[]}catch(_){return console.error("Failed to parse charts from localStorage:",_),[]}});h.useEffect(()=>{try{localStorage.setItem("userCharts",JSON.stringify(f))}catch(_){console.error("Failed to save charts to localStorage:",_)}},[f]);const y=d&&i!=="desktop"||!d&&c,S=n==="chartViewer",x=_=>{o(_),r("chartEditor")},b=_=>{o(_),r("chartViewer")},m=_=>{const N=String(Date.now()),R={id:N,name:_.trim(),buttons:[{id:`exit-${N}`,name:"Выход",color:"#EF4444",linkedItem:"",x:10,y:10,width:150,height:40,type:"exit"}],canvasWidth:800,canvasHeight:500};p(P=>[...P,R])},v=_=>{p(N=>N.filter(R=>R.id!==_))},g=_=>{p(N=>N.map(R=>R.id===_.id?_:R)),o(N=>N&&N.id===_.id?_:N)},w=()=>{switch(console.log("Index.tsx: renderSection called. activeSection:",n),n){case"editor":return a.jsx(Dg,{isMobileMode:y});case"training":return a.jsx(ID,{isMobileMode:y});case"chart":return a.jsx(MD,{isMobileMode:y,charts:f,onCreateChart:m,onDeleteChart:v,onEditChart:x,onPlayChart:b});case"chartEditor":return s?a.jsx(HD,{isMobileMode:y,chart:s,onBackToCharts:()=>r("chart"),onSaveChart:g}):null;case"chartViewer":return s?a.jsx(iM,{isMobileMode:y,chart:s,allRanges:t,onBackToCharts:()=>r("chart")}):null;default:return a.jsx(Dg,{isMobileMode:y})}},k=a.jsx(X,{variant:"outline",size:"sm",onClick:()=>{d?l(i==="desktop"?null:"desktop"):u(!c)},className:"flex items-center justify-center h-10 w-10 p-0",children:y?a.jsx(TP,{className:"h-4 w-4"}):a.jsx(OP,{className:"h-4 w-4"})}),C=a.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[k,a.jsx(Rg,{isMobileMode:y})]}),{loading:j}=Th();return console.log("Index.tsx: AuthContext loading state:",j),console.log("Index.tsx: isFullScreenViewer:",S),console.log("Index.tsx: isMobileLayout:",y),console.log("Index.tsx: activeSection:",n),console.log("Index.tsx: folders (from RangeContext):",e),console.log("Index.tsx: charts (local state):",f),j?(console.log("Index.tsx: AuthContext is still loading, rendering null."),null):S?a.jsx(q.Fragment,{children:(()=>{try{return w()}catch(_){return console.error("Index.tsx: Error rendering full screen section:",_),a.jsxs("div",{className:"text-red-500 p-4",children:["Ошибка загрузки полноэкранного режима: ",_ instanceof Error?_.message:String(_)]})}})()}):a.jsx("div",{className:"min-h-screen bg-background",children:y?a.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[a.jsx("div",{className:"px-4 border-b bg-card",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsx(bm,{activeSection:n,onSectionChange:r,isMobile:!0,mobileActions:C})})}),a.jsx("div",{className:"flex-1 flex flex-col",children:a.jsx(q.Fragment,{children:(()=>{try{return w()}catch(_){return console.error("Index.tsx: Error rendering mobile section:",_),a.jsxs("div",{className:"text-red-500 p-4",children:["Ошибка загрузки мобильного режима: ",_ instanceof Error?_.message:String(_)]})}})()})})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"py-1 border-b bg-card",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-80 flex-shrink-0 pl-4",children:a.jsx(bm,{activeSection:n,onSectionChange:r})}),a.jsx("div",{className:"flex-1 flex items-center justify-end pr-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[k,a.jsx(Rg,{isMobileMode:y})]})})]})}),a.jsx(q.Fragment,{children:(()=>{try{return w()}catch(_){return console.error("Index.tsx: Error rendering desktop section:",_),a.jsxs("div",{className:"text-red-500 p-4",children:["Ошибка загрузки десктопного режима: ",_ instanceof Error?_.message:String(_)]})}})()})]})})};function lM(){return a.jsx(EA,{children:a.jsx(XA,{children:a.jsx(aM,{})})})}console.log("main.tsx executed");rx(document.getElementById("root")).render(a.jsx(q.StrictMode,{children:a.jsx(lM,{})}));const Ci=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));export{e1 as W};
