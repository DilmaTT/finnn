function w1(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var Wt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function S1(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var Yg={exports:{}},Tl={},Jg={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ki=Symbol.for("react.element"),b1=Symbol.for("react.portal"),j1=Symbol.for("react.fragment"),C1=Symbol.for("react.strict_mode"),_1=Symbol.for("react.profiler"),k1=Symbol.for("react.provider"),N1=Symbol.for("react.context"),E1=Symbol.for("react.forward_ref"),R1=Symbol.for("react.suspense"),T1=Symbol.for("react.memo"),P1=Symbol.for("react.lazy"),dp=Symbol.iterator;function A1(e){return e===null||typeof e!="object"?null:(e=dp&&e[dp]||e["@@iterator"],typeof e=="function"?e:null)}var Xg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Qg=Object.assign,Zg={};function io(e,t,n){this.props=e,this.context=t,this.refs=Zg,this.updater=n||Xg}io.prototype.isReactComponent={};io.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};io.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ev(){}ev.prototype=io.prototype;function df(e,t,n){this.props=e,this.context=t,this.refs=Zg,this.updater=n||Xg}var ff=df.prototype=new ev;ff.constructor=df;Qg(ff,io.prototype);ff.isPureReactComponent=!0;var fp=Array.isArray,tv=Object.prototype.hasOwnProperty,hf={current:null},nv={key:!0,ref:!0,__self:!0,__source:!0};function rv(e,t,n){var r,s={},o=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)tv.call(t,r)&&!nv.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:ki,type:e,key:o,ref:a,props:s,_owner:hf.current}}function I1(e,t){return{$$typeof:ki,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function pf(e){return typeof e=="object"&&e!==null&&e.$$typeof===ki}function O1(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var hp=/\/+/g;function Ac(e,t){return typeof e=="object"&&e!==null&&e.key!=null?O1(""+e.key):t.toString(36)}function wa(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case ki:case b1:a=!0}}if(a)return a=e,s=s(a),e=r===""?"."+Ac(a,0):r,fp(s)?(n="",e!=null&&(n=e.replace(hp,"$&/")+"/"),wa(s,t,n,"",function(u){return u})):s!=null&&(pf(s)&&(s=I1(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(hp,"$&/")+"/")+e)),t.push(s)),1;if(a=0,r=r===""?".":r+":",fp(e))for(var l=0;l<e.length;l++){o=e[l];var c=r+Ac(o,l);a+=wa(o,t,n,c,s)}else if(c=A1(e),typeof c=="function")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=r+Ac(o,l++),a+=wa(o,t,n,c,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Vi(e,t,n){if(e==null)return e;var r=[],s=0;return wa(e,r,"","",function(o){return t.call(n,o,s++)}),r}function D1(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var vt={current:null},Sa={transition:null},M1={ReactCurrentDispatcher:vt,ReactCurrentBatchConfig:Sa,ReactCurrentOwner:hf};function sv(){throw Error("act(...) is not supported in production builds of React.")}ye.Children={map:Vi,forEach:function(e,t,n){Vi(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Vi(e,function(){t++}),t},toArray:function(e){return Vi(e,function(t){return t})||[]},only:function(e){if(!pf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ye.Component=io;ye.Fragment=j1;ye.Profiler=_1;ye.PureComponent=df;ye.StrictMode=C1;ye.Suspense=R1;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M1;ye.act=sv;ye.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Qg({},e.props),s=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=hf.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)tv.call(t,c)&&!nv.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:ki,type:e.type,key:s,ref:o,props:r,_owner:a}};ye.createContext=function(e){return e={$$typeof:N1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:k1,_context:e},e.Consumer=e};ye.createElement=rv;ye.createFactory=function(e){var t=rv.bind(null,e);return t.type=e,t};ye.createRef=function(){return{current:null}};ye.forwardRef=function(e){return{$$typeof:E1,render:e}};ye.isValidElement=pf;ye.lazy=function(e){return{$$typeof:P1,_payload:{_status:-1,_result:e},_init:D1}};ye.memo=function(e,t){return{$$typeof:T1,type:e,compare:t===void 0?null:t}};ye.startTransition=function(e){var t=Sa.transition;Sa.transition={};try{e()}finally{Sa.transition=t}};ye.unstable_act=sv;ye.useCallback=function(e,t){return vt.current.useCallback(e,t)};ye.useContext=function(e){return vt.current.useContext(e)};ye.useDebugValue=function(){};ye.useDeferredValue=function(e){return vt.current.useDeferredValue(e)};ye.useEffect=function(e,t){return vt.current.useEffect(e,t)};ye.useId=function(){return vt.current.useId()};ye.useImperativeHandle=function(e,t,n){return vt.current.useImperativeHandle(e,t,n)};ye.useInsertionEffect=function(e,t){return vt.current.useInsertionEffect(e,t)};ye.useLayoutEffect=function(e,t){return vt.current.useLayoutEffect(e,t)};ye.useMemo=function(e,t){return vt.current.useMemo(e,t)};ye.useReducer=function(e,t,n){return vt.current.useReducer(e,t,n)};ye.useRef=function(e){return vt.current.useRef(e)};ye.useState=function(e){return vt.current.useState(e)};ye.useSyncExternalStore=function(e,t,n){return vt.current.useSyncExternalStore(e,t,n)};ye.useTransition=function(){return vt.current.useTransition()};ye.version="18.3.1";Jg.exports=ye;var h=Jg.exports;const X=qg(h),ov=w1({__proto__:null,default:X},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L1=h,$1=Symbol.for("react.element"),F1=Symbol.for("react.fragment"),z1=Object.prototype.hasOwnProperty,U1=L1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,B1={key:!0,ref:!0,__self:!0,__source:!0};function iv(e,t,n){var r,s={},o=null,a=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)z1.call(t,r)&&!B1.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:$1,type:e,key:o,ref:a,props:s,_owner:U1.current}}Tl.Fragment=F1;Tl.jsx=iv;Tl.jsxs=iv;Yg.exports=Tl;var i=Yg.exports,av={exports:{}},Mt={},lv={exports:{}},cv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,E){var O=I.length;I.push(E);e:for(;0<O;){var z=O-1>>>1,H=I[z];if(0<s(H,E))I[z]=E,I[O]=H,O=z;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var E=I[0],O=I.pop();if(O!==E){I[0]=O;e:for(var z=0,H=I.length,J=H>>>1;z<J;){var K=2*(z+1)-1,he=I[K],ie=K+1,Z=I[ie];if(0>s(he,O))ie<H&&0>s(Z,he)?(I[z]=Z,I[ie]=O,z=ie):(I[z]=he,I[K]=O,z=K);else if(ie<H&&0>s(Z,O))I[z]=Z,I[ie]=O,z=ie;else break e}}return E}function s(I,E){var O=I.sortIndex-E.sortIndex;return O!==0?O:I.id-E.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,f=null,p=3,g=!1,S=!1,w=!1,j=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(I){for(var E=n(u);E!==null;){if(E.callback===null)r(u);else if(E.startTime<=I)r(u),E.sortIndex=E.expirationTime,t(c,E);else break;E=n(u)}}function y(I){if(w=!1,x(I),!S)if(n(c)!==null)S=!0,B(k);else{var E=n(u);E!==null&&q(y,E.startTime-I)}}function k(I,E){S=!1,w&&(w=!1,m(C),C=-1),g=!0;var O=p;try{for(x(E),f=n(c);f!==null&&(!(f.expirationTime>E)||I&&!P());){var z=f.callback;if(typeof z=="function"){f.callback=null,p=f.priorityLevel;var H=z(f.expirationTime<=E);E=e.unstable_now(),typeof H=="function"?f.callback=H:f===n(c)&&r(c),x(E)}else r(c);f=n(c)}if(f!==null)var J=!0;else{var K=n(u);K!==null&&q(y,K.startTime-E),J=!1}return J}finally{f=null,p=O,g=!1}}var _=!1,b=null,C=-1,N=5,R=-1;function P(){return!(e.unstable_now()-R<N)}function T(){if(b!==null){var I=e.unstable_now();R=I;var E=!0;try{E=b(!0,I)}finally{E?L():(_=!1,b=null)}}else _=!1}var L;if(typeof v=="function")L=function(){v(T)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,V=F.port2;F.port1.onmessage=T,L=function(){V.postMessage(null)}}else L=function(){j(T,0)};function B(I){b=I,_||(_=!0,L())}function q(I,E){C=j(function(){I(e.unstable_now())},E)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){S||g||(S=!0,B(k))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(I){switch(p){case 1:case 2:case 3:var E=3;break;default:E=p}var O=p;p=E;try{return I()}finally{p=O}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,E){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var O=p;p=I;try{return E()}finally{p=O}},e.unstable_scheduleCallback=function(I,E,O){var z=e.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?z+O:z):O=z,I){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=O+H,I={id:d++,callback:E,priorityLevel:I,startTime:O,expirationTime:H,sortIndex:-1},O>z?(I.sortIndex=O,t(u,I),n(c)===null&&I===n(u)&&(w?(m(C),C=-1):w=!0,q(y,O-z))):(I.sortIndex=H,t(c,I),S||g||(S=!0,B(k))),I},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(I){var E=p;return function(){var O=p;p=E;try{return I.apply(this,arguments)}finally{p=O}}}})(cv);lv.exports=cv;var H1=lv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V1=h,Ot=H1;function W(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var uv=new Set,ni={};function is(e,t){qs(e,t),qs(e+"Capture",t)}function qs(e,t){for(ni[e]=t,e=0;e<t.length;e++)uv.add(t[e])}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ou=Object.prototype.hasOwnProperty,W1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pp={},mp={};function K1(e){return Ou.call(mp,e)?!0:Ou.call(pp,e)?!1:W1.test(e)?mp[e]=!0:(pp[e]=!0,!1)}function G1(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function q1(e,t,n,r){if(t===null||typeof t>"u"||G1(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function xt(e,t,n,r,s,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var rt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){rt[e]=new xt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];rt[t]=new xt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){rt[e]=new xt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){rt[e]=new xt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){rt[e]=new xt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){rt[e]=new xt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){rt[e]=new xt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){rt[e]=new xt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){rt[e]=new xt(e,5,!1,e.toLowerCase(),null,!1,!1)});var mf=/[\-:]([a-z])/g;function gf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(mf,gf);rt[t]=new xt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(mf,gf);rt[t]=new xt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(mf,gf);rt[t]=new xt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){rt[e]=new xt(e,1,!1,e.toLowerCase(),null,!1,!1)});rt.xlinkHref=new xt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){rt[e]=new xt(e,1,!1,e.toLowerCase(),null,!0,!0)});function vf(e,t,n,r){var s=rt.hasOwnProperty(t)?rt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(q1(t,n,s,r)&&(n=null),r||s===null?K1(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Zn=V1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wi=Symbol.for("react.element"),js=Symbol.for("react.portal"),Cs=Symbol.for("react.fragment"),xf=Symbol.for("react.strict_mode"),Du=Symbol.for("react.profiler"),dv=Symbol.for("react.provider"),fv=Symbol.for("react.context"),yf=Symbol.for("react.forward_ref"),Mu=Symbol.for("react.suspense"),Lu=Symbol.for("react.suspense_list"),wf=Symbol.for("react.memo"),lr=Symbol.for("react.lazy"),hv=Symbol.for("react.offscreen"),gp=Symbol.iterator;function So(e){return e===null||typeof e!="object"?null:(e=gp&&e[gp]||e["@@iterator"],typeof e=="function"?e:null)}var Fe=Object.assign,Ic;function Oo(e){if(Ic===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ic=t&&t[1]||""}return`
`+Ic+e}var Oc=!1;function Dc(e,t){if(!e||Oc)return"";Oc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=r.stack.split(`
`),a=s.length-1,l=o.length-1;1<=a&&0<=l&&s[a]!==o[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==o[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==o[l]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{Oc=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Oo(e):""}function Y1(e){switch(e.tag){case 5:return Oo(e.type);case 16:return Oo("Lazy");case 13:return Oo("Suspense");case 19:return Oo("SuspenseList");case 0:case 2:case 15:return e=Dc(e.type,!1),e;case 11:return e=Dc(e.type.render,!1),e;case 1:return e=Dc(e.type,!0),e;default:return""}}function $u(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Cs:return"Fragment";case js:return"Portal";case Du:return"Profiler";case xf:return"StrictMode";case Mu:return"Suspense";case Lu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case fv:return(e.displayName||"Context")+".Consumer";case dv:return(e._context.displayName||"Context")+".Provider";case yf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case wf:return t=e.displayName||null,t!==null?t:$u(e.type)||"Memo";case lr:t=e._payload,e=e._init;try{return $u(e(t))}catch{}}return null}function J1(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $u(t);case 8:return t===xf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Cr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function pv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function X1(e){var t=pv(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ki(e){e._valueTracker||(e._valueTracker=X1(e))}function mv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=pv(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function za(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Fu(e,t){var n=t.checked;return Fe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function vp(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Cr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function gv(e,t){t=t.checked,t!=null&&vf(e,"checked",t,!1)}function zu(e,t){gv(e,t);var n=Cr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Uu(e,t.type,n):t.hasOwnProperty("defaultValue")&&Uu(e,t.type,Cr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function xp(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Uu(e,t,n){(t!=="number"||za(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Do=Array.isArray;function Ms(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Cr(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Bu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(W(91));return Fe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function yp(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(W(92));if(Do(n)){if(1<n.length)throw Error(W(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Cr(n)}}function vv(e,t){var n=Cr(t.value),r=Cr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function wp(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function xv(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Hu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?xv(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Gi,yv=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Gi=Gi||document.createElement("div"),Gi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Gi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ri(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Vo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Q1=["Webkit","ms","Moz","O"];Object.keys(Vo).forEach(function(e){Q1.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Vo[t]=Vo[e]})});function wv(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Vo.hasOwnProperty(e)&&Vo[e]?(""+t).trim():t+"px"}function Sv(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=wv(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Z1=Fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vu(e,t){if(t){if(Z1[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(W(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(W(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(W(61))}if(t.style!=null&&typeof t.style!="object")throw Error(W(62))}}function Wu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ku=null;function Sf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Gu=null,Ls=null,$s=null;function Sp(e){if(e=Ri(e)){if(typeof Gu!="function")throw Error(W(280));var t=e.stateNode;t&&(t=Dl(t),Gu(e.stateNode,e.type,t))}}function bv(e){Ls?$s?$s.push(e):$s=[e]:Ls=e}function jv(){if(Ls){var e=Ls,t=$s;if($s=Ls=null,Sp(e),t)for(e=0;e<t.length;e++)Sp(t[e])}}function Cv(e,t){return e(t)}function _v(){}var Mc=!1;function kv(e,t,n){if(Mc)return e(t,n);Mc=!0;try{return Cv(e,t,n)}finally{Mc=!1,(Ls!==null||$s!==null)&&(_v(),jv())}}function si(e,t){var n=e.stateNode;if(n===null)return null;var r=Dl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(W(231,t,typeof n));return n}var qu=!1;if(Gn)try{var bo={};Object.defineProperty(bo,"passive",{get:function(){qu=!0}}),window.addEventListener("test",bo,bo),window.removeEventListener("test",bo,bo)}catch{qu=!1}function eC(e,t,n,r,s,o,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Wo=!1,Ua=null,Ba=!1,Yu=null,tC={onError:function(e){Wo=!0,Ua=e}};function nC(e,t,n,r,s,o,a,l,c){Wo=!1,Ua=null,eC.apply(tC,arguments)}function rC(e,t,n,r,s,o,a,l,c){if(nC.apply(this,arguments),Wo){if(Wo){var u=Ua;Wo=!1,Ua=null}else throw Error(W(198));Ba||(Ba=!0,Yu=u)}}function as(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Nv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function bp(e){if(as(e)!==e)throw Error(W(188))}function sC(e){var t=e.alternate;if(!t){if(t=as(e),t===null)throw Error(W(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return bp(s),e;if(o===r)return bp(s),t;o=o.sibling}throw Error(W(188))}if(n.return!==r.return)n=s,r=o;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=o;break}if(l===r){a=!0,r=s,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=s;break}if(l===r){a=!0,r=o,n=s;break}l=l.sibling}if(!a)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?e:t}function Ev(e){return e=sC(e),e!==null?Rv(e):null}function Rv(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Rv(e);if(t!==null)return t;e=e.sibling}return null}var Tv=Ot.unstable_scheduleCallback,jp=Ot.unstable_cancelCallback,oC=Ot.unstable_shouldYield,iC=Ot.unstable_requestPaint,Ue=Ot.unstable_now,aC=Ot.unstable_getCurrentPriorityLevel,bf=Ot.unstable_ImmediatePriority,Pv=Ot.unstable_UserBlockingPriority,Ha=Ot.unstable_NormalPriority,lC=Ot.unstable_LowPriority,Av=Ot.unstable_IdlePriority,Pl=null,Nn=null;function cC(e){if(Nn&&typeof Nn.onCommitFiberRoot=="function")try{Nn.onCommitFiberRoot(Pl,e,void 0,(e.current.flags&128)===128)}catch{}}var on=Math.clz32?Math.clz32:fC,uC=Math.log,dC=Math.LN2;function fC(e){return e>>>=0,e===0?32:31-(uC(e)/dC|0)|0}var qi=64,Yi=4194304;function Mo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Va(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=Mo(l):(o&=a,o!==0&&(r=Mo(o)))}else a=n&~s,a!==0?r=Mo(a):o!==0&&(r=Mo(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-on(t),s=1<<n,r|=e[n],t&=~s;return r}function hC(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pC(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-on(o),l=1<<a,c=s[a];c===-1?(!(l&n)||l&r)&&(s[a]=hC(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}function Ju(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Iv(){var e=qi;return qi<<=1,!(qi&4194240)&&(qi=64),e}function Lc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ni(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-on(t),e[t]=n}function mC(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-on(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function jf(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-on(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Ce=0;function Ov(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Dv,Cf,Mv,Lv,$v,Xu=!1,Ji=[],mr=null,gr=null,vr=null,oi=new Map,ii=new Map,ur=[],gC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Cp(e,t){switch(e){case"focusin":case"focusout":mr=null;break;case"dragenter":case"dragleave":gr=null;break;case"mouseover":case"mouseout":vr=null;break;case"pointerover":case"pointerout":oi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ii.delete(t.pointerId)}}function jo(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=Ri(t),t!==null&&Cf(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function vC(e,t,n,r,s){switch(t){case"focusin":return mr=jo(mr,e,t,n,r,s),!0;case"dragenter":return gr=jo(gr,e,t,n,r,s),!0;case"mouseover":return vr=jo(vr,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return oi.set(o,jo(oi.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,ii.set(o,jo(ii.get(o)||null,e,t,n,r,s)),!0}return!1}function Fv(e){var t=Br(e.target);if(t!==null){var n=as(t);if(n!==null){if(t=n.tag,t===13){if(t=Nv(n),t!==null){e.blockedOn=t,$v(e.priority,function(){Mv(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ba(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ku=r,n.target.dispatchEvent(r),Ku=null}else return t=Ri(n),t!==null&&Cf(t),e.blockedOn=n,!1;t.shift()}return!0}function _p(e,t,n){ba(e)&&n.delete(t)}function xC(){Xu=!1,mr!==null&&ba(mr)&&(mr=null),gr!==null&&ba(gr)&&(gr=null),vr!==null&&ba(vr)&&(vr=null),oi.forEach(_p),ii.forEach(_p)}function Co(e,t){e.blockedOn===t&&(e.blockedOn=null,Xu||(Xu=!0,Ot.unstable_scheduleCallback(Ot.unstable_NormalPriority,xC)))}function ai(e){function t(s){return Co(s,e)}if(0<Ji.length){Co(Ji[0],e);for(var n=1;n<Ji.length;n++){var r=Ji[n];r.blockedOn===e&&(r.blockedOn=null)}}for(mr!==null&&Co(mr,e),gr!==null&&Co(gr,e),vr!==null&&Co(vr,e),oi.forEach(t),ii.forEach(t),n=0;n<ur.length;n++)r=ur[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ur.length&&(n=ur[0],n.blockedOn===null);)Fv(n),n.blockedOn===null&&ur.shift()}var Fs=Zn.ReactCurrentBatchConfig,Wa=!0;function yC(e,t,n,r){var s=Ce,o=Fs.transition;Fs.transition=null;try{Ce=1,_f(e,t,n,r)}finally{Ce=s,Fs.transition=o}}function wC(e,t,n,r){var s=Ce,o=Fs.transition;Fs.transition=null;try{Ce=4,_f(e,t,n,r)}finally{Ce=s,Fs.transition=o}}function _f(e,t,n,r){if(Wa){var s=Qu(e,t,n,r);if(s===null)Gc(e,t,r,Ka,n),Cp(e,r);else if(vC(s,e,t,n,r))r.stopPropagation();else if(Cp(e,r),t&4&&-1<gC.indexOf(e)){for(;s!==null;){var o=Ri(s);if(o!==null&&Dv(o),o=Qu(e,t,n,r),o===null&&Gc(e,t,r,Ka,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else Gc(e,t,r,null,n)}}var Ka=null;function Qu(e,t,n,r){if(Ka=null,e=Sf(r),e=Br(e),e!==null)if(t=as(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Nv(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ka=e,null}function zv(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(aC()){case bf:return 1;case Pv:return 4;case Ha:case lC:return 16;case Av:return 536870912;default:return 16}default:return 16}}var hr=null,kf=null,ja=null;function Uv(){if(ja)return ja;var e,t=kf,n=t.length,r,s="value"in hr?hr.value:hr.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===s[o-r];r++);return ja=s.slice(e,1<r?1-r:void 0)}function Ca(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Xi(){return!0}function kp(){return!1}function Lt(e){function t(n,r,s,o,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Xi:kp,this.isPropagationStopped=kp,this}return Fe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xi)},persist:function(){},isPersistent:Xi}),t}var ao={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nf=Lt(ao),Ei=Fe({},ao,{view:0,detail:0}),SC=Lt(Ei),$c,Fc,_o,Al=Fe({},Ei,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ef,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_o&&(_o&&e.type==="mousemove"?($c=e.screenX-_o.screenX,Fc=e.screenY-_o.screenY):Fc=$c=0,_o=e),$c)},movementY:function(e){return"movementY"in e?e.movementY:Fc}}),Np=Lt(Al),bC=Fe({},Al,{dataTransfer:0}),jC=Lt(bC),CC=Fe({},Ei,{relatedTarget:0}),zc=Lt(CC),_C=Fe({},ao,{animationName:0,elapsedTime:0,pseudoElement:0}),kC=Lt(_C),NC=Fe({},ao,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),EC=Lt(NC),RC=Fe({},ao,{data:0}),Ep=Lt(RC),TC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},PC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},AC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function IC(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=AC[e])?!!t[e]:!1}function Ef(){return IC}var OC=Fe({},Ei,{key:function(e){if(e.key){var t=TC[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ca(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?PC[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ef,charCode:function(e){return e.type==="keypress"?Ca(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ca(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),DC=Lt(OC),MC=Fe({},Al,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rp=Lt(MC),LC=Fe({},Ei,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ef}),$C=Lt(LC),FC=Fe({},ao,{propertyName:0,elapsedTime:0,pseudoElement:0}),zC=Lt(FC),UC=Fe({},Al,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),BC=Lt(UC),HC=[9,13,27,32],Rf=Gn&&"CompositionEvent"in window,Ko=null;Gn&&"documentMode"in document&&(Ko=document.documentMode);var VC=Gn&&"TextEvent"in window&&!Ko,Bv=Gn&&(!Rf||Ko&&8<Ko&&11>=Ko),Tp=" ",Pp=!1;function Hv(e,t){switch(e){case"keyup":return HC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _s=!1;function WC(e,t){switch(e){case"compositionend":return Vv(t);case"keypress":return t.which!==32?null:(Pp=!0,Tp);case"textInput":return e=t.data,e===Tp&&Pp?null:e;default:return null}}function KC(e,t){if(_s)return e==="compositionend"||!Rf&&Hv(e,t)?(e=Uv(),ja=kf=hr=null,_s=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bv&&t.locale!=="ko"?null:t.data;default:return null}}var GC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ap(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!GC[e.type]:t==="textarea"}function Wv(e,t,n,r){bv(r),t=Ga(t,"onChange"),0<t.length&&(n=new Nf("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Go=null,li=null;function qC(e){nx(e,0)}function Il(e){var t=Es(e);if(mv(t))return e}function YC(e,t){if(e==="change")return t}var Kv=!1;if(Gn){var Uc;if(Gn){var Bc="oninput"in document;if(!Bc){var Ip=document.createElement("div");Ip.setAttribute("oninput","return;"),Bc=typeof Ip.oninput=="function"}Uc=Bc}else Uc=!1;Kv=Uc&&(!document.documentMode||9<document.documentMode)}function Op(){Go&&(Go.detachEvent("onpropertychange",Gv),li=Go=null)}function Gv(e){if(e.propertyName==="value"&&Il(li)){var t=[];Wv(t,li,e,Sf(e)),kv(qC,t)}}function JC(e,t,n){e==="focusin"?(Op(),Go=t,li=n,Go.attachEvent("onpropertychange",Gv)):e==="focusout"&&Op()}function XC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Il(li)}function QC(e,t){if(e==="click")return Il(t)}function ZC(e,t){if(e==="input"||e==="change")return Il(t)}function e_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ln=typeof Object.is=="function"?Object.is:e_;function ci(e,t){if(ln(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Ou.call(t,s)||!ln(e[s],t[s]))return!1}return!0}function Dp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Mp(e,t){var n=Dp(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Dp(n)}}function qv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?qv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Yv(){for(var e=window,t=za();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=za(e.document)}return t}function Tf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function t_(e){var t=Yv(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&qv(n.ownerDocument.documentElement,n)){if(r!==null&&Tf(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=Mp(n,o);var a=Mp(n,r);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var n_=Gn&&"documentMode"in document&&11>=document.documentMode,ks=null,Zu=null,qo=null,ed=!1;function Lp(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ed||ks==null||ks!==za(r)||(r=ks,"selectionStart"in r&&Tf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),qo&&ci(qo,r)||(qo=r,r=Ga(Zu,"onSelect"),0<r.length&&(t=new Nf("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ks)))}function Qi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ns={animationend:Qi("Animation","AnimationEnd"),animationiteration:Qi("Animation","AnimationIteration"),animationstart:Qi("Animation","AnimationStart"),transitionend:Qi("Transition","TransitionEnd")},Hc={},Jv={};Gn&&(Jv=document.createElement("div").style,"AnimationEvent"in window||(delete Ns.animationend.animation,delete Ns.animationiteration.animation,delete Ns.animationstart.animation),"TransitionEvent"in window||delete Ns.transitionend.transition);function Ol(e){if(Hc[e])return Hc[e];if(!Ns[e])return e;var t=Ns[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Jv)return Hc[e]=t[n];return e}var Xv=Ol("animationend"),Qv=Ol("animationiteration"),Zv=Ol("animationstart"),ex=Ol("transitionend"),tx=new Map,$p="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Er(e,t){tx.set(e,t),is(t,[e])}for(var Vc=0;Vc<$p.length;Vc++){var Wc=$p[Vc],r_=Wc.toLowerCase(),s_=Wc[0].toUpperCase()+Wc.slice(1);Er(r_,"on"+s_)}Er(Xv,"onAnimationEnd");Er(Qv,"onAnimationIteration");Er(Zv,"onAnimationStart");Er("dblclick","onDoubleClick");Er("focusin","onFocus");Er("focusout","onBlur");Er(ex,"onTransitionEnd");qs("onMouseEnter",["mouseout","mouseover"]);qs("onMouseLeave",["mouseout","mouseover"]);qs("onPointerEnter",["pointerout","pointerover"]);qs("onPointerLeave",["pointerout","pointerover"]);is("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));is("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));is("onBeforeInput",["compositionend","keypress","textInput","paste"]);is("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));is("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));is("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),o_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lo));function Fp(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,rC(r,t,void 0,e),e.currentTarget=null}function nx(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&s.isPropagationStopped())break e;Fp(s,l,u),o=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&s.isPropagationStopped())break e;Fp(s,l,u),o=c}}}if(Ba)throw e=Yu,Ba=!1,Yu=null,e}function Pe(e,t){var n=t[od];n===void 0&&(n=t[od]=new Set);var r=e+"__bubble";n.has(r)||(rx(t,e,2,!1),n.add(r))}function Kc(e,t,n){var r=0;t&&(r|=4),rx(n,e,r,t)}var Zi="_reactListening"+Math.random().toString(36).slice(2);function ui(e){if(!e[Zi]){e[Zi]=!0,uv.forEach(function(n){n!=="selectionchange"&&(o_.has(n)||Kc(n,!1,e),Kc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Zi]||(t[Zi]=!0,Kc("selectionchange",!1,t))}}function rx(e,t,n,r){switch(zv(t)){case 1:var s=yC;break;case 4:s=wC;break;default:s=_f}n=s.bind(null,t,n,e),s=void 0,!qu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Gc(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=Br(l),a===null)return;if(c=a.tag,c===5||c===6){r=o=a;continue e}l=l.parentNode}}r=r.return}kv(function(){var u=o,d=Sf(n),f=[];e:{var p=tx.get(e);if(p!==void 0){var g=Nf,S=e;switch(e){case"keypress":if(Ca(n)===0)break e;case"keydown":case"keyup":g=DC;break;case"focusin":S="focus",g=zc;break;case"focusout":S="blur",g=zc;break;case"beforeblur":case"afterblur":g=zc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Np;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=jC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=$C;break;case Xv:case Qv:case Zv:g=kC;break;case ex:g=zC;break;case"scroll":g=SC;break;case"wheel":g=BC;break;case"copy":case"cut":case"paste":g=EC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Rp}var w=(t&4)!==0,j=!w&&e==="scroll",m=w?p!==null?p+"Capture":null:p;w=[];for(var v=u,x;v!==null;){x=v;var y=x.stateNode;if(x.tag===5&&y!==null&&(x=y,m!==null&&(y=si(v,m),y!=null&&w.push(di(v,y,x)))),j)break;v=v.return}0<w.length&&(p=new g(p,S,null,n,d),f.push({event:p,listeners:w}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",p&&n!==Ku&&(S=n.relatedTarget||n.fromElement)&&(Br(S)||S[qn]))break e;if((g||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,g?(S=n.relatedTarget||n.toElement,g=u,S=S?Br(S):null,S!==null&&(j=as(S),S!==j||S.tag!==5&&S.tag!==6)&&(S=null)):(g=null,S=u),g!==S)){if(w=Np,y="onMouseLeave",m="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(w=Rp,y="onPointerLeave",m="onPointerEnter",v="pointer"),j=g==null?p:Es(g),x=S==null?p:Es(S),p=new w(y,v+"leave",g,n,d),p.target=j,p.relatedTarget=x,y=null,Br(d)===u&&(w=new w(m,v+"enter",S,n,d),w.target=x,w.relatedTarget=j,y=w),j=y,g&&S)t:{for(w=g,m=S,v=0,x=w;x;x=fs(x))v++;for(x=0,y=m;y;y=fs(y))x++;for(;0<v-x;)w=fs(w),v--;for(;0<x-v;)m=fs(m),x--;for(;v--;){if(w===m||m!==null&&w===m.alternate)break t;w=fs(w),m=fs(m)}w=null}else w=null;g!==null&&zp(f,p,g,w,!1),S!==null&&j!==null&&zp(f,j,S,w,!0)}}e:{if(p=u?Es(u):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var k=YC;else if(Ap(p))if(Kv)k=ZC;else{k=XC;var _=JC}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(k=QC);if(k&&(k=k(e,u))){Wv(f,k,n,d);break e}_&&_(e,p,u),e==="focusout"&&(_=p._wrapperState)&&_.controlled&&p.type==="number"&&Uu(p,"number",p.value)}switch(_=u?Es(u):window,e){case"focusin":(Ap(_)||_.contentEditable==="true")&&(ks=_,Zu=u,qo=null);break;case"focusout":qo=Zu=ks=null;break;case"mousedown":ed=!0;break;case"contextmenu":case"mouseup":case"dragend":ed=!1,Lp(f,n,d);break;case"selectionchange":if(n_)break;case"keydown":case"keyup":Lp(f,n,d)}var b;if(Rf)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else _s?Hv(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(Bv&&n.locale!=="ko"&&(_s||C!=="onCompositionStart"?C==="onCompositionEnd"&&_s&&(b=Uv()):(hr=d,kf="value"in hr?hr.value:hr.textContent,_s=!0)),_=Ga(u,C),0<_.length&&(C=new Ep(C,e,null,n,d),f.push({event:C,listeners:_}),b?C.data=b:(b=Vv(n),b!==null&&(C.data=b)))),(b=VC?WC(e,n):KC(e,n))&&(u=Ga(u,"onBeforeInput"),0<u.length&&(d=new Ep("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=b))}nx(f,t)})}function di(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ga(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=si(e,n),o!=null&&r.unshift(di(e,o,s)),o=si(e,t),o!=null&&r.push(di(e,o,s))),e=e.return}return r}function fs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function zp(e,t,n,r,s){for(var o=t._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=si(n,o),c!=null&&a.unshift(di(n,c,l))):s||(c=si(n,o),c!=null&&a.push(di(n,c,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var i_=/\r\n?/g,a_=/\u0000|\uFFFD/g;function Up(e){return(typeof e=="string"?e:""+e).replace(i_,`
`).replace(a_,"")}function ea(e,t,n){if(t=Up(t),Up(e)!==t&&n)throw Error(W(425))}function qa(){}var td=null,nd=null;function rd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var sd=typeof setTimeout=="function"?setTimeout:void 0,l_=typeof clearTimeout=="function"?clearTimeout:void 0,Bp=typeof Promise=="function"?Promise:void 0,c_=typeof queueMicrotask=="function"?queueMicrotask:typeof Bp<"u"?function(e){return Bp.resolve(null).then(e).catch(u_)}:sd;function u_(e){setTimeout(function(){throw e})}function qc(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),ai(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ai(t)}function xr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Hp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var lo=Math.random().toString(36).slice(2),bn="__reactFiber$"+lo,fi="__reactProps$"+lo,qn="__reactContainer$"+lo,od="__reactEvents$"+lo,d_="__reactListeners$"+lo,f_="__reactHandles$"+lo;function Br(e){var t=e[bn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[qn]||n[bn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Hp(e);e!==null;){if(n=e[bn])return n;e=Hp(e)}return t}e=n,n=e.parentNode}return null}function Ri(e){return e=e[bn]||e[qn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Es(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(W(33))}function Dl(e){return e[fi]||null}var id=[],Rs=-1;function Rr(e){return{current:e}}function Ae(e){0>Rs||(e.current=id[Rs],id[Rs]=null,Rs--)}function Ee(e,t){Rs++,id[Rs]=e.current,e.current=t}var _r={},ct=Rr(_r),_t=Rr(!1),Jr=_r;function Ys(e,t){var n=e.type.contextTypes;if(!n)return _r;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function kt(e){return e=e.childContextTypes,e!=null}function Ya(){Ae(_t),Ae(ct)}function Vp(e,t,n){if(ct.current!==_r)throw Error(W(168));Ee(ct,t),Ee(_t,n)}function sx(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(W(108,J1(e)||"Unknown",s));return Fe({},n,r)}function Ja(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_r,Jr=ct.current,Ee(ct,e),Ee(_t,_t.current),!0}function Wp(e,t,n){var r=e.stateNode;if(!r)throw Error(W(169));n?(e=sx(e,t,Jr),r.__reactInternalMemoizedMergedChildContext=e,Ae(_t),Ae(ct),Ee(ct,e)):Ae(_t),Ee(_t,n)}var Un=null,Ml=!1,Yc=!1;function ox(e){Un===null?Un=[e]:Un.push(e)}function h_(e){Ml=!0,ox(e)}function Tr(){if(!Yc&&Un!==null){Yc=!0;var e=0,t=Ce;try{var n=Un;for(Ce=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Un=null,Ml=!1}catch(s){throw Un!==null&&(Un=Un.slice(e+1)),Tv(bf,Tr),s}finally{Ce=t,Yc=!1}}return null}var Ts=[],Ps=0,Xa=null,Qa=0,Ft=[],zt=0,Xr=null,Bn=1,Hn="";function $r(e,t){Ts[Ps++]=Qa,Ts[Ps++]=Xa,Xa=e,Qa=t}function ix(e,t,n){Ft[zt++]=Bn,Ft[zt++]=Hn,Ft[zt++]=Xr,Xr=e;var r=Bn;e=Hn;var s=32-on(r)-1;r&=~(1<<s),n+=1;var o=32-on(t)+s;if(30<o){var a=s-s%5;o=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Bn=1<<32-on(t)+s|n<<s|r,Hn=o+e}else Bn=1<<o|n<<s|r,Hn=e}function Pf(e){e.return!==null&&($r(e,1),ix(e,1,0))}function Af(e){for(;e===Xa;)Xa=Ts[--Ps],Ts[Ps]=null,Qa=Ts[--Ps],Ts[Ps]=null;for(;e===Xr;)Xr=Ft[--zt],Ft[zt]=null,Hn=Ft[--zt],Ft[zt]=null,Bn=Ft[--zt],Ft[zt]=null}var At=null,Pt=null,De=!1,rn=null;function ax(e,t){var n=Ut(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Kp(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,At=e,Pt=xr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,At=e,Pt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Xr!==null?{id:Bn,overflow:Hn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ut(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,At=e,Pt=null,!0):!1;default:return!1}}function ad(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ld(e){if(De){var t=Pt;if(t){var n=t;if(!Kp(e,t)){if(ad(e))throw Error(W(418));t=xr(n.nextSibling);var r=At;t&&Kp(e,t)?ax(r,n):(e.flags=e.flags&-4097|2,De=!1,At=e)}}else{if(ad(e))throw Error(W(418));e.flags=e.flags&-4097|2,De=!1,At=e}}}function Gp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;At=e}function ta(e){if(e!==At)return!1;if(!De)return Gp(e),De=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!rd(e.type,e.memoizedProps)),t&&(t=Pt)){if(ad(e))throw lx(),Error(W(418));for(;t;)ax(e,t),t=xr(t.nextSibling)}if(Gp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(W(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Pt=xr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Pt=null}}else Pt=At?xr(e.stateNode.nextSibling):null;return!0}function lx(){for(var e=Pt;e;)e=xr(e.nextSibling)}function Js(){Pt=At=null,De=!1}function If(e){rn===null?rn=[e]:rn.push(e)}var p_=Zn.ReactCurrentBatchConfig;function ko(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var l=s.refs;a===null?delete l[o]:l[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,e))}return e}function na(e,t){throw e=Object.prototype.toString.call(t),Error(W(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function qp(e){var t=e._init;return t(e._payload)}function cx(e){function t(m,v){if(e){var x=m.deletions;x===null?(m.deletions=[v],m.flags|=16):x.push(v)}}function n(m,v){if(!e)return null;for(;v!==null;)t(m,v),v=v.sibling;return null}function r(m,v){for(m=new Map;v!==null;)v.key!==null?m.set(v.key,v):m.set(v.index,v),v=v.sibling;return m}function s(m,v){return m=br(m,v),m.index=0,m.sibling=null,m}function o(m,v,x){return m.index=x,e?(x=m.alternate,x!==null?(x=x.index,x<v?(m.flags|=2,v):x):(m.flags|=2,v)):(m.flags|=1048576,v)}function a(m){return e&&m.alternate===null&&(m.flags|=2),m}function l(m,v,x,y){return v===null||v.tag!==6?(v=nu(x,m.mode,y),v.return=m,v):(v=s(v,x),v.return=m,v)}function c(m,v,x,y){var k=x.type;return k===Cs?d(m,v,x.props.children,y,x.key):v!==null&&(v.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===lr&&qp(k)===v.type)?(y=s(v,x.props),y.ref=ko(m,v,x),y.return=m,y):(y=Pa(x.type,x.key,x.props,null,m.mode,y),y.ref=ko(m,v,x),y.return=m,y)}function u(m,v,x,y){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=ru(x,m.mode,y),v.return=m,v):(v=s(v,x.children||[]),v.return=m,v)}function d(m,v,x,y,k){return v===null||v.tag!==7?(v=Gr(x,m.mode,y,k),v.return=m,v):(v=s(v,x),v.return=m,v)}function f(m,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=nu(""+v,m.mode,x),v.return=m,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Wi:return x=Pa(v.type,v.key,v.props,null,m.mode,x),x.ref=ko(m,null,v),x.return=m,x;case js:return v=ru(v,m.mode,x),v.return=m,v;case lr:var y=v._init;return f(m,y(v._payload),x)}if(Do(v)||So(v))return v=Gr(v,m.mode,x,null),v.return=m,v;na(m,v)}return null}function p(m,v,x,y){var k=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return k!==null?null:l(m,v,""+x,y);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Wi:return x.key===k?c(m,v,x,y):null;case js:return x.key===k?u(m,v,x,y):null;case lr:return k=x._init,p(m,v,k(x._payload),y)}if(Do(x)||So(x))return k!==null?null:d(m,v,x,y,null);na(m,x)}return null}function g(m,v,x,y,k){if(typeof y=="string"&&y!==""||typeof y=="number")return m=m.get(x)||null,l(v,m,""+y,k);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Wi:return m=m.get(y.key===null?x:y.key)||null,c(v,m,y,k);case js:return m=m.get(y.key===null?x:y.key)||null,u(v,m,y,k);case lr:var _=y._init;return g(m,v,x,_(y._payload),k)}if(Do(y)||So(y))return m=m.get(x)||null,d(v,m,y,k,null);na(v,y)}return null}function S(m,v,x,y){for(var k=null,_=null,b=v,C=v=0,N=null;b!==null&&C<x.length;C++){b.index>C?(N=b,b=null):N=b.sibling;var R=p(m,b,x[C],y);if(R===null){b===null&&(b=N);break}e&&b&&R.alternate===null&&t(m,b),v=o(R,v,C),_===null?k=R:_.sibling=R,_=R,b=N}if(C===x.length)return n(m,b),De&&$r(m,C),k;if(b===null){for(;C<x.length;C++)b=f(m,x[C],y),b!==null&&(v=o(b,v,C),_===null?k=b:_.sibling=b,_=b);return De&&$r(m,C),k}for(b=r(m,b);C<x.length;C++)N=g(b,m,C,x[C],y),N!==null&&(e&&N.alternate!==null&&b.delete(N.key===null?C:N.key),v=o(N,v,C),_===null?k=N:_.sibling=N,_=N);return e&&b.forEach(function(P){return t(m,P)}),De&&$r(m,C),k}function w(m,v,x,y){var k=So(x);if(typeof k!="function")throw Error(W(150));if(x=k.call(x),x==null)throw Error(W(151));for(var _=k=null,b=v,C=v=0,N=null,R=x.next();b!==null&&!R.done;C++,R=x.next()){b.index>C?(N=b,b=null):N=b.sibling;var P=p(m,b,R.value,y);if(P===null){b===null&&(b=N);break}e&&b&&P.alternate===null&&t(m,b),v=o(P,v,C),_===null?k=P:_.sibling=P,_=P,b=N}if(R.done)return n(m,b),De&&$r(m,C),k;if(b===null){for(;!R.done;C++,R=x.next())R=f(m,R.value,y),R!==null&&(v=o(R,v,C),_===null?k=R:_.sibling=R,_=R);return De&&$r(m,C),k}for(b=r(m,b);!R.done;C++,R=x.next())R=g(b,m,C,R.value,y),R!==null&&(e&&R.alternate!==null&&b.delete(R.key===null?C:R.key),v=o(R,v,C),_===null?k=R:_.sibling=R,_=R);return e&&b.forEach(function(T){return t(m,T)}),De&&$r(m,C),k}function j(m,v,x,y){if(typeof x=="object"&&x!==null&&x.type===Cs&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Wi:e:{for(var k=x.key,_=v;_!==null;){if(_.key===k){if(k=x.type,k===Cs){if(_.tag===7){n(m,_.sibling),v=s(_,x.props.children),v.return=m,m=v;break e}}else if(_.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===lr&&qp(k)===_.type){n(m,_.sibling),v=s(_,x.props),v.ref=ko(m,_,x),v.return=m,m=v;break e}n(m,_);break}else t(m,_);_=_.sibling}x.type===Cs?(v=Gr(x.props.children,m.mode,y,x.key),v.return=m,m=v):(y=Pa(x.type,x.key,x.props,null,m.mode,y),y.ref=ko(m,v,x),y.return=m,m=y)}return a(m);case js:e:{for(_=x.key;v!==null;){if(v.key===_)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){n(m,v.sibling),v=s(v,x.children||[]),v.return=m,m=v;break e}else{n(m,v);break}else t(m,v);v=v.sibling}v=ru(x,m.mode,y),v.return=m,m=v}return a(m);case lr:return _=x._init,j(m,v,_(x._payload),y)}if(Do(x))return S(m,v,x,y);if(So(x))return w(m,v,x,y);na(m,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(n(m,v.sibling),v=s(v,x),v.return=m,m=v):(n(m,v),v=nu(x,m.mode,y),v.return=m,m=v),a(m)):n(m,v)}return j}var Xs=cx(!0),ux=cx(!1),Za=Rr(null),el=null,As=null,Of=null;function Df(){Of=As=el=null}function Mf(e){var t=Za.current;Ae(Za),e._currentValue=t}function cd(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function zs(e,t){el=e,Of=As=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ct=!0),e.firstContext=null)}function Kt(e){var t=e._currentValue;if(Of!==e)if(e={context:e,memoizedValue:t,next:null},As===null){if(el===null)throw Error(W(308));As=e,el.dependencies={lanes:0,firstContext:e}}else As=As.next=e;return t}var Hr=null;function Lf(e){Hr===null?Hr=[e]:Hr.push(e)}function dx(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Lf(t)):(n.next=s.next,s.next=n),t.interleaved=n,Yn(e,r)}function Yn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var cr=!1;function $f(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fx(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Kn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function yr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,je&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Yn(e,n)}return s=r.interleaved,s===null?(t.next=t,Lf(r)):(t.next=s.next,s.next=t),r.interleaved=t,Yn(e,n)}function _a(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,jf(e,n)}}function Yp(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function tl(e,t,n,r){var s=e.updateQueue;cr=!1;var o=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?o=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(o!==null){var f=s.baseState;a=0,d=u=c=null,l=o;do{var p=l.lane,g=l.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var S=e,w=l;switch(p=t,g=n,w.tag){case 1:if(S=w.payload,typeof S=="function"){f=S.call(g,f,p);break e}f=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=w.payload,p=typeof S=="function"?S.call(g,f,p):S,p==null)break e;f=Fe({},f,p);break e;case 2:cr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else g={eventTime:g,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=g,c=f):d=d.next=g,a|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);Zr|=a,e.lanes=a,e.memoizedState=f}}function Jp(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(W(191,s));s.call(r)}}}var Ti={},En=Rr(Ti),hi=Rr(Ti),pi=Rr(Ti);function Vr(e){if(e===Ti)throw Error(W(174));return e}function Ff(e,t){switch(Ee(pi,t),Ee(hi,e),Ee(En,Ti),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Hu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Hu(t,e)}Ae(En),Ee(En,t)}function Qs(){Ae(En),Ae(hi),Ae(pi)}function hx(e){Vr(pi.current);var t=Vr(En.current),n=Hu(t,e.type);t!==n&&(Ee(hi,e),Ee(En,n))}function zf(e){hi.current===e&&(Ae(En),Ae(hi))}var Le=Rr(0);function nl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Jc=[];function Uf(){for(var e=0;e<Jc.length;e++)Jc[e]._workInProgressVersionPrimary=null;Jc.length=0}var ka=Zn.ReactCurrentDispatcher,Xc=Zn.ReactCurrentBatchConfig,Qr=0,$e=null,Ke=null,Xe=null,rl=!1,Yo=!1,mi=0,m_=0;function ot(){throw Error(W(321))}function Bf(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ln(e[n],t[n]))return!1;return!0}function Hf(e,t,n,r,s,o){if(Qr=o,$e=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ka.current=e===null||e.memoizedState===null?y_:w_,e=n(r,s),Yo){o=0;do{if(Yo=!1,mi=0,25<=o)throw Error(W(301));o+=1,Xe=Ke=null,t.updateQueue=null,ka.current=S_,e=n(r,s)}while(Yo)}if(ka.current=sl,t=Ke!==null&&Ke.next!==null,Qr=0,Xe=Ke=$e=null,rl=!1,t)throw Error(W(300));return e}function Vf(){var e=mi!==0;return mi=0,e}function Sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?$e.memoizedState=Xe=e:Xe=Xe.next=e,Xe}function Gt(){if(Ke===null){var e=$e.alternate;e=e!==null?e.memoizedState:null}else e=Ke.next;var t=Xe===null?$e.memoizedState:Xe.next;if(t!==null)Xe=t,Ke=e;else{if(e===null)throw Error(W(310));Ke=e,e={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},Xe===null?$e.memoizedState=Xe=e:Xe=Xe.next=e}return Xe}function gi(e,t){return typeof t=="function"?t(e):t}function Qc(e){var t=Gt(),n=t.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=e;var r=Ke,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var a=s.next;s.next=o.next,o.next=a}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var l=a=null,c=null,u=o;do{var d=u.lane;if((Qr&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,a=r):c=c.next=f,$e.lanes|=d,Zr|=d}u=u.next}while(u!==null&&u!==o);c===null?a=r:c.next=l,ln(r,t.memoizedState)||(Ct=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,$e.lanes|=o,Zr|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Zc(e){var t=Gt(),n=t.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do o=e(o,a.action),a=a.next;while(a!==s);ln(o,t.memoizedState)||(Ct=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function px(){}function mx(e,t){var n=$e,r=Gt(),s=t(),o=!ln(r.memoizedState,s);if(o&&(r.memoizedState=s,Ct=!0),r=r.queue,Wf(xx.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Xe!==null&&Xe.memoizedState.tag&1){if(n.flags|=2048,vi(9,vx.bind(null,n,r,s,t),void 0,null),Qe===null)throw Error(W(349));Qr&30||gx(n,t,s)}return s}function gx(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=$e.updateQueue,t===null?(t={lastEffect:null,stores:null},$e.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function vx(e,t,n,r){t.value=n,t.getSnapshot=r,yx(t)&&wx(e)}function xx(e,t,n){return n(function(){yx(t)&&wx(e)})}function yx(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ln(e,n)}catch{return!0}}function wx(e){var t=Yn(e,1);t!==null&&an(t,e,1,-1)}function Xp(e){var t=Sn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:e},t.queue=e,e=e.dispatch=x_.bind(null,$e,e),[t.memoizedState,e]}function vi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=$e.updateQueue,t===null?(t={lastEffect:null,stores:null},$e.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Sx(){return Gt().memoizedState}function Na(e,t,n,r){var s=Sn();$e.flags|=e,s.memoizedState=vi(1|t,n,void 0,r===void 0?null:r)}function Ll(e,t,n,r){var s=Gt();r=r===void 0?null:r;var o=void 0;if(Ke!==null){var a=Ke.memoizedState;if(o=a.destroy,r!==null&&Bf(r,a.deps)){s.memoizedState=vi(t,n,o,r);return}}$e.flags|=e,s.memoizedState=vi(1|t,n,o,r)}function Qp(e,t){return Na(8390656,8,e,t)}function Wf(e,t){return Ll(2048,8,e,t)}function bx(e,t){return Ll(4,2,e,t)}function jx(e,t){return Ll(4,4,e,t)}function Cx(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function _x(e,t,n){return n=n!=null?n.concat([e]):null,Ll(4,4,Cx.bind(null,t,e),n)}function Kf(){}function kx(e,t){var n=Gt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Bf(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Nx(e,t){var n=Gt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Bf(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ex(e,t,n){return Qr&21?(ln(n,t)||(n=Iv(),$e.lanes|=n,Zr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ct=!0),e.memoizedState=n)}function g_(e,t){var n=Ce;Ce=n!==0&&4>n?n:4,e(!0);var r=Xc.transition;Xc.transition={};try{e(!1),t()}finally{Ce=n,Xc.transition=r}}function Rx(){return Gt().memoizedState}function v_(e,t,n){var r=Sr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Tx(e))Px(t,n);else if(n=dx(e,t,n,r),n!==null){var s=gt();an(n,e,r,s),Ax(n,t,r)}}function x_(e,t,n){var r=Sr(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Tx(e))Px(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,l=o(a,n);if(s.hasEagerState=!0,s.eagerState=l,ln(l,a)){var c=t.interleaved;c===null?(s.next=s,Lf(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=dx(e,t,s,r),n!==null&&(s=gt(),an(n,e,r,s),Ax(n,t,r))}}function Tx(e){var t=e.alternate;return e===$e||t!==null&&t===$e}function Px(e,t){Yo=rl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ax(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,jf(e,n)}}var sl={readContext:Kt,useCallback:ot,useContext:ot,useEffect:ot,useImperativeHandle:ot,useInsertionEffect:ot,useLayoutEffect:ot,useMemo:ot,useReducer:ot,useRef:ot,useState:ot,useDebugValue:ot,useDeferredValue:ot,useTransition:ot,useMutableSource:ot,useSyncExternalStore:ot,useId:ot,unstable_isNewReconciler:!1},y_={readContext:Kt,useCallback:function(e,t){return Sn().memoizedState=[e,t===void 0?null:t],e},useContext:Kt,useEffect:Qp,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Na(4194308,4,Cx.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Na(4194308,4,e,t)},useInsertionEffect:function(e,t){return Na(4,2,e,t)},useMemo:function(e,t){var n=Sn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Sn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=v_.bind(null,$e,e),[r.memoizedState,e]},useRef:function(e){var t=Sn();return e={current:e},t.memoizedState=e},useState:Xp,useDebugValue:Kf,useDeferredValue:function(e){return Sn().memoizedState=e},useTransition:function(){var e=Xp(!1),t=e[0];return e=g_.bind(null,e[1]),Sn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=$e,s=Sn();if(De){if(n===void 0)throw Error(W(407));n=n()}else{if(n=t(),Qe===null)throw Error(W(349));Qr&30||gx(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,Qp(xx.bind(null,r,o,e),[e]),r.flags|=2048,vi(9,vx.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Sn(),t=Qe.identifierPrefix;if(De){var n=Hn,r=Bn;n=(r&~(1<<32-on(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=mi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=m_++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},w_={readContext:Kt,useCallback:kx,useContext:Kt,useEffect:Wf,useImperativeHandle:_x,useInsertionEffect:bx,useLayoutEffect:jx,useMemo:Nx,useReducer:Qc,useRef:Sx,useState:function(){return Qc(gi)},useDebugValue:Kf,useDeferredValue:function(e){var t=Gt();return Ex(t,Ke.memoizedState,e)},useTransition:function(){var e=Qc(gi)[0],t=Gt().memoizedState;return[e,t]},useMutableSource:px,useSyncExternalStore:mx,useId:Rx,unstable_isNewReconciler:!1},S_={readContext:Kt,useCallback:kx,useContext:Kt,useEffect:Wf,useImperativeHandle:_x,useInsertionEffect:bx,useLayoutEffect:jx,useMemo:Nx,useReducer:Zc,useRef:Sx,useState:function(){return Zc(gi)},useDebugValue:Kf,useDeferredValue:function(e){var t=Gt();return Ke===null?t.memoizedState=e:Ex(t,Ke.memoizedState,e)},useTransition:function(){var e=Zc(gi)[0],t=Gt().memoizedState;return[e,t]},useMutableSource:px,useSyncExternalStore:mx,useId:Rx,unstable_isNewReconciler:!1};function Zt(e,t){if(e&&e.defaultProps){t=Fe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ud(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Fe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var $l={isMounted:function(e){return(e=e._reactInternals)?as(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=gt(),s=Sr(e),o=Kn(r,s);o.payload=t,n!=null&&(o.callback=n),t=yr(e,o,s),t!==null&&(an(t,e,s,r),_a(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=gt(),s=Sr(e),o=Kn(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=yr(e,o,s),t!==null&&(an(t,e,s,r),_a(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=gt(),r=Sr(e),s=Kn(n,r);s.tag=2,t!=null&&(s.callback=t),t=yr(e,s,r),t!==null&&(an(t,e,r,n),_a(t,e,r))}};function Zp(e,t,n,r,s,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,a):t.prototype&&t.prototype.isPureReactComponent?!ci(n,r)||!ci(s,o):!0}function Ix(e,t,n){var r=!1,s=_r,o=t.contextType;return typeof o=="object"&&o!==null?o=Kt(o):(s=kt(t)?Jr:ct.current,r=t.contextTypes,o=(r=r!=null)?Ys(e,s):_r),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=$l,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function em(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&$l.enqueueReplaceState(t,t.state,null)}function dd(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},$f(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=Kt(o):(o=kt(t)?Jr:ct.current,s.context=Ys(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(ud(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&$l.enqueueReplaceState(s,s.state,null),tl(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Zs(e,t){try{var n="",r=t;do n+=Y1(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function eu(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function fd(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var b_=typeof WeakMap=="function"?WeakMap:Map;function Ox(e,t,n){n=Kn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){il||(il=!0,bd=r),fd(e,t)},n}function Dx(e,t,n){n=Kn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){fd(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){fd(e,t),typeof r!="function"&&(wr===null?wr=new Set([this]):wr.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function tm(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new b_;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=M_.bind(null,e,t,n),t.then(e,e))}function nm(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function rm(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Kn(-1,1),t.tag=2,yr(n,t,1))),n.lanes|=1),e)}var j_=Zn.ReactCurrentOwner,Ct=!1;function pt(e,t,n,r){t.child=e===null?ux(t,null,n,r):Xs(t,e.child,n,r)}function sm(e,t,n,r,s){n=n.render;var o=t.ref;return zs(t,s),r=Hf(e,t,n,r,o,s),n=Vf(),e!==null&&!Ct?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Jn(e,t,s)):(De&&n&&Pf(t),t.flags|=1,pt(e,t,r,s),t.child)}function om(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!eh(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Mx(e,t,o,r,s)):(e=Pa(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:ci,n(a,r)&&e.ref===t.ref)return Jn(e,t,s)}return t.flags|=1,e=br(o,r),e.ref=t.ref,e.return=t,t.child=e}function Mx(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(ci(o,r)&&e.ref===t.ref)if(Ct=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&(Ct=!0);else return t.lanes=e.lanes,Jn(e,t,s)}return hd(e,t,n,r,s)}function Lx(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ee(Os,Rt),Rt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ee(Os,Rt),Rt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ee(Os,Rt),Rt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ee(Os,Rt),Rt|=r;return pt(e,t,s,n),t.child}function $x(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function hd(e,t,n,r,s){var o=kt(n)?Jr:ct.current;return o=Ys(t,o),zs(t,s),n=Hf(e,t,n,r,o,s),r=Vf(),e!==null&&!Ct?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Jn(e,t,s)):(De&&r&&Pf(t),t.flags|=1,pt(e,t,n,s),t.child)}function im(e,t,n,r,s){if(kt(n)){var o=!0;Ja(t)}else o=!1;if(zs(t,s),t.stateNode===null)Ea(e,t),Ix(t,n,r),dd(t,n,r,s),r=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Kt(u):(u=kt(n)?Jr:ct.current,u=Ys(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==u)&&em(t,a,r,u),cr=!1;var p=t.memoizedState;a.state=p,tl(t,r,a,s),c=t.memoizedState,l!==r||p!==c||_t.current||cr?(typeof d=="function"&&(ud(t,n,d,r),c=t.memoizedState),(l=cr||Zp(t,n,l,r,p,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=u,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,fx(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Zt(t.type,l),a.props=u,f=t.pendingProps,p=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Kt(c):(c=kt(n)?Jr:ct.current,c=Ys(t,c));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||p!==c)&&em(t,a,r,c),cr=!1,p=t.memoizedState,a.state=p,tl(t,r,a,s);var S=t.memoizedState;l!==f||p!==S||_t.current||cr?(typeof g=="function"&&(ud(t,n,g,r),S=t.memoizedState),(u=cr||Zp(t,n,u,r,p,S,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,S,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,S,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=S),a.props=r,a.state=S,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return pd(e,t,n,r,o,s)}function pd(e,t,n,r,s,o){$x(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return s&&Wp(t,n,!1),Jn(e,t,o);r=t.stateNode,j_.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Xs(t,e.child,null,o),t.child=Xs(t,null,l,o)):pt(e,t,l,o),t.memoizedState=r.state,s&&Wp(t,n,!0),t.child}function Fx(e){var t=e.stateNode;t.pendingContext?Vp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Vp(e,t.context,!1),Ff(e,t.containerInfo)}function am(e,t,n,r,s){return Js(),If(s),t.flags|=256,pt(e,t,n,r),t.child}var md={dehydrated:null,treeContext:null,retryLane:0};function gd(e){return{baseLanes:e,cachePool:null,transitions:null}}function zx(e,t,n){var r=t.pendingProps,s=Le.current,o=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Ee(Le,s&1),e===null)return ld(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,o?(r=t.mode,o=t.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Ul(a,r,0,null),e=Gr(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=gd(n),t.memoizedState=md,e):Gf(t,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return C_(e,t,a,r,l,s,n);if(o){o=r.fallback,a=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=br(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?o=br(l,o):(o=Gr(o,a,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,a=e.child.memoizedState,a=a===null?gd(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=md,r}return o=e.child,e=o.sibling,r=br(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Gf(e,t){return t=Ul({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ra(e,t,n,r){return r!==null&&If(r),Xs(t,e.child,null,n),e=Gf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function C_(e,t,n,r,s,o,a){if(n)return t.flags&256?(t.flags&=-257,r=eu(Error(W(422))),ra(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=Ul({mode:"visible",children:r.children},s,0,null),o=Gr(o,s,a,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Xs(t,e.child,null,a),t.child.memoizedState=gd(a),t.memoizedState=md,o);if(!(t.mode&1))return ra(e,t,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(W(419)),r=eu(o,r,void 0),ra(e,t,a,r)}if(l=(a&e.childLanes)!==0,Ct||l){if(r=Qe,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Yn(e,s),an(r,e,s,-1))}return Zf(),r=eu(Error(W(421))),ra(e,t,a,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=L_.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,Pt=xr(s.nextSibling),At=t,De=!0,rn=null,e!==null&&(Ft[zt++]=Bn,Ft[zt++]=Hn,Ft[zt++]=Xr,Bn=e.id,Hn=e.overflow,Xr=t),t=Gf(t,r.children),t.flags|=4096,t)}function lm(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),cd(e.return,t,n)}function tu(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function Ux(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(pt(e,t,r.children,n),r=Le.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&lm(e,n,t);else if(e.tag===19)lm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ee(Le,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&nl(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),tu(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&nl(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}tu(t,!0,n,null,o);break;case"together":tu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ea(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Jn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Zr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(W(153));if(t.child!==null){for(e=t.child,n=br(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=br(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function __(e,t,n){switch(t.tag){case 3:Fx(t),Js();break;case 5:hx(t);break;case 1:kt(t.type)&&Ja(t);break;case 4:Ff(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Ee(Za,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ee(Le,Le.current&1),t.flags|=128,null):n&t.child.childLanes?zx(e,t,n):(Ee(Le,Le.current&1),e=Jn(e,t,n),e!==null?e.sibling:null);Ee(Le,Le.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Ux(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ee(Le,Le.current),r)break;return null;case 22:case 23:return t.lanes=0,Lx(e,t,n)}return Jn(e,t,n)}var Bx,vd,Hx,Vx;Bx=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};vd=function(){};Hx=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Vr(En.current);var o=null;switch(n){case"input":s=Fu(e,s),r=Fu(e,r),o=[];break;case"select":s=Fe({},s,{value:void 0}),r=Fe({},r,{value:void 0}),o=[];break;case"textarea":s=Bu(e,s),r=Bu(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=qa)}Vu(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ni.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ni.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Pe("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};Vx=function(e,t,n,r){n!==r&&(t.flags|=4)};function No(e,t){if(!De)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function it(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function k_(e,t,n){var r=t.pendingProps;switch(Af(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(t),null;case 1:return kt(t.type)&&Ya(),it(t),null;case 3:return r=t.stateNode,Qs(),Ae(_t),Ae(ct),Uf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ta(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,rn!==null&&(_d(rn),rn=null))),vd(e,t),it(t),null;case 5:zf(t);var s=Vr(pi.current);if(n=t.type,e!==null&&t.stateNode!=null)Hx(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(W(166));return it(t),null}if(e=Vr(En.current),ta(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[bn]=t,r[fi]=o,e=(t.mode&1)!==0,n){case"dialog":Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":case"embed":Pe("load",r);break;case"video":case"audio":for(s=0;s<Lo.length;s++)Pe(Lo[s],r);break;case"source":Pe("error",r);break;case"img":case"image":case"link":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"input":vp(r,o),Pe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Pe("invalid",r);break;case"textarea":yp(r,o),Pe("invalid",r)}Vu(n,o),s=null;for(var a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&ea(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&ea(r.textContent,l,e),s=["children",""+l]):ni.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Pe("scroll",r)}switch(n){case"input":Ki(r),xp(r,o,!0);break;case"textarea":Ki(r),wp(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=qa)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=xv(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[bn]=t,e[fi]=r,Bx(e,t,!1,!1),t.stateNode=e;e:{switch(a=Wu(n,r),n){case"dialog":Pe("cancel",e),Pe("close",e),s=r;break;case"iframe":case"object":case"embed":Pe("load",e),s=r;break;case"video":case"audio":for(s=0;s<Lo.length;s++)Pe(Lo[s],e);s=r;break;case"source":Pe("error",e),s=r;break;case"img":case"image":case"link":Pe("error",e),Pe("load",e),s=r;break;case"details":Pe("toggle",e),s=r;break;case"input":vp(e,r),s=Fu(e,r),Pe("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Fe({},r,{value:void 0}),Pe("invalid",e);break;case"textarea":yp(e,r),s=Bu(e,r),Pe("invalid",e);break;default:s=r}Vu(n,s),l=s;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?Sv(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&yv(e,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&ri(e,c):typeof c=="number"&&ri(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ni.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Pe("scroll",e):c!=null&&vf(e,o,c,a))}switch(n){case"input":Ki(e),xp(e,r,!1);break;case"textarea":Ki(e),wp(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Cr(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Ms(e,!!r.multiple,o,!1):r.defaultValue!=null&&Ms(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=qa)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return it(t),null;case 6:if(e&&t.stateNode!=null)Vx(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(W(166));if(n=Vr(pi.current),Vr(En.current),ta(t)){if(r=t.stateNode,n=t.memoizedProps,r[bn]=t,(o=r.nodeValue!==n)&&(e=At,e!==null))switch(e.tag){case 3:ea(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ea(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[bn]=t,t.stateNode=r}return it(t),null;case 13:if(Ae(Le),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(De&&Pt!==null&&t.mode&1&&!(t.flags&128))lx(),Js(),t.flags|=98560,o=!1;else if(o=ta(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(W(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(W(317));o[bn]=t}else Js(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;it(t),o=!1}else rn!==null&&(_d(rn),rn=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Le.current&1?Ge===0&&(Ge=3):Zf())),t.updateQueue!==null&&(t.flags|=4),it(t),null);case 4:return Qs(),vd(e,t),e===null&&ui(t.stateNode.containerInfo),it(t),null;case 10:return Mf(t.type._context),it(t),null;case 17:return kt(t.type)&&Ya(),it(t),null;case 19:if(Ae(Le),o=t.memoizedState,o===null)return it(t),null;if(r=(t.flags&128)!==0,a=o.rendering,a===null)if(r)No(o,!1);else{if(Ge!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=nl(e),a!==null){for(t.flags|=128,No(o,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ee(Le,Le.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ue()>eo&&(t.flags|=128,r=!0,No(o,!1),t.lanes=4194304)}else{if(!r)if(e=nl(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),No(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!De)return it(t),null}else 2*Ue()-o.renderingStartTime>eo&&n!==1073741824&&(t.flags|=128,r=!0,No(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(n=o.last,n!==null?n.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ue(),t.sibling=null,n=Le.current,Ee(Le,r?n&1|2:n&1),t):(it(t),null);case 22:case 23:return Qf(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Rt&1073741824&&(it(t),t.subtreeFlags&6&&(t.flags|=8192)):it(t),null;case 24:return null;case 25:return null}throw Error(W(156,t.tag))}function N_(e,t){switch(Af(t),t.tag){case 1:return kt(t.type)&&Ya(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Qs(),Ae(_t),Ae(ct),Uf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return zf(t),null;case 13:if(Ae(Le),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(W(340));Js()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ae(Le),null;case 4:return Qs(),null;case 10:return Mf(t.type._context),null;case 22:case 23:return Qf(),null;case 24:return null;default:return null}}var sa=!1,lt=!1,E_=typeof WeakSet=="function"?WeakSet:Set,re=null;function Is(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ze(e,t,r)}else n.current=null}function xd(e,t,n){try{n()}catch(r){ze(e,t,r)}}var cm=!1;function R_(e,t){if(td=Wa,e=Yv(),Tf(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,f=e,p=null;t:for(;;){for(var g;f!==n||s!==0&&f.nodeType!==3||(l=a+s),f!==o||r!==0&&f.nodeType!==3||(c=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(g=f.firstChild)!==null;)p=f,f=g;for(;;){if(f===e)break t;if(p===n&&++u===s&&(l=a),p===o&&++d===r&&(c=a),(g=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=g}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nd={focusedElem:e,selectionRange:n},Wa=!1,re=t;re!==null;)if(t=re,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,re=e;else for(;re!==null;){t=re;try{var S=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var w=S.memoizedProps,j=S.memoizedState,m=t.stateNode,v=m.getSnapshotBeforeUpdate(t.elementType===t.type?w:Zt(t.type,w),j);m.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(y){ze(t,t.return,y)}if(e=t.sibling,e!==null){e.return=t.return,re=e;break}re=t.return}return S=cm,cm=!1,S}function Jo(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&xd(t,n,o)}s=s.next}while(s!==r)}}function Fl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function yd(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Wx(e){var t=e.alternate;t!==null&&(e.alternate=null,Wx(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[bn],delete t[fi],delete t[od],delete t[d_],delete t[f_])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Kx(e){return e.tag===5||e.tag===3||e.tag===4}function um(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Kx(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function wd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=qa));else if(r!==4&&(e=e.child,e!==null))for(wd(e,t,n),e=e.sibling;e!==null;)wd(e,t,n),e=e.sibling}function Sd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Sd(e,t,n),e=e.sibling;e!==null;)Sd(e,t,n),e=e.sibling}var et=null,tn=!1;function nr(e,t,n){for(n=n.child;n!==null;)Gx(e,t,n),n=n.sibling}function Gx(e,t,n){if(Nn&&typeof Nn.onCommitFiberUnmount=="function")try{Nn.onCommitFiberUnmount(Pl,n)}catch{}switch(n.tag){case 5:lt||Is(n,t);case 6:var r=et,s=tn;et=null,nr(e,t,n),et=r,tn=s,et!==null&&(tn?(e=et,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):et.removeChild(n.stateNode));break;case 18:et!==null&&(tn?(e=et,n=n.stateNode,e.nodeType===8?qc(e.parentNode,n):e.nodeType===1&&qc(e,n),ai(e)):qc(et,n.stateNode));break;case 4:r=et,s=tn,et=n.stateNode.containerInfo,tn=!0,nr(e,t,n),et=r,tn=s;break;case 0:case 11:case 14:case 15:if(!lt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&xd(n,t,a),s=s.next}while(s!==r)}nr(e,t,n);break;case 1:if(!lt&&(Is(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ze(n,t,l)}nr(e,t,n);break;case 21:nr(e,t,n);break;case 22:n.mode&1?(lt=(r=lt)||n.memoizedState!==null,nr(e,t,n),lt=r):nr(e,t,n);break;default:nr(e,t,n)}}function dm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new E_),t.forEach(function(r){var s=$_.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Jt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:et=l.stateNode,tn=!1;break e;case 3:et=l.stateNode.containerInfo,tn=!0;break e;case 4:et=l.stateNode.containerInfo,tn=!0;break e}l=l.return}if(et===null)throw Error(W(160));Gx(o,a,s),et=null,tn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){ze(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)qx(t,e),t=t.sibling}function qx(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Jt(t,e),yn(e),r&4){try{Jo(3,e,e.return),Fl(3,e)}catch(w){ze(e,e.return,w)}try{Jo(5,e,e.return)}catch(w){ze(e,e.return,w)}}break;case 1:Jt(t,e),yn(e),r&512&&n!==null&&Is(n,n.return);break;case 5:if(Jt(t,e),yn(e),r&512&&n!==null&&Is(n,n.return),e.flags&32){var s=e.stateNode;try{ri(s,"")}catch(w){ze(e,e.return,w)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,a=n!==null?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&gv(s,o),Wu(l,a);var u=Wu(l,o);for(a=0;a<c.length;a+=2){var d=c[a],f=c[a+1];d==="style"?Sv(s,f):d==="dangerouslySetInnerHTML"?yv(s,f):d==="children"?ri(s,f):vf(s,d,f,u)}switch(l){case"input":zu(s,o);break;case"textarea":vv(s,o);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?Ms(s,!!o.multiple,g,!1):p!==!!o.multiple&&(o.defaultValue!=null?Ms(s,!!o.multiple,o.defaultValue,!0):Ms(s,!!o.multiple,o.multiple?[]:"",!1))}s[fi]=o}catch(w){ze(e,e.return,w)}}break;case 6:if(Jt(t,e),yn(e),r&4){if(e.stateNode===null)throw Error(W(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(w){ze(e,e.return,w)}}break;case 3:if(Jt(t,e),yn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ai(t.containerInfo)}catch(w){ze(e,e.return,w)}break;case 4:Jt(t,e),yn(e);break;case 13:Jt(t,e),yn(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Jf=Ue())),r&4&&dm(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(lt=(u=lt)||d,Jt(t,e),lt=u):Jt(t,e),yn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(re=e,d=e.child;d!==null;){for(f=re=d;re!==null;){switch(p=re,g=p.child,p.tag){case 0:case 11:case 14:case 15:Jo(4,p,p.return);break;case 1:Is(p,p.return);var S=p.stateNode;if(typeof S.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,S.props=t.memoizedProps,S.state=t.memoizedState,S.componentWillUnmount()}catch(w){ze(r,n,w)}}break;case 5:Is(p,p.return);break;case 22:if(p.memoizedState!==null){hm(f);continue}}g!==null?(g.return=p,re=g):hm(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=wv("display",a))}catch(w){ze(e,e.return,w)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(w){ze(e,e.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Jt(t,e),yn(e),r&4&&dm(e);break;case 21:break;default:Jt(t,e),yn(e)}}function yn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Kx(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ri(s,""),r.flags&=-33);var o=um(e);Sd(e,o,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=um(e);wd(e,l,a);break;default:throw Error(W(161))}}catch(c){ze(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function T_(e,t,n){re=e,Yx(e)}function Yx(e,t,n){for(var r=(e.mode&1)!==0;re!==null;){var s=re,o=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||sa;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||lt;l=sa;var u=lt;if(sa=a,(lt=c)&&!u)for(re=s;re!==null;)a=re,c=a.child,a.tag===22&&a.memoizedState!==null?pm(s):c!==null?(c.return=a,re=c):pm(s);for(;o!==null;)re=o,Yx(o),o=o.sibling;re=s,sa=l,lt=u}fm(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,re=o):fm(e)}}function fm(e){for(;re!==null;){var t=re;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:lt||Fl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!lt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Zt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Jp(t,o,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Jp(t,a,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&ai(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}lt||t.flags&512&&yd(t)}catch(p){ze(t,t.return,p)}}if(t===e){re=null;break}if(n=t.sibling,n!==null){n.return=t.return,re=n;break}re=t.return}}function hm(e){for(;re!==null;){var t=re;if(t===e){re=null;break}var n=t.sibling;if(n!==null){n.return=t.return,re=n;break}re=t.return}}function pm(e){for(;re!==null;){var t=re;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Fl(4,t)}catch(c){ze(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){ze(t,s,c)}}var o=t.return;try{yd(t)}catch(c){ze(t,o,c)}break;case 5:var a=t.return;try{yd(t)}catch(c){ze(t,a,c)}}}catch(c){ze(t,t.return,c)}if(t===e){re=null;break}var l=t.sibling;if(l!==null){l.return=t.return,re=l;break}re=t.return}}var P_=Math.ceil,ol=Zn.ReactCurrentDispatcher,qf=Zn.ReactCurrentOwner,Bt=Zn.ReactCurrentBatchConfig,je=0,Qe=null,Be=null,nt=0,Rt=0,Os=Rr(0),Ge=0,xi=null,Zr=0,zl=0,Yf=0,Xo=null,bt=null,Jf=0,eo=1/0,$n=null,il=!1,bd=null,wr=null,oa=!1,pr=null,al=0,Qo=0,jd=null,Ra=-1,Ta=0;function gt(){return je&6?Ue():Ra!==-1?Ra:Ra=Ue()}function Sr(e){return e.mode&1?je&2&&nt!==0?nt&-nt:p_.transition!==null?(Ta===0&&(Ta=Iv()),Ta):(e=Ce,e!==0||(e=window.event,e=e===void 0?16:zv(e.type)),e):1}function an(e,t,n,r){if(50<Qo)throw Qo=0,jd=null,Error(W(185));Ni(e,n,r),(!(je&2)||e!==Qe)&&(e===Qe&&(!(je&2)&&(zl|=n),Ge===4&&dr(e,nt)),Nt(e,r),n===1&&je===0&&!(t.mode&1)&&(eo=Ue()+500,Ml&&Tr()))}function Nt(e,t){var n=e.callbackNode;pC(e,t);var r=Va(e,e===Qe?nt:0);if(r===0)n!==null&&jp(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&jp(n),t===1)e.tag===0?h_(mm.bind(null,e)):ox(mm.bind(null,e)),c_(function(){!(je&6)&&Tr()}),n=null;else{switch(Ov(r)){case 1:n=bf;break;case 4:n=Pv;break;case 16:n=Ha;break;case 536870912:n=Av;break;default:n=Ha}n=ry(n,Jx.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Jx(e,t){if(Ra=-1,Ta=0,je&6)throw Error(W(327));var n=e.callbackNode;if(Us()&&e.callbackNode!==n)return null;var r=Va(e,e===Qe?nt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ll(e,r);else{t=r;var s=je;je|=2;var o=Qx();(Qe!==e||nt!==t)&&($n=null,eo=Ue()+500,Kr(e,t));do try{O_();break}catch(l){Xx(e,l)}while(!0);Df(),ol.current=o,je=s,Be!==null?t=0:(Qe=null,nt=0,t=Ge)}if(t!==0){if(t===2&&(s=Ju(e),s!==0&&(r=s,t=Cd(e,s))),t===1)throw n=xi,Kr(e,0),dr(e,r),Nt(e,Ue()),n;if(t===6)dr(e,r);else{if(s=e.current.alternate,!(r&30)&&!A_(s)&&(t=ll(e,r),t===2&&(o=Ju(e),o!==0&&(r=o,t=Cd(e,o))),t===1))throw n=xi,Kr(e,0),dr(e,r),Nt(e,Ue()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(W(345));case 2:Fr(e,bt,$n);break;case 3:if(dr(e,r),(r&130023424)===r&&(t=Jf+500-Ue(),10<t)){if(Va(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){gt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=sd(Fr.bind(null,e,bt,$n),t);break}Fr(e,bt,$n);break;case 4:if(dr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var a=31-on(r);o=1<<a,a=t[a],a>s&&(s=a),r&=~o}if(r=s,r=Ue()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*P_(r/1960))-r,10<r){e.timeoutHandle=sd(Fr.bind(null,e,bt,$n),r);break}Fr(e,bt,$n);break;case 5:Fr(e,bt,$n);break;default:throw Error(W(329))}}}return Nt(e,Ue()),e.callbackNode===n?Jx.bind(null,e):null}function Cd(e,t){var n=Xo;return e.current.memoizedState.isDehydrated&&(Kr(e,t).flags|=256),e=ll(e,t),e!==2&&(t=bt,bt=n,t!==null&&_d(t)),e}function _d(e){bt===null?bt=e:bt.push.apply(bt,e)}function A_(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!ln(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function dr(e,t){for(t&=~Yf,t&=~zl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-on(t),r=1<<n;e[n]=-1,t&=~r}}function mm(e){if(je&6)throw Error(W(327));Us();var t=Va(e,0);if(!(t&1))return Nt(e,Ue()),null;var n=ll(e,t);if(e.tag!==0&&n===2){var r=Ju(e);r!==0&&(t=r,n=Cd(e,r))}if(n===1)throw n=xi,Kr(e,0),dr(e,t),Nt(e,Ue()),n;if(n===6)throw Error(W(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Fr(e,bt,$n),Nt(e,Ue()),null}function Xf(e,t){var n=je;je|=1;try{return e(t)}finally{je=n,je===0&&(eo=Ue()+500,Ml&&Tr())}}function es(e){pr!==null&&pr.tag===0&&!(je&6)&&Us();var t=je;je|=1;var n=Bt.transition,r=Ce;try{if(Bt.transition=null,Ce=1,e)return e()}finally{Ce=r,Bt.transition=n,je=t,!(je&6)&&Tr()}}function Qf(){Rt=Os.current,Ae(Os)}function Kr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,l_(n)),Be!==null)for(n=Be.return;n!==null;){var r=n;switch(Af(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ya();break;case 3:Qs(),Ae(_t),Ae(ct),Uf();break;case 5:zf(r);break;case 4:Qs();break;case 13:Ae(Le);break;case 19:Ae(Le);break;case 10:Mf(r.type._context);break;case 22:case 23:Qf()}n=n.return}if(Qe=e,Be=e=br(e.current,null),nt=Rt=t,Ge=0,xi=null,Yf=zl=Zr=0,bt=Xo=null,Hr!==null){for(t=0;t<Hr.length;t++)if(n=Hr[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=s,r.next=a}n.pending=r}Hr=null}return e}function Xx(e,t){do{var n=Be;try{if(Df(),ka.current=sl,rl){for(var r=$e.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}rl=!1}if(Qr=0,Xe=Ke=$e=null,Yo=!1,mi=0,qf.current=null,n===null||n.return===null){Ge=1,xi=t,Be=null;break}e:{var o=e,a=n.return,l=n,c=t;if(t=nt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=nm(a);if(g!==null){g.flags&=-257,rm(g,a,l,o,t),g.mode&1&&tm(o,u,t),t=g,c=u;var S=t.updateQueue;if(S===null){var w=new Set;w.add(c),t.updateQueue=w}else S.add(c);break e}else{if(!(t&1)){tm(o,u,t),Zf();break e}c=Error(W(426))}}else if(De&&l.mode&1){var j=nm(a);if(j!==null){!(j.flags&65536)&&(j.flags|=256),rm(j,a,l,o,t),If(Zs(c,l));break e}}o=c=Zs(c,l),Ge!==4&&(Ge=2),Xo===null?Xo=[o]:Xo.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var m=Ox(o,c,t);Yp(o,m);break e;case 1:l=c;var v=o.type,x=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(wr===null||!wr.has(x)))){o.flags|=65536,t&=-t,o.lanes|=t;var y=Dx(o,l,t);Yp(o,y);break e}}o=o.return}while(o!==null)}ey(n)}catch(k){t=k,Be===n&&n!==null&&(Be=n=n.return);continue}break}while(!0)}function Qx(){var e=ol.current;return ol.current=sl,e===null?sl:e}function Zf(){(Ge===0||Ge===3||Ge===2)&&(Ge=4),Qe===null||!(Zr&268435455)&&!(zl&268435455)||dr(Qe,nt)}function ll(e,t){var n=je;je|=2;var r=Qx();(Qe!==e||nt!==t)&&($n=null,Kr(e,t));do try{I_();break}catch(s){Xx(e,s)}while(!0);if(Df(),je=n,ol.current=r,Be!==null)throw Error(W(261));return Qe=null,nt=0,Ge}function I_(){for(;Be!==null;)Zx(Be)}function O_(){for(;Be!==null&&!oC();)Zx(Be)}function Zx(e){var t=ny(e.alternate,e,Rt);e.memoizedProps=e.pendingProps,t===null?ey(e):Be=t,qf.current=null}function ey(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=N_(n,t),n!==null){n.flags&=32767,Be=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ge=6,Be=null;return}}else if(n=k_(n,t,Rt),n!==null){Be=n;return}if(t=t.sibling,t!==null){Be=t;return}Be=t=e}while(t!==null);Ge===0&&(Ge=5)}function Fr(e,t,n){var r=Ce,s=Bt.transition;try{Bt.transition=null,Ce=1,D_(e,t,n,r)}finally{Bt.transition=s,Ce=r}return null}function D_(e,t,n,r){do Us();while(pr!==null);if(je&6)throw Error(W(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(W(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(mC(e,o),e===Qe&&(Be=Qe=null,nt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||oa||(oa=!0,ry(Ha,function(){return Us(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Bt.transition,Bt.transition=null;var a=Ce;Ce=1;var l=je;je|=4,qf.current=null,R_(e,n),qx(n,e),t_(nd),Wa=!!td,nd=td=null,e.current=n,T_(n),iC(),je=l,Ce=a,Bt.transition=o}else e.current=n;if(oa&&(oa=!1,pr=e,al=s),o=e.pendingLanes,o===0&&(wr=null),cC(n.stateNode),Nt(e,Ue()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(il)throw il=!1,e=bd,bd=null,e;return al&1&&e.tag!==0&&Us(),o=e.pendingLanes,o&1?e===jd?Qo++:(Qo=0,jd=e):Qo=0,Tr(),null}function Us(){if(pr!==null){var e=Ov(al),t=Bt.transition,n=Ce;try{if(Bt.transition=null,Ce=16>e?16:e,pr===null)var r=!1;else{if(e=pr,pr=null,al=0,je&6)throw Error(W(331));var s=je;for(je|=4,re=e.current;re!==null;){var o=re,a=o.child;if(re.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(re=u;re!==null;){var d=re;switch(d.tag){case 0:case 11:case 15:Jo(8,d,o)}var f=d.child;if(f!==null)f.return=d,re=f;else for(;re!==null;){d=re;var p=d.sibling,g=d.return;if(Wx(d),d===u){re=null;break}if(p!==null){p.return=g,re=p;break}re=g}}}var S=o.alternate;if(S!==null){var w=S.child;if(w!==null){S.child=null;do{var j=w.sibling;w.sibling=null,w=j}while(w!==null)}}re=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,re=a;else e:for(;re!==null;){if(o=re,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Jo(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,re=m;break e}re=o.return}}var v=e.current;for(re=v;re!==null;){a=re;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,re=x;else e:for(a=v;re!==null;){if(l=re,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Fl(9,l)}}catch(k){ze(l,l.return,k)}if(l===a){re=null;break e}var y=l.sibling;if(y!==null){y.return=l.return,re=y;break e}re=l.return}}if(je=s,Tr(),Nn&&typeof Nn.onPostCommitFiberRoot=="function")try{Nn.onPostCommitFiberRoot(Pl,e)}catch{}r=!0}return r}finally{Ce=n,Bt.transition=t}}return!1}function gm(e,t,n){t=Zs(n,t),t=Ox(e,t,1),e=yr(e,t,1),t=gt(),e!==null&&(Ni(e,1,t),Nt(e,t))}function ze(e,t,n){if(e.tag===3)gm(e,e,n);else for(;t!==null;){if(t.tag===3){gm(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(wr===null||!wr.has(r))){e=Zs(n,e),e=Dx(t,e,1),t=yr(t,e,1),e=gt(),t!==null&&(Ni(t,1,e),Nt(t,e));break}}t=t.return}}function M_(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=gt(),e.pingedLanes|=e.suspendedLanes&n,Qe===e&&(nt&n)===n&&(Ge===4||Ge===3&&(nt&130023424)===nt&&500>Ue()-Jf?Kr(e,0):Yf|=n),Nt(e,t)}function ty(e,t){t===0&&(e.mode&1?(t=Yi,Yi<<=1,!(Yi&130023424)&&(Yi=4194304)):t=1);var n=gt();e=Yn(e,t),e!==null&&(Ni(e,t,n),Nt(e,n))}function L_(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),ty(e,n)}function $_(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(t),ty(e,n)}var ny;ny=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||_t.current)Ct=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ct=!1,__(e,t,n);Ct=!!(e.flags&131072)}else Ct=!1,De&&t.flags&1048576&&ix(t,Qa,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ea(e,t),e=t.pendingProps;var s=Ys(t,ct.current);zs(t,n),s=Hf(null,t,r,e,s,n);var o=Vf();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,kt(r)?(o=!0,Ja(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,$f(t),s.updater=$l,t.stateNode=s,s._reactInternals=t,dd(t,r,e,n),t=pd(null,t,r,!0,o,n)):(t.tag=0,De&&o&&Pf(t),pt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ea(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=z_(r),e=Zt(r,e),s){case 0:t=hd(null,t,r,e,n);break e;case 1:t=im(null,t,r,e,n);break e;case 11:t=sm(null,t,r,e,n);break e;case 14:t=om(null,t,r,Zt(r.type,e),n);break e}throw Error(W(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Zt(r,s),hd(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Zt(r,s),im(e,t,r,s,n);case 3:e:{if(Fx(t),e===null)throw Error(W(387));r=t.pendingProps,o=t.memoizedState,s=o.element,fx(e,t),tl(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=Zs(Error(W(423)),t),t=am(e,t,r,n,s);break e}else if(r!==s){s=Zs(Error(W(424)),t),t=am(e,t,r,n,s);break e}else for(Pt=xr(t.stateNode.containerInfo.firstChild),At=t,De=!0,rn=null,n=ux(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Js(),r===s){t=Jn(e,t,n);break e}pt(e,t,r,n)}t=t.child}return t;case 5:return hx(t),e===null&&ld(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,a=s.children,rd(r,s)?a=null:o!==null&&rd(r,o)&&(t.flags|=32),$x(e,t),pt(e,t,a,n),t.child;case 6:return e===null&&ld(t),null;case 13:return zx(e,t,n);case 4:return Ff(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Xs(t,null,r,n):pt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Zt(r,s),sm(e,t,r,s,n);case 7:return pt(e,t,t.pendingProps,n),t.child;case 8:return pt(e,t,t.pendingProps.children,n),t.child;case 12:return pt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,a=s.value,Ee(Za,r._currentValue),r._currentValue=a,o!==null)if(ln(o.value,a)){if(o.children===s.children&&!_t.current){t=Jn(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){a=o.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=Kn(-1,n&-n),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),cd(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(W(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),cd(a,n,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}pt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,zs(t,n),s=Kt(s),r=r(s),t.flags|=1,pt(e,t,r,n),t.child;case 14:return r=t.type,s=Zt(r,t.pendingProps),s=Zt(r.type,s),om(e,t,r,s,n);case 15:return Mx(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Zt(r,s),Ea(e,t),t.tag=1,kt(r)?(e=!0,Ja(t)):e=!1,zs(t,n),Ix(t,r,s),dd(t,r,s,n),pd(null,t,r,!0,e,n);case 19:return Ux(e,t,n);case 22:return Lx(e,t,n)}throw Error(W(156,t.tag))};function ry(e,t){return Tv(e,t)}function F_(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ut(e,t,n,r){return new F_(e,t,n,r)}function eh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function z_(e){if(typeof e=="function")return eh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===yf)return 11;if(e===wf)return 14}return 2}function br(e,t){var n=e.alternate;return n===null?(n=Ut(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pa(e,t,n,r,s,o){var a=2;if(r=e,typeof e=="function")eh(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Cs:return Gr(n.children,s,o,t);case xf:a=8,s|=8;break;case Du:return e=Ut(12,n,t,s|2),e.elementType=Du,e.lanes=o,e;case Mu:return e=Ut(13,n,t,s),e.elementType=Mu,e.lanes=o,e;case Lu:return e=Ut(19,n,t,s),e.elementType=Lu,e.lanes=o,e;case hv:return Ul(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case dv:a=10;break e;case fv:a=9;break e;case yf:a=11;break e;case wf:a=14;break e;case lr:a=16,r=null;break e}throw Error(W(130,e==null?e:typeof e,""))}return t=Ut(a,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function Gr(e,t,n,r){return e=Ut(7,e,r,t),e.lanes=n,e}function Ul(e,t,n,r){return e=Ut(22,e,r,t),e.elementType=hv,e.lanes=n,e.stateNode={isHidden:!1},e}function nu(e,t,n){return e=Ut(6,e,null,t),e.lanes=n,e}function ru(e,t,n){return t=Ut(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function U_(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Lc(0),this.expirationTimes=Lc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lc(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function th(e,t,n,r,s,o,a,l,c){return e=new U_(e,t,n,l,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Ut(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},$f(o),e}function B_(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:js,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function sy(e){if(!e)return _r;e=e._reactInternals;e:{if(as(e)!==e||e.tag!==1)throw Error(W(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(kt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(W(171))}if(e.tag===1){var n=e.type;if(kt(n))return sx(e,n,t)}return t}function oy(e,t,n,r,s,o,a,l,c){return e=th(n,r,!0,e,s,o,a,l,c),e.context=sy(null),n=e.current,r=gt(),s=Sr(n),o=Kn(r,s),o.callback=t??null,yr(n,o,s),e.current.lanes=s,Ni(e,s,r),Nt(e,r),e}function Bl(e,t,n,r){var s=t.current,o=gt(),a=Sr(s);return n=sy(n),t.context===null?t.context=n:t.pendingContext=n,t=Kn(o,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=yr(s,t,a),e!==null&&(an(e,s,a,o),_a(e,s,a)),a}function cl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function vm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function nh(e,t){vm(e,t),(e=e.alternate)&&vm(e,t)}function H_(){return null}var iy=typeof reportError=="function"?reportError:function(e){console.error(e)};function rh(e){this._internalRoot=e}Hl.prototype.render=rh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(W(409));Bl(e,t,null,null)};Hl.prototype.unmount=rh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;es(function(){Bl(null,e,null,null)}),t[qn]=null}};function Hl(e){this._internalRoot=e}Hl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Lv();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ur.length&&t!==0&&t<ur[n].priority;n++);ur.splice(n,0,e),n===0&&Fv(e)}};function sh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Vl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function xm(){}function V_(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var u=cl(a);o.call(u)}}var a=oy(t,r,e,0,null,!1,!1,"",xm);return e._reactRootContainer=a,e[qn]=a.current,ui(e.nodeType===8?e.parentNode:e),es(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=cl(c);l.call(u)}}var c=th(e,0,!1,null,null,!1,!1,"",xm);return e._reactRootContainer=c,e[qn]=c.current,ui(e.nodeType===8?e.parentNode:e),es(function(){Bl(t,c,n,r)}),c}function Wl(e,t,n,r,s){var o=n._reactRootContainer;if(o){var a=o;if(typeof s=="function"){var l=s;s=function(){var c=cl(a);l.call(c)}}Bl(t,a,e,s)}else a=V_(n,t,e,s,r);return cl(a)}Dv=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Mo(t.pendingLanes);n!==0&&(jf(t,n|1),Nt(t,Ue()),!(je&6)&&(eo=Ue()+500,Tr()))}break;case 13:es(function(){var r=Yn(e,1);if(r!==null){var s=gt();an(r,e,1,s)}}),nh(e,1)}};Cf=function(e){if(e.tag===13){var t=Yn(e,134217728);if(t!==null){var n=gt();an(t,e,134217728,n)}nh(e,134217728)}};Mv=function(e){if(e.tag===13){var t=Sr(e),n=Yn(e,t);if(n!==null){var r=gt();an(n,e,t,r)}nh(e,t)}};Lv=function(){return Ce};$v=function(e,t){var n=Ce;try{return Ce=e,t()}finally{Ce=n}};Gu=function(e,t,n){switch(t){case"input":if(zu(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Dl(r);if(!s)throw Error(W(90));mv(r),zu(r,s)}}}break;case"textarea":vv(e,n);break;case"select":t=n.value,t!=null&&Ms(e,!!n.multiple,t,!1)}};Cv=Xf;_v=es;var W_={usingClientEntryPoint:!1,Events:[Ri,Es,Dl,bv,jv,Xf]},Eo={findFiberByHostInstance:Br,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},K_={bundleType:Eo.bundleType,version:Eo.version,rendererPackageName:Eo.rendererPackageName,rendererConfig:Eo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ev(e),e===null?null:e.stateNode},findFiberByHostInstance:Eo.findFiberByHostInstance||H_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ia=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ia.isDisabled&&ia.supportsFiber)try{Pl=ia.inject(K_),Nn=ia}catch{}}Mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W_;Mt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sh(t))throw Error(W(200));return B_(e,t,null,n)};Mt.createRoot=function(e,t){if(!sh(e))throw Error(W(299));var n=!1,r="",s=iy;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=th(e,1,!1,null,null,n,!1,r,s),e[qn]=t.current,ui(e.nodeType===8?e.parentNode:e),new rh(t)};Mt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(W(188)):(e=Object.keys(e).join(","),Error(W(268,e)));return e=Ev(t),e=e===null?null:e.stateNode,e};Mt.flushSync=function(e){return es(e)};Mt.hydrate=function(e,t,n){if(!Vl(t))throw Error(W(200));return Wl(null,e,t,!0,n)};Mt.hydrateRoot=function(e,t,n){if(!sh(e))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",a=iy;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=oy(t,null,e,1,n??null,s,!1,o,a),e[qn]=t.current,ui(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Hl(t)};Mt.render=function(e,t,n){if(!Vl(t))throw Error(W(200));return Wl(null,e,t,!1,n)};Mt.unmountComponentAtNode=function(e){if(!Vl(e))throw Error(W(40));return e._reactRootContainer?(es(function(){Wl(null,null,e,!1,function(){e._reactRootContainer=null,e[qn]=null})}),!0):!1};Mt.unstable_batchedUpdates=Xf;Mt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Vl(n))throw Error(W(200));if(e==null||e._reactInternals===void 0)throw Error(W(38));return Wl(e,t,n,!1,r)};Mt.version="18.3.1-next-f1338f8080-20240426";function ay(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ay)}catch(e){console.error(e)}}ay(),av.exports=Mt;var co=av.exports;const G_=qg(co);var ly,ym=co;ly=ym.createRoot,ym.hydrateRoot;function wm(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Kl(...e){return t=>{let n=!1;const r=e.map(s=>{const o=wm(s,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():wm(e[s],null)}}}}function fe(...e){return h.useCallback(Kl(...e),e)}function ts(e){const t=Y_(e),n=h.forwardRef((r,s)=>{const{children:o,...a}=r,l=h.Children.toArray(o),c=l.find(X_);if(c){const u=c.props.children,d=l.map(f=>f===c?h.Children.count(u)>1?h.Children.only(null):h.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...a,ref:s,children:h.isValidElement(u)?h.cloneElement(u,void 0,d):null})}return i.jsx(t,{...a,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}var q_=ts("Slot");function Y_(e){const t=h.forwardRef((n,r)=>{const{children:s,...o}=n;if(h.isValidElement(s)){const a=Z_(s),l=Q_(o,s.props);return s.type!==h.Fragment&&(l.ref=r?Kl(r,a):a),h.cloneElement(s,l)}return h.Children.count(s)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var cy=Symbol("radix.slottable");function J_(e){const t=({children:n})=>i.jsx(i.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=cy,t}function X_(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===cy}function Q_(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...l)=>{const c=o(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function Z_(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function uy(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=uy(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function dy(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=uy(e))&&(r&&(r+=" "),r+=t);return r}const Sm=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,bm=dy,fy=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return bm(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=t,a=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],f=o==null?void 0:o[u];if(d===null)return null;const p=Sm(d)||Sm(f);return s[u][p]}),l=n&&Object.entries(n).reduce((u,d)=>{let[f,p]=d;return p===void 0||(u[f]=p),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:p,...g}=d;return Object.entries(g).every(S=>{let[w,j]=S;return Array.isArray(j)?j.includes({...o,...l}[w]):{...o,...l}[w]===j})?[...u,f,p]:u},[]);return bm(e,a,c,n==null?void 0:n.class,n==null?void 0:n.className)},oh="-",ek=e=>{const t=nk(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:a=>{const l=a.split(oh);return l[0]===""&&l.length!==1&&l.shift(),hy(l,t)||tk(a)},getConflictingClassGroupIds:(a,l)=>{const c=n[a]||[];return l&&r[a]?[...c,...r[a]]:c}}},hy=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?hy(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(oh);return(a=t.validators.find(({validator:l})=>l(o)))==null?void 0:a.classGroupId},jm=/^\[(.+)\]$/,tk=e=>{if(jm.test(e)){const t=jm.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},nk=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return sk(Object.entries(e.classGroups),n).forEach(([o,a])=>{kd(a,r,o,t)}),r},kd=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:Cm(t,s);o.classGroupId=n;return}if(typeof s=="function"){if(rk(s)){kd(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([o,a])=>{kd(a,Cm(t,o),n,r)})})},Cm=(e,t)=>{let n=e;return t.split(oh).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},rk=e=>e.isThemeGetter,sk=(e,t)=>t?e.map(([n,r])=>{const s=r.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([a,l])=>[t+a,l])):o);return[n,s]}):e,ok=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(o,a)=>{n.set(o,a),t++,t>e&&(t=0,r=n,n=new Map)};return{get(o){let a=n.get(o);if(a!==void 0)return a;if((a=r.get(o))!==void 0)return s(o,a),a},set(o,a){n.has(o)?n.set(o,a):s(o,a)}}},py="!",ik=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],o=t.length,a=l=>{const c=[];let u=0,d=0,f;for(let j=0;j<l.length;j++){let m=l[j];if(u===0){if(m===s&&(r||l.slice(j,j+o)===t)){c.push(l.slice(d,j)),d=j+o;continue}if(m==="/"){f=j;continue}}m==="["?u++:m==="]"&&u--}const p=c.length===0?l:l.substring(d),g=p.startsWith(py),S=g?p.substring(1):p,w=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:S,maybePostfixModifierPosition:w}};return n?l=>n({className:l,parseClassName:a}):a},ak=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},lk=e=>({cache:ok(e.cacheSize),parseClassName:ik(e),...ek(e)}),ck=/\s+/,uk=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,o=[],a=e.trim().split(ck);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:d,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:g}=n(u);let S=!!g,w=r(S?p.substring(0,g):p);if(!w){if(!S){l=u+(l.length>0?" "+l:l);continue}if(w=r(p),!w){l=u+(l.length>0?" "+l:l);continue}S=!1}const j=ak(d).join(":"),m=f?j+py:j,v=m+w;if(o.includes(v))continue;o.push(v);const x=s(w,S);for(let y=0;y<x.length;++y){const k=x[y];o.push(m+k)}l=u+(l.length>0?" "+l:l)}return l};function dk(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=my(t))&&(r&&(r+=" "),r+=n);return r}const my=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=my(e[r]))&&(n&&(n+=" "),n+=t);return n};function fk(e,...t){let n,r,s,o=a;function a(c){const u=t.reduce((d,f)=>f(d),e());return n=lk(u),r=n.cache.get,s=n.cache.set,o=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=uk(c,n);return s(c,d),d}return function(){return o(dk.apply(null,arguments))}}const Te=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},gy=/^\[(?:([a-z-]+):)?(.+)\]$/i,hk=/^\d+\/\d+$/,pk=new Set(["px","full","screen"]),mk=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,gk=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,vk=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,xk=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,yk=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Mn=e=>Bs(e)||pk.has(e)||hk.test(e),rr=e=>uo(e,"length",Nk),Bs=e=>!!e&&!Number.isNaN(Number(e)),su=e=>uo(e,"number",Bs),Ro=e=>!!e&&Number.isInteger(Number(e)),wk=e=>e.endsWith("%")&&Bs(e.slice(0,-1)),ve=e=>gy.test(e),sr=e=>mk.test(e),Sk=new Set(["length","size","percentage"]),bk=e=>uo(e,Sk,vy),jk=e=>uo(e,"position",vy),Ck=new Set(["image","url"]),_k=e=>uo(e,Ck,Rk),kk=e=>uo(e,"",Ek),To=()=>!0,uo=(e,t,n)=>{const r=gy.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},Nk=e=>gk.test(e)&&!vk.test(e),vy=()=>!1,Ek=e=>xk.test(e),Rk=e=>yk.test(e),Tk=()=>{const e=Te("colors"),t=Te("spacing"),n=Te("blur"),r=Te("brightness"),s=Te("borderColor"),o=Te("borderRadius"),a=Te("borderSpacing"),l=Te("borderWidth"),c=Te("contrast"),u=Te("grayscale"),d=Te("hueRotate"),f=Te("invert"),p=Te("gap"),g=Te("gradientColorStops"),S=Te("gradientColorStopPositions"),w=Te("inset"),j=Te("margin"),m=Te("opacity"),v=Te("padding"),x=Te("saturate"),y=Te("scale"),k=Te("sepia"),_=Te("skew"),b=Te("space"),C=Te("translate"),N=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",ve,t],T=()=>[ve,t],L=()=>["",Mn,rr],F=()=>["auto",Bs,ve],V=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],B=()=>["solid","dashed","dotted","double","none"],q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],I=()=>["start","end","center","between","around","evenly","stretch"],E=()=>["","0",ve],O=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>[Bs,ve];return{cacheSize:500,separator:":",theme:{colors:[To],spacing:[Mn,rr],blur:["none","",sr,ve],brightness:z(),borderColor:[e],borderRadius:["none","","full",sr,ve],borderSpacing:T(),borderWidth:L(),contrast:z(),grayscale:E(),hueRotate:z(),invert:E(),gap:T(),gradientColorStops:[e],gradientColorStopPositions:[wk,rr],inset:P(),margin:P(),opacity:z(),padding:T(),saturate:z(),scale:z(),sepia:E(),skew:z(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",ve]}],container:["container"],columns:[{columns:[sr]}],"break-after":[{"break-after":O()}],"break-before":[{"break-before":O()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...V(),ve]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ro,ve]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ve]}],grow:[{grow:E()}],shrink:[{shrink:E()}],order:[{order:["first","last","none",Ro,ve]}],"grid-cols":[{"grid-cols":[To]}],"col-start-end":[{col:["auto",{span:["full",Ro,ve]},ve]}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":[To]}],"row-start-end":[{row:["auto",{span:[Ro,ve]},ve]}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ve]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ve]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...I()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...I(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...I(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[j]}],mx:[{mx:[j]}],my:[{my:[j]}],ms:[{ms:[j]}],me:[{me:[j]}],mt:[{mt:[j]}],mr:[{mr:[j]}],mb:[{mb:[j]}],ml:[{ml:[j]}],"space-x":[{"space-x":[b]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[b]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ve,t]}],"min-w":[{"min-w":[ve,t,"min","max","fit"]}],"max-w":[{"max-w":[ve,t,"none","full","min","max","fit","prose",{screen:[sr]},sr]}],h:[{h:[ve,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ve,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ve,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ve,t,"auto","min","max","fit"]}],"font-size":[{text:["base",sr,rr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",su]}],"font-family":[{font:[To]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ve]}],"line-clamp":[{"line-clamp":["none",Bs,su]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Mn,ve]}],"list-image":[{"list-image":["none",ve]}],"list-style-type":[{list:["none","disc","decimal",ve]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[m]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[m]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...B(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Mn,rr]}],"underline-offset":[{"underline-offset":["auto",Mn,ve]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[m]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...V(),jk]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",bk]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},_k]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[m]}],"border-style":[{border:[...B(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[m]}],"divide-style":[{divide:B()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...B()]}],"outline-offset":[{"outline-offset":[Mn,ve]}],"outline-w":[{outline:[Mn,rr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[m]}],"ring-offset-w":[{"ring-offset":[Mn,rr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",sr,kk]}],"shadow-color":[{shadow:[To]}],opacity:[{opacity:[m]}],"mix-blend":[{"mix-blend":[...q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":q()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",sr,ve]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[x]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[m]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ve]}],duration:[{duration:z()}],ease:[{ease:["linear","in","out","in-out",ve]}],delay:[{delay:z()}],animate:[{animate:["none","spin","ping","pulse","bounce",ve]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[y]}],"scale-x":[{"scale-x":[y]}],"scale-y":[{"scale-y":[y]}],rotate:[{rotate:[Ro,ve]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ve]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ve]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ve]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Mn,rr,su]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Pk=fk(Tk);function D(...e){return Pk(dy(e))}function Ak(e){if(!e||e.length<4)return!1;let t=e.substring(1);if(t.length===3&&(t=t.split("").map(a=>a+a).join("")),t.length!==6)return!1;const n=parseInt(t.substring(0,2),16),r=parseInt(t.substring(2,4),16),s=parseInt(t.substring(4,6),16);return(n*299+r*587+s*114)/1e3<128}const Gl=fy("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",raise:"bg-action-raise text-white hover:bg-action-raise/90 shadow-lg",fold:"bg-action-fold text-white hover:bg-action-fold/90 shadow-lg",call:"bg-action-call text-white hover:bg-action-call/90 shadow-lg",poker:"bg-poker-green text-white hover:bg-poker-green/90 shadow-lg"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Y=h.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},o)=>{const a=r?q_:"button";return i.jsx(a,{className:D(Gl({variant:t,size:n,className:e})),ref:o,...s})});Y.displayName="Button";const _m=({activeSection:e,onSectionChange:t,isMobile:n=!1,mobileActions:r})=>{const s=[{id:"editor",label:"Редактор"},{id:"training",label:"Тренировка"},{id:"chart",label:"Чарт"}];return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:D("flex items-center",n?"gap-0":"gap-1"),children:s.map(a=>i.jsx(Y,{variant:e===a.id?"poker":"ghost",size:"sm",onClick:()=>t(a.id),className:D("transition-all duration-200",e===a.id&&"shadow-md"),children:a.label},a.id))}),n&&r]})};function ne(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Ik(e,t){const n=h.createContext(t),r=o=>{const{children:a,...l}=o,c=h.useMemo(()=>l,Object.values(l));return i.jsx(n.Provider,{value:c,children:a})};r.displayName=e+"Provider";function s(o){const a=h.useContext(n);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,s]}function st(e,t=[]){let n=[];function r(o,a){const l=h.createContext(a),c=n.length;n=[...n,a];const u=f=>{var m;const{scope:p,children:g,...S}=f,w=((m=p==null?void 0:p[e])==null?void 0:m[c])||l,j=h.useMemo(()=>S,Object.values(S));return i.jsx(w.Provider,{value:j,children:g})};u.displayName=o+"Provider";function d(f,p){var w;const g=((w=p==null?void 0:p[e])==null?void 0:w[c])||l,S=h.useContext(g);if(S)return S;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[u,d]}const s=()=>{const o=n.map(a=>h.createContext(a));return function(l){const c=(l==null?void 0:l[e])||o;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,Ok(s,...t)]}function Ok(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const a=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...l,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}var He=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},Dk=ov[" useInsertionEffect ".trim().toString()]||He;function Dt({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,o,a]=Mk({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:s;{const d=h.useRef(e!==void 0);h.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=h.useCallback(d=>{var f;if(l){const p=Lk(d)?d(e):d;p!==e&&((f=a.current)==null||f.call(a,p))}else o(d)},[l,e,o,a]);return[c,u]}function Mk({defaultProp:e,onChange:t}){const[n,r]=h.useState(e),s=h.useRef(n),o=h.useRef(t);return Dk(()=>{o.current=t},[t]),h.useEffect(()=>{var a;s.current!==n&&((a=o.current)==null||a.call(o,n),s.current=n)},[n,s]),[n,r,o]}function Lk(e){return typeof e=="function"}var $k=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],se=$k.reduce((e,t)=>{const n=ts(`Primitive.${t}`),r=h.forwardRef((s,o)=>{const{asChild:a,...l}=s,c=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function xy(e,t){e&&co.flushSync(()=>e.dispatchEvent(t))}function Pi(e){const t=e+"CollectionProvider",[n,r]=st(t),[s,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=w=>{const{scope:j,children:m}=w,v=X.useRef(null),x=X.useRef(new Map).current;return i.jsx(s,{scope:j,itemMap:x,collectionRef:v,children:m})};a.displayName=t;const l=e+"CollectionSlot",c=ts(l),u=X.forwardRef((w,j)=>{const{scope:m,children:v}=w,x=o(l,m),y=fe(j,x.collectionRef);return i.jsx(c,{ref:y,children:v})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",p=ts(d),g=X.forwardRef((w,j)=>{const{scope:m,children:v,...x}=w,y=X.useRef(null),k=fe(j,y),_=o(d,m);return X.useEffect(()=>(_.itemMap.set(y,{ref:y,...x}),()=>void _.itemMap.delete(y))),i.jsx(p,{[f]:"",ref:k,children:v})});g.displayName=d;function S(w){const j=o(e+"CollectionConsumer",w);return X.useCallback(()=>{const v=j.collectionRef.current;if(!v)return[];const x=Array.from(v.querySelectorAll(`[${f}]`));return Array.from(j.itemMap.values()).sort((_,b)=>x.indexOf(_.ref.current)-x.indexOf(b.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:a,Slot:u,ItemSlot:g},S,r]}var Fk=h.createContext(void 0);function ls(e){const t=h.useContext(Fk);return e||t||"ltr"}function cn(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function zk(e,t=globalThis==null?void 0:globalThis.document){const n=cn(e);h.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var Uk="DismissableLayer",Nd="dismissableLayer.update",Bk="dismissableLayer.pointerDownOutside",Hk="dismissableLayer.focusOutside",km,yy=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ql=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:a,onDismiss:l,...c}=e,u=h.useContext(yy),[d,f]=h.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=h.useState({}),S=fe(t,b=>f(b)),w=Array.from(u.layers),[j]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),m=w.indexOf(j),v=d?w.indexOf(d):-1,x=u.layersWithOutsidePointerEventsDisabled.size>0,y=v>=m,k=Kk(b=>{const C=b.target,N=[...u.branches].some(R=>R.contains(C));!y||N||(s==null||s(b),a==null||a(b),b.defaultPrevented||l==null||l())},p),_=Gk(b=>{const C=b.target;[...u.branches].some(R=>R.contains(C))||(o==null||o(b),a==null||a(b),b.defaultPrevented||l==null||l())},p);return zk(b=>{v===u.layers.size-1&&(r==null||r(b),!b.defaultPrevented&&l&&(b.preventDefault(),l()))},p),h.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(km=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Nm(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=km)}},[d,p,n,u]),h.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Nm())},[d,u]),h.useEffect(()=>{const b=()=>g({});return document.addEventListener(Nd,b),()=>document.removeEventListener(Nd,b)},[]),i.jsx(se.div,{...c,ref:S,style:{pointerEvents:x?y?"auto":"none":void 0,...e.style},onFocusCapture:ne(e.onFocusCapture,_.onFocusCapture),onBlurCapture:ne(e.onBlurCapture,_.onBlurCapture),onPointerDownCapture:ne(e.onPointerDownCapture,k.onPointerDownCapture)})});ql.displayName=Uk;var Vk="DismissableLayerBranch",Wk=h.forwardRef((e,t)=>{const n=h.useContext(yy),r=h.useRef(null),s=fe(t,r);return h.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),i.jsx(se.div,{...e,ref:s})});Wk.displayName=Vk;function Kk(e,t=globalThis==null?void 0:globalThis.document){const n=cn(e),r=h.useRef(!1),s=h.useRef(()=>{});return h.useEffect(()=>{const o=l=>{if(l.target&&!r.current){let c=function(){wy(Bk,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function Gk(e,t=globalThis==null?void 0:globalThis.document){const n=cn(e),r=h.useRef(!1);return h.useEffect(()=>{const s=o=>{o.target&&!r.current&&wy(Hk,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Nm(){const e=new CustomEvent(Nd);document.dispatchEvent(e)}function wy(e,t,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?xy(s,o):s.dispatchEvent(o)}var ou=0;function ih(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Em()),document.body.insertAdjacentElement("beforeend",e[1]??Em()),ou++,()=>{ou===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),ou--}},[])}function Em(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var iu="focusScope.autoFocusOnMount",au="focusScope.autoFocusOnUnmount",Rm={bubbles:!1,cancelable:!0},qk="FocusScope",Yl=h.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...a}=e,[l,c]=h.useState(null),u=cn(s),d=cn(o),f=h.useRef(null),p=fe(t,w=>c(w)),g=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(r){let w=function(x){if(g.paused||!l)return;const y=x.target;l.contains(y)?f.current=y:ir(f.current,{select:!0})},j=function(x){if(g.paused||!l)return;const y=x.relatedTarget;y!==null&&(l.contains(y)||ir(f.current,{select:!0}))},m=function(x){if(document.activeElement===document.body)for(const k of x)k.removedNodes.length>0&&ir(l)};document.addEventListener("focusin",w),document.addEventListener("focusout",j);const v=new MutationObserver(m);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",j),v.disconnect()}}},[r,l,g.paused]),h.useEffect(()=>{if(l){Pm.add(g);const w=document.activeElement;if(!l.contains(w)){const m=new CustomEvent(iu,Rm);l.addEventListener(iu,u),l.dispatchEvent(m),m.defaultPrevented||(Yk(eN(Sy(l)),{select:!0}),document.activeElement===w&&ir(l))}return()=>{l.removeEventListener(iu,u),setTimeout(()=>{const m=new CustomEvent(au,Rm);l.addEventListener(au,d),l.dispatchEvent(m),m.defaultPrevented||ir(w??document.body,{select:!0}),l.removeEventListener(au,d),Pm.remove(g)},0)}}},[l,u,d,g]);const S=h.useCallback(w=>{if(!n&&!r||g.paused)return;const j=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,m=document.activeElement;if(j&&m){const v=w.currentTarget,[x,y]=Jk(v);x&&y?!w.shiftKey&&m===y?(w.preventDefault(),n&&ir(x,{select:!0})):w.shiftKey&&m===x&&(w.preventDefault(),n&&ir(y,{select:!0})):m===v&&w.preventDefault()}},[n,r,g.paused]);return i.jsx(se.div,{tabIndex:-1,...a,ref:p,onKeyDown:S})});Yl.displayName=qk;function Yk(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(ir(r,{select:t}),document.activeElement!==n)return}function Jk(e){const t=Sy(e),n=Tm(t,e),r=Tm(t.reverse(),e);return[n,r]}function Sy(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Tm(e,t){for(const n of e)if(!Xk(n,{upTo:t}))return n}function Xk(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Qk(e){return e instanceof HTMLInputElement&&"select"in e}function ir(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Qk(e)&&t&&e.select()}}var Pm=Zk();function Zk(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Am(e,t),e.unshift(t)},remove(t){var n;e=Am(e,t),(n=e[0])==null||n.resume()}}}function Am(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function eN(e){return e.filter(t=>t.tagName!=="A")}var tN=ov[" useId ".trim().toString()]||(()=>{}),nN=0;function Ht(e){const[t,n]=h.useState(tN());return He(()=>{n(r=>r??String(nN++))},[e]),t?`radix-${t}`:""}const rN=["top","right","bottom","left"],kr=Math.min,Tt=Math.max,ul=Math.round,aa=Math.floor,Rn=e=>({x:e,y:e}),sN={left:"right",right:"left",bottom:"top",top:"bottom"},oN={start:"end",end:"start"};function Ed(e,t,n){return Tt(e,kr(t,n))}function Xn(e,t){return typeof e=="function"?e(t):e}function Qn(e){return e.split("-")[0]}function fo(e){return e.split("-")[1]}function ah(e){return e==="x"?"y":"x"}function lh(e){return e==="y"?"height":"width"}const iN=new Set(["top","bottom"]);function Cn(e){return iN.has(Qn(e))?"y":"x"}function ch(e){return ah(Cn(e))}function aN(e,t,n){n===void 0&&(n=!1);const r=fo(e),s=ch(e),o=lh(s);let a=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(a=dl(a)),[a,dl(a)]}function lN(e){const t=dl(e);return[Rd(e),t,Rd(t)]}function Rd(e){return e.replace(/start|end/g,t=>oN[t])}const Im=["left","right"],Om=["right","left"],cN=["top","bottom"],uN=["bottom","top"];function dN(e,t,n){switch(e){case"top":case"bottom":return n?t?Om:Im:t?Im:Om;case"left":case"right":return t?cN:uN;default:return[]}}function fN(e,t,n,r){const s=fo(e);let o=dN(Qn(e),n==="start",r);return s&&(o=o.map(a=>a+"-"+s),t&&(o=o.concat(o.map(Rd)))),o}function dl(e){return e.replace(/left|right|bottom|top/g,t=>sN[t])}function hN(e){return{top:0,right:0,bottom:0,left:0,...e}}function by(e){return typeof e!="number"?hN(e):{top:e,right:e,bottom:e,left:e}}function fl(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function Dm(e,t,n){let{reference:r,floating:s}=e;const o=Cn(t),a=ch(t),l=lh(a),c=Qn(t),u=o==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,p=r[l]/2-s[l]/2;let g;switch(c){case"top":g={x:d,y:r.y-s.height};break;case"bottom":g={x:d,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:f};break;case"left":g={x:r.x-s.width,y:f};break;default:g={x:r.x,y:r.y}}switch(fo(t)){case"start":g[a]-=p*(n&&u?-1:1);break;case"end":g[a]+=p*(n&&u?-1:1);break}return g}const pN=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:a}=n,l=o.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=Dm(u,r,c),p=r,g={},S=0;for(let w=0;w<l.length;w++){const{name:j,fn:m}=l[w],{x:v,y:x,data:y,reset:k}=await m({x:d,y:f,initialPlacement:r,placement:p,strategy:s,middlewareData:g,rects:u,platform:a,elements:{reference:e,floating:t}});d=v??d,f=x??f,g={...g,[j]:{...g[j],...y}},k&&S<=50&&(S++,typeof k=="object"&&(k.placement&&(p=k.placement),k.rects&&(u=k.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:s}):k.rects),{x:d,y:f}=Dm(u,p,c)),w=-1)}return{x:d,y:f,placement:p,strategy:s,middlewareData:g}};async function yi(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:o,rects:a,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:g=0}=Xn(t,e),S=by(g),j=l[p?f==="floating"?"reference":"floating":f],m=fl(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(j)))==null||n?j:j.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),v=f==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,x=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),y=await(o.isElement==null?void 0:o.isElement(x))?await(o.getScale==null?void 0:o.getScale(x))||{x:1,y:1}:{x:1,y:1},k=fl(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:x,strategy:c}):v);return{top:(m.top-k.top+S.top)/y.y,bottom:(k.bottom-m.bottom+S.bottom)/y.y,left:(m.left-k.left+S.left)/y.x,right:(k.right-m.right+S.right)/y.x}}const mN=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:o,platform:a,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Xn(e,t)||{};if(u==null)return{};const f=by(d),p={x:n,y:r},g=ch(s),S=lh(g),w=await a.getDimensions(u),j=g==="y",m=j?"top":"left",v=j?"bottom":"right",x=j?"clientHeight":"clientWidth",y=o.reference[S]+o.reference[g]-p[g]-o.floating[S],k=p[g]-o.reference[g],_=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let b=_?_[x]:0;(!b||!await(a.isElement==null?void 0:a.isElement(_)))&&(b=l.floating[x]||o.floating[S]);const C=y/2-k/2,N=b/2-w[S]/2-1,R=kr(f[m],N),P=kr(f[v],N),T=R,L=b-w[S]-P,F=b/2-w[S]/2+C,V=Ed(T,F,L),B=!c.arrow&&fo(s)!=null&&F!==V&&o.reference[S]/2-(F<T?R:P)-w[S]/2<0,q=B?F<T?F-T:F-L:0;return{[g]:p[g]+q,data:{[g]:V,centerOffset:F-V-q,...B&&{alignmentOffset:q}},reset:B}}}),gN=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:o,rects:a,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:w=!0,...j}=Xn(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const m=Qn(s),v=Cn(l),x=Qn(l)===l,y=await(c.isRTL==null?void 0:c.isRTL(u.floating)),k=p||(x||!w?[dl(l)]:lN(l)),_=S!=="none";!p&&_&&k.push(...fN(l,w,S,y));const b=[l,...k],C=await yi(t,j),N=[];let R=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&N.push(C[m]),f){const F=aN(s,a,y);N.push(C[F[0]],C[F[1]])}if(R=[...R,{placement:s,overflows:N}],!N.every(F=>F<=0)){var P,T;const F=(((P=o.flip)==null?void 0:P.index)||0)+1,V=b[F];if(V&&(!(f==="alignment"?v!==Cn(V):!1)||R.every(I=>I.overflows[0]>0&&Cn(I.placement)===v)))return{data:{index:F,overflows:R},reset:{placement:V}};let B=(T=R.filter(q=>q.overflows[0]<=0).sort((q,I)=>q.overflows[1]-I.overflows[1])[0])==null?void 0:T.placement;if(!B)switch(g){case"bestFit":{var L;const q=(L=R.filter(I=>{if(_){const E=Cn(I.placement);return E===v||E==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(E=>E>0).reduce((E,O)=>E+O,0)]).sort((I,E)=>I[1]-E[1])[0])==null?void 0:L[0];q&&(B=q);break}case"initialPlacement":B=l;break}if(s!==B)return{reset:{placement:B}}}return{}}}};function Mm(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Lm(e){return rN.some(t=>e[t]>=0)}const vN=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=Xn(e,t);switch(r){case"referenceHidden":{const o=await yi(t,{...s,elementContext:"reference"}),a=Mm(o,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:Lm(a)}}}case"escaped":{const o=await yi(t,{...s,altBoundary:!0}),a=Mm(o,n.floating);return{data:{escapedOffsets:a,escaped:Lm(a)}}}default:return{}}}}},jy=new Set(["left","top"]);async function xN(e,t){const{placement:n,platform:r,elements:s}=e,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=Qn(n),l=fo(n),c=Cn(n)==="y",u=jy.has(a)?-1:1,d=o&&c?-1:1,f=Xn(t,e);let{mainAxis:p,crossAxis:g,alignmentAxis:S}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof S=="number"&&(g=l==="end"?S*-1:S),c?{x:g*d,y:p*u}:{x:p*u,y:g*d}}const yN=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:o,placement:a,middlewareData:l}=t,c=await xN(t,e);return a===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:a}}}}},wN=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:o=!0,crossAxis:a=!1,limiter:l={fn:j=>{let{x:m,y:v}=j;return{x:m,y:v}}},...c}=Xn(e,t),u={x:n,y:r},d=await yi(t,c),f=Cn(Qn(s)),p=ah(f);let g=u[p],S=u[f];if(o){const j=p==="y"?"top":"left",m=p==="y"?"bottom":"right",v=g+d[j],x=g-d[m];g=Ed(v,g,x)}if(a){const j=f==="y"?"top":"left",m=f==="y"?"bottom":"right",v=S+d[j],x=S-d[m];S=Ed(v,S,x)}const w=l.fn({...t,[p]:g,[f]:S});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[p]:o,[f]:a}}}}}},SN=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:o,middlewareData:a}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Xn(e,t),d={x:n,y:r},f=Cn(s),p=ah(f);let g=d[p],S=d[f];const w=Xn(l,t),j=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(c){const x=p==="y"?"height":"width",y=o.reference[p]-o.floating[x]+j.mainAxis,k=o.reference[p]+o.reference[x]-j.mainAxis;g<y?g=y:g>k&&(g=k)}if(u){var m,v;const x=p==="y"?"width":"height",y=jy.has(Qn(s)),k=o.reference[f]-o.floating[x]+(y&&((m=a.offset)==null?void 0:m[f])||0)+(y?0:j.crossAxis),_=o.reference[f]+o.reference[x]+(y?0:((v=a.offset)==null?void 0:v[f])||0)-(y?j.crossAxis:0);S<k?S=k:S>_&&(S=_)}return{[p]:g,[f]:S}}}},bN=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:o,platform:a,elements:l}=t,{apply:c=()=>{},...u}=Xn(e,t),d=await yi(t,u),f=Qn(s),p=fo(s),g=Cn(s)==="y",{width:S,height:w}=o.floating;let j,m;f==="top"||f==="bottom"?(j=f,m=p===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(m=f,j=p==="end"?"top":"bottom");const v=w-d.top-d.bottom,x=S-d.left-d.right,y=kr(w-d[j],v),k=kr(S-d[m],x),_=!t.middlewareData.shift;let b=y,C=k;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(C=x),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(b=v),_&&!p){const R=Tt(d.left,0),P=Tt(d.right,0),T=Tt(d.top,0),L=Tt(d.bottom,0);g?C=S-2*(R!==0||P!==0?R+P:Tt(d.left,d.right)):b=w-2*(T!==0||L!==0?T+L:Tt(d.top,d.bottom))}await c({...t,availableWidth:C,availableHeight:b});const N=await a.getDimensions(l.floating);return S!==N.width||w!==N.height?{reset:{rects:!0}}:{}}}};function Jl(){return typeof window<"u"}function ho(e){return Cy(e)?(e.nodeName||"").toLowerCase():"#document"}function It(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Pn(e){var t;return(t=(Cy(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Cy(e){return Jl()?e instanceof Node||e instanceof It(e).Node:!1}function un(e){return Jl()?e instanceof Element||e instanceof It(e).Element:!1}function Tn(e){return Jl()?e instanceof HTMLElement||e instanceof It(e).HTMLElement:!1}function $m(e){return!Jl()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof It(e).ShadowRoot}const jN=new Set(["inline","contents"]);function Ai(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=dn(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!jN.has(s)}const CN=new Set(["table","td","th"]);function _N(e){return CN.has(ho(e))}const kN=[":popover-open",":modal"];function Xl(e){return kN.some(t=>{try{return e.matches(t)}catch{return!1}})}const NN=["transform","translate","scale","rotate","perspective"],EN=["transform","translate","scale","rotate","perspective","filter"],RN=["paint","layout","strict","content"];function uh(e){const t=dh(),n=un(e)?dn(e):e;return NN.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||EN.some(r=>(n.willChange||"").includes(r))||RN.some(r=>(n.contain||"").includes(r))}function TN(e){let t=Nr(e);for(;Tn(t)&&!to(t);){if(uh(t))return t;if(Xl(t))return null;t=Nr(t)}return null}function dh(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const PN=new Set(["html","body","#document"]);function to(e){return PN.has(ho(e))}function dn(e){return It(e).getComputedStyle(e)}function Ql(e){return un(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Nr(e){if(ho(e)==="html")return e;const t=e.assignedSlot||e.parentNode||$m(e)&&e.host||Pn(e);return $m(t)?t.host:t}function _y(e){const t=Nr(e);return to(t)?e.ownerDocument?e.ownerDocument.body:e.body:Tn(t)&&Ai(t)?t:_y(t)}function wi(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=_y(e),o=s===((r=e.ownerDocument)==null?void 0:r.body),a=It(s);if(o){const l=Td(a);return t.concat(a,a.visualViewport||[],Ai(s)?s:[],l&&n?wi(l):[])}return t.concat(s,wi(s,[],n))}function Td(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function ky(e){const t=dn(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Tn(e),o=s?e.offsetWidth:n,a=s?e.offsetHeight:r,l=ul(n)!==o||ul(r)!==a;return l&&(n=o,r=a),{width:n,height:r,$:l}}function fh(e){return un(e)?e:e.contextElement}function Hs(e){const t=fh(e);if(!Tn(t))return Rn(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:o}=ky(t);let a=(o?ul(n.width):n.width)/r,l=(o?ul(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const AN=Rn(0);function Ny(e){const t=It(e);return!dh()||!t.visualViewport?AN:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function IN(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==It(e)?!1:t}function ns(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),o=fh(e);let a=Rn(1);t&&(r?un(r)&&(a=Hs(r)):a=Hs(e));const l=IN(o,n,r)?Ny(o):Rn(0);let c=(s.left+l.x)/a.x,u=(s.top+l.y)/a.y,d=s.width/a.x,f=s.height/a.y;if(o){const p=It(o),g=r&&un(r)?It(r):r;let S=p,w=Td(S);for(;w&&r&&g!==S;){const j=Hs(w),m=w.getBoundingClientRect(),v=dn(w),x=m.left+(w.clientLeft+parseFloat(v.paddingLeft))*j.x,y=m.top+(w.clientTop+parseFloat(v.paddingTop))*j.y;c*=j.x,u*=j.y,d*=j.x,f*=j.y,c+=x,u+=y,S=It(w),w=Td(S)}}return fl({width:d,height:f,x:c,y:u})}function hh(e,t){const n=Ql(e).scrollLeft;return t?t.left+n:ns(Pn(e)).left+n}function Ey(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:hh(e,r)),o=r.top+t.scrollTop;return{x:s,y:o}}function ON(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const o=s==="fixed",a=Pn(r),l=t?Xl(t.floating):!1;if(r===a||l&&o)return n;let c={scrollLeft:0,scrollTop:0},u=Rn(1);const d=Rn(0),f=Tn(r);if((f||!f&&!o)&&((ho(r)!=="body"||Ai(a))&&(c=Ql(r)),Tn(r))){const g=ns(r);u=Hs(r),d.x=g.x+r.clientLeft,d.y=g.y+r.clientTop}const p=a&&!f&&!o?Ey(a,c,!0):Rn(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+p.x,y:n.y*u.y-c.scrollTop*u.y+d.y+p.y}}function DN(e){return Array.from(e.getClientRects())}function MN(e){const t=Pn(e),n=Ql(e),r=e.ownerDocument.body,s=Tt(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=Tt(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+hh(e);const l=-n.scrollTop;return dn(r).direction==="rtl"&&(a+=Tt(t.clientWidth,r.clientWidth)-s),{width:s,height:o,x:a,y:l}}function LN(e,t){const n=It(e),r=Pn(e),s=n.visualViewport;let o=r.clientWidth,a=r.clientHeight,l=0,c=0;if(s){o=s.width,a=s.height;const u=dh();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:o,height:a,x:l,y:c}}const $N=new Set(["absolute","fixed"]);function FN(e,t){const n=ns(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,o=Tn(e)?Hs(e):Rn(1),a=e.clientWidth*o.x,l=e.clientHeight*o.y,c=s*o.x,u=r*o.y;return{width:a,height:l,x:c,y:u}}function Fm(e,t,n){let r;if(t==="viewport")r=LN(e,n);else if(t==="document")r=MN(Pn(e));else if(un(t))r=FN(t,n);else{const s=Ny(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return fl(r)}function Ry(e,t){const n=Nr(e);return n===t||!un(n)||to(n)?!1:dn(n).position==="fixed"||Ry(n,t)}function zN(e,t){const n=t.get(e);if(n)return n;let r=wi(e,[],!1).filter(l=>un(l)&&ho(l)!=="body"),s=null;const o=dn(e).position==="fixed";let a=o?Nr(e):e;for(;un(a)&&!to(a);){const l=dn(a),c=uh(a);!c&&l.position==="fixed"&&(s=null),(o?!c&&!s:!c&&l.position==="static"&&!!s&&$N.has(s.position)||Ai(a)&&!c&&Ry(e,a))?r=r.filter(d=>d!==a):s=l,a=Nr(a)}return t.set(e,r),r}function UN(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const a=[...n==="clippingAncestors"?Xl(t)?[]:zN(t,this._c):[].concat(n),r],l=a[0],c=a.reduce((u,d)=>{const f=Fm(t,d,s);return u.top=Tt(f.top,u.top),u.right=kr(f.right,u.right),u.bottom=kr(f.bottom,u.bottom),u.left=Tt(f.left,u.left),u},Fm(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function BN(e){const{width:t,height:n}=ky(e);return{width:t,height:n}}function HN(e,t,n){const r=Tn(t),s=Pn(t),o=n==="fixed",a=ns(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const c=Rn(0);function u(){c.x=hh(s)}if(r||!r&&!o)if((ho(t)!=="body"||Ai(s))&&(l=Ql(t)),r){const g=ns(t,!0,o,t);c.x=g.x+t.clientLeft,c.y=g.y+t.clientTop}else s&&u();o&&!r&&s&&u();const d=s&&!r&&!o?Ey(s,l):Rn(0),f=a.left+l.scrollLeft-c.x-d.x,p=a.top+l.scrollTop-c.y-d.y;return{x:f,y:p,width:a.width,height:a.height}}function lu(e){return dn(e).position==="static"}function zm(e,t){if(!Tn(e)||dn(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Pn(e)===n&&(n=n.ownerDocument.body),n}function Ty(e,t){const n=It(e);if(Xl(e))return n;if(!Tn(e)){let s=Nr(e);for(;s&&!to(s);){if(un(s)&&!lu(s))return s;s=Nr(s)}return n}let r=zm(e,t);for(;r&&_N(r)&&lu(r);)r=zm(r,t);return r&&to(r)&&lu(r)&&!uh(r)?n:r||TN(e)||n}const VN=async function(e){const t=this.getOffsetParent||Ty,n=this.getDimensions,r=await n(e.floating);return{reference:HN(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function WN(e){return dn(e).direction==="rtl"}const KN={convertOffsetParentRelativeRectToViewportRelativeRect:ON,getDocumentElement:Pn,getClippingRect:UN,getOffsetParent:Ty,getElementRects:VN,getClientRects:DN,getDimensions:BN,getScale:Hs,isElement:un,isRTL:WN};function Py(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function GN(e,t){let n=null,r;const s=Pn(e);function o(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const u=e.getBoundingClientRect(),{left:d,top:f,width:p,height:g}=u;if(l||t(),!p||!g)return;const S=aa(f),w=aa(s.clientWidth-(d+p)),j=aa(s.clientHeight-(f+g)),m=aa(d),x={rootMargin:-S+"px "+-w+"px "+-j+"px "+-m+"px",threshold:Tt(0,kr(1,c))||1};let y=!0;function k(_){const b=_[0].intersectionRatio;if(b!==c){if(!y)return a();b?a(!1,b):r=setTimeout(()=>{a(!1,1e-7)},1e3)}b===1&&!Py(u,e.getBoundingClientRect())&&a(),y=!1}try{n=new IntersectionObserver(k,{...x,root:s.ownerDocument})}catch{n=new IntersectionObserver(k,x)}n.observe(e)}return a(!0),o}function qN(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=fh(e),d=s||o?[...u?wi(u):[],...wi(t)]:[];d.forEach(m=>{s&&m.addEventListener("scroll",n,{passive:!0}),o&&m.addEventListener("resize",n)});const f=u&&l?GN(u,n):null;let p=-1,g=null;a&&(g=new ResizeObserver(m=>{let[v]=m;v&&v.target===u&&g&&(g.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var x;(x=g)==null||x.observe(t)})),n()}),u&&!c&&g.observe(u),g.observe(t));let S,w=c?ns(e):null;c&&j();function j(){const m=ns(e);w&&!Py(w,m)&&n(),w=m,S=requestAnimationFrame(j)}return n(),()=>{var m;d.forEach(v=>{s&&v.removeEventListener("scroll",n),o&&v.removeEventListener("resize",n)}),f==null||f(),(m=g)==null||m.disconnect(),g=null,c&&cancelAnimationFrame(S)}}const YN=yN,JN=wN,XN=gN,QN=bN,ZN=vN,Um=mN,eE=SN,tE=(e,t,n)=>{const r=new Map,s={platform:KN,...n},o={...s.platform,_c:r};return pN(e,t,{...s,platform:o})};var nE=typeof document<"u",rE=function(){},Aa=nE?h.useLayoutEffect:rE;function hl(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!hl(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&e.$$typeof)&&!hl(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function Ay(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Bm(e,t){const n=Ay(e);return Math.round(t*n)/n}function cu(e){const t=h.useRef(e);return Aa(()=>{t.current=e}),t}function sE(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=h.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,g]=h.useState(r);hl(p,r)||g(r);const[S,w]=h.useState(null),[j,m]=h.useState(null),v=h.useCallback(I=>{I!==_.current&&(_.current=I,w(I))},[]),x=h.useCallback(I=>{I!==b.current&&(b.current=I,m(I))},[]),y=o||S,k=a||j,_=h.useRef(null),b=h.useRef(null),C=h.useRef(d),N=c!=null,R=cu(c),P=cu(s),T=cu(u),L=h.useCallback(()=>{if(!_.current||!b.current)return;const I={placement:t,strategy:n,middleware:p};P.current&&(I.platform=P.current),tE(_.current,b.current,I).then(E=>{const O={...E,isPositioned:T.current!==!1};F.current&&!hl(C.current,O)&&(C.current=O,co.flushSync(()=>{f(O)}))})},[p,t,n,P,T]);Aa(()=>{u===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(I=>({...I,isPositioned:!1})))},[u]);const F=h.useRef(!1);Aa(()=>(F.current=!0,()=>{F.current=!1}),[]),Aa(()=>{if(y&&(_.current=y),k&&(b.current=k),y&&k){if(R.current)return R.current(y,k,L);L()}},[y,k,L,R,N]);const V=h.useMemo(()=>({reference:_,floating:b,setReference:v,setFloating:x}),[v,x]),B=h.useMemo(()=>({reference:y,floating:k}),[y,k]),q=h.useMemo(()=>{const I={position:n,left:0,top:0};if(!B.floating)return I;const E=Bm(B.floating,d.x),O=Bm(B.floating,d.y);return l?{...I,transform:"translate("+E+"px, "+O+"px)",...Ay(B.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:E,top:O}},[n,l,B.floating,d.x,d.y]);return h.useMemo(()=>({...d,update:L,refs:V,elements:B,floatingStyles:q}),[d,L,V,B,q])}const oE=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Um({element:r.current,padding:s}).fn(n):{}:r?Um({element:r,padding:s}).fn(n):{}}}},iE=(e,t)=>({...YN(e),options:[e,t]}),aE=(e,t)=>({...JN(e),options:[e,t]}),lE=(e,t)=>({...eE(e),options:[e,t]}),cE=(e,t)=>({...XN(e),options:[e,t]}),uE=(e,t)=>({...QN(e),options:[e,t]}),dE=(e,t)=>({...ZN(e),options:[e,t]}),fE=(e,t)=>({...oE(e),options:[e,t]});var hE="Arrow",Iy=h.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...o}=e;return i.jsx(se.svg,{...o,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});Iy.displayName=hE;var pE=Iy;function Ii(e){const[t,n]=h.useState(void 0);return He(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let a,l;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,l=u.blockSize}else a=e.offsetWidth,l=e.offsetHeight;n({width:a,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var ph="Popper",[Oy,Zl]=st(ph),[mE,Dy]=Oy(ph),My=e=>{const{__scopePopper:t,children:n}=e,[r,s]=h.useState(null);return i.jsx(mE,{scope:t,anchor:r,onAnchorChange:s,children:n})};My.displayName=ph;var Ly="PopperAnchor",$y=h.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,o=Dy(Ly,n),a=h.useRef(null),l=fe(t,a);return h.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:i.jsx(se.div,{...s,ref:l})});$y.displayName=Ly;var mh="PopperContent",[gE,vE]=Oy(mh),Fy=h.forwardRef((e,t)=>{var Z,le,ge,pe,oe,ue;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:g="optimized",onPlaced:S,...w}=e,j=Dy(mh,n),[m,v]=h.useState(null),x=fe(t,A=>v(A)),[y,k]=h.useState(null),_=Ii(y),b=(_==null?void 0:_.width)??0,C=(_==null?void 0:_.height)??0,N=r+(o!=="center"?"-"+o:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},P=Array.isArray(u)?u:[u],T=P.length>0,L={padding:R,boundary:P.filter(yE),altBoundary:T},{refs:F,floatingStyles:V,placement:B,isPositioned:q,middlewareData:I}=sE({strategy:"fixed",placement:N,whileElementsMounted:(...A)=>qN(...A,{animationFrame:g==="always"}),elements:{reference:j.anchor},middleware:[iE({mainAxis:s+C,alignmentAxis:a}),c&&aE({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?lE():void 0,...L}),c&&cE({...L}),uE({...L,apply:({elements:A,rects:$,availableWidth:G,availableHeight:te})=>{const{width:M,height:Q}=$.reference,ee=A.floating.style;ee.setProperty("--radix-popper-available-width",`${G}px`),ee.setProperty("--radix-popper-available-height",`${te}px`),ee.setProperty("--radix-popper-anchor-width",`${M}px`),ee.setProperty("--radix-popper-anchor-height",`${Q}px`)}}),y&&fE({element:y,padding:l}),wE({arrowWidth:b,arrowHeight:C}),p&&dE({strategy:"referenceHidden",...L})]}),[E,O]=By(B),z=cn(S);He(()=>{q&&(z==null||z())},[q,z]);const H=(Z=I.arrow)==null?void 0:Z.x,J=(le=I.arrow)==null?void 0:le.y,K=((ge=I.arrow)==null?void 0:ge.centerOffset)!==0,[he,ie]=h.useState();return He(()=>{m&&ie(window.getComputedStyle(m).zIndex)},[m]),i.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...V,transform:q?V.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:he,"--radix-popper-transform-origin":[(pe=I.transformOrigin)==null?void 0:pe.x,(oe=I.transformOrigin)==null?void 0:oe.y].join(" "),...((ue=I.hide)==null?void 0:ue.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(gE,{scope:n,placedSide:E,onArrowChange:k,arrowX:H,arrowY:J,shouldHideArrow:K,children:i.jsx(se.div,{"data-side":E,"data-align":O,...w,ref:x,style:{...w.style,animation:q?void 0:"none"}})})})});Fy.displayName=mh;var zy="PopperArrow",xE={top:"bottom",right:"left",bottom:"top",left:"right"},Uy=h.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,o=vE(zy,r),a=xE[o.placedSide];return i.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:i.jsx(pE,{...s,ref:n,style:{...s.style,display:"block"}})})});Uy.displayName=zy;function yE(e){return e!==null}var wE=e=>({name:"transformOrigin",options:e,fn(t){var j,m,v;const{placement:n,rects:r,middlewareData:s}=t,a=((j=s.arrow)==null?void 0:j.centerOffset)!==0,l=a?0:e.arrowWidth,c=a?0:e.arrowHeight,[u,d]=By(n),f={start:"0%",center:"50%",end:"100%"}[d],p=(((m=s.arrow)==null?void 0:m.x)??0)+l/2,g=(((v=s.arrow)==null?void 0:v.y)??0)+c/2;let S="",w="";return u==="bottom"?(S=a?f:`${p}px`,w=`${-c}px`):u==="top"?(S=a?f:`${p}px`,w=`${r.floating.height+c}px`):u==="right"?(S=`${-c}px`,w=a?f:`${g}px`):u==="left"&&(S=`${r.floating.width+c}px`,w=a?f:`${g}px`),{data:{x:S,y:w}}}});function By(e){const[t,n="center"]=e.split("-");return[t,n]}var Hy=My,Vy=$y,Wy=Fy,Ky=Uy,SE="Portal",ec=h.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[s,o]=h.useState(!1);He(()=>o(!0),[]);const a=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?G_.createPortal(i.jsx(se.div,{...r,ref:t}),a):null});ec.displayName=SE;function bE(e,t){return h.useReducer((n,r)=>t[n][r]??n,e)}var qt=e=>{const{present:t,children:n}=e,r=jE(t),s=typeof n=="function"?n({present:r.isPresent}):h.Children.only(n),o=fe(r.ref,CE(s));return typeof n=="function"||r.isPresent?h.cloneElement(s,{ref:o}):null};qt.displayName="Presence";function jE(e){const[t,n]=h.useState(),r=h.useRef(null),s=h.useRef(e),o=h.useRef("none"),a=e?"mounted":"unmounted",[l,c]=bE(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const u=la(r.current);o.current=l==="mounted"?u:"none"},[l]),He(()=>{const u=r.current,d=s.current;if(d!==e){const p=o.current,g=la(u);e?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),He(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=g=>{const w=la(r.current).includes(g.animationName);if(g.target===t&&w&&(c("ANIMATION_END"),!s.current)){const j=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=j)})}},p=g=>{g.target===t&&(o.current=la(r.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:h.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function la(e){return(e==null?void 0:e.animationName)||"none"}function CE(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var uu="rovingFocusGroup.onEntryFocus",_E={bubbles:!1,cancelable:!0},Oi="RovingFocusGroup",[Pd,Gy,kE]=Pi(Oi),[NE,po]=st(Oi,[kE]),[EE,RE]=NE(Oi),qy=h.forwardRef((e,t)=>i.jsx(Pd.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx(Pd.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(TE,{...e,ref:t})})}));qy.displayName=Oi;var TE=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,p=h.useRef(null),g=fe(t,p),S=ls(o),[w,j]=Dt({prop:a,defaultProp:l??null,onChange:c,caller:Oi}),[m,v]=h.useState(!1),x=cn(u),y=Gy(n),k=h.useRef(!1),[_,b]=h.useState(0);return h.useEffect(()=>{const C=p.current;if(C)return C.addEventListener(uu,x),()=>C.removeEventListener(uu,x)},[x]),i.jsx(EE,{scope:n,orientation:r,dir:S,loop:s,currentTabStopId:w,onItemFocus:h.useCallback(C=>j(C),[j]),onItemShiftTab:h.useCallback(()=>v(!0),[]),onFocusableItemAdd:h.useCallback(()=>b(C=>C+1),[]),onFocusableItemRemove:h.useCallback(()=>b(C=>C-1),[]),children:i.jsx(se.div,{tabIndex:m||_===0?-1:0,"data-orientation":r,...f,ref:g,style:{outline:"none",...e.style},onMouseDown:ne(e.onMouseDown,()=>{k.current=!0}),onFocus:ne(e.onFocus,C=>{const N=!k.current;if(C.target===C.currentTarget&&N&&!m){const R=new CustomEvent(uu,_E);if(C.currentTarget.dispatchEvent(R),!R.defaultPrevented){const P=y().filter(B=>B.focusable),T=P.find(B=>B.active),L=P.find(B=>B.id===w),V=[T,L,...P].filter(Boolean).map(B=>B.ref.current);Xy(V,d)}}k.current=!1}),onBlur:ne(e.onBlur,()=>v(!1))})})}),Yy="RovingFocusGroupItem",Jy=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,children:a,...l}=e,c=Ht(),u=o||c,d=RE(Yy,n),f=d.currentTabStopId===u,p=Gy(n),{onFocusableItemAdd:g,onFocusableItemRemove:S,currentTabStopId:w}=d;return h.useEffect(()=>{if(r)return g(),()=>S()},[r,g,S]),i.jsx(Pd.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:i.jsx(se.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:ne(e.onMouseDown,j=>{r?d.onItemFocus(u):j.preventDefault()}),onFocus:ne(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:ne(e.onKeyDown,j=>{if(j.key==="Tab"&&j.shiftKey){d.onItemShiftTab();return}if(j.target!==j.currentTarget)return;const m=IE(j,d.orientation,d.dir);if(m!==void 0){if(j.metaKey||j.ctrlKey||j.altKey||j.shiftKey)return;j.preventDefault();let x=p().filter(y=>y.focusable).map(y=>y.ref.current);if(m==="last")x.reverse();else if(m==="prev"||m==="next"){m==="prev"&&x.reverse();const y=x.indexOf(j.currentTarget);x=d.loop?OE(x,y+1):x.slice(y+1)}setTimeout(()=>Xy(x))}}),children:typeof a=="function"?a({isCurrentTabStop:f,hasTabStop:w!=null}):a})})});Jy.displayName=Yy;var PE={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function AE(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function IE(e,t,n){const r=AE(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return PE[r]}function Xy(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function OE(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var gh=qy,vh=Jy,DE=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},hs=new WeakMap,ca=new WeakMap,ua={},du=0,Qy=function(e){return e&&(e.host||Qy(e.parentNode))},ME=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=Qy(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},LE=function(e,t,n,r){var s=ME(t,Array.isArray(e)?e:[e]);ua[n]||(ua[n]=new WeakMap);var o=ua[n],a=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(p){if(l.has(p))d(p);else try{var g=p.getAttribute(r),S=g!==null&&g!=="false",w=(hs.get(p)||0)+1,j=(o.get(p)||0)+1;hs.set(p,w),o.set(p,j),a.push(p),w===1&&S&&ca.set(p,!0),j===1&&p.setAttribute(n,"true"),S||p.setAttribute(r,"true")}catch(m){console.error("aria-hidden: cannot operate on ",p,m)}})};return d(t),l.clear(),du++,function(){a.forEach(function(f){var p=hs.get(f)-1,g=o.get(f)-1;hs.set(f,p),o.set(f,g),p||(ca.has(f)||f.removeAttribute(r),ca.delete(f)),g||f.removeAttribute(n)}),du--,du||(hs=new WeakMap,hs=new WeakMap,ca=new WeakMap,ua={})}},xh=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=DE(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),LE(r,s,n,"aria-hidden")):function(){return null}},jn=function(){return jn=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},jn.apply(this,arguments)};function Zy(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function $E(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var Ia="right-scroll-bar-position",Oa="width-before-scroll-bar",FE="with-scroll-bars-hidden",zE="--removed-body-scroll-bar-size";function fu(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function UE(e,t){var n=h.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var BE=typeof window<"u"?h.useLayoutEffect:h.useEffect,Hm=new WeakMap;function HE(e,t){var n=UE(null,function(r){return e.forEach(function(s){return fu(s,r)})});return BE(function(){var r=Hm.get(n);if(r){var s=new Set(r),o=new Set(e),a=n.current;s.forEach(function(l){o.has(l)||fu(l,null)}),o.forEach(function(l){s.has(l)||fu(l,a)})}Hm.set(n,e)},[e]),n}function VE(e){return e}function WE(e,t){t===void 0&&(t=VE);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var a=t(o,r);return n.push(a),function(){n=n.filter(function(l){return l!==a})}},assignSyncMedium:function(o){for(r=!0;n.length;){var a=n;n=[],a.forEach(o)}n={push:function(l){return o(l)},filter:function(){return n}}},assignMedium:function(o){r=!0;var a=[];if(n.length){var l=n;n=[],l.forEach(o),a=n}var c=function(){var d=a;a=[],d.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),n}}}};return s}function KE(e){e===void 0&&(e={});var t=WE(null);return t.options=jn({async:!0,ssr:!1},e),t}var ew=function(e){var t=e.sideCar,n=Zy(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return h.createElement(r,jn({},n))};ew.isSideCarExport=!0;function GE(e,t){return e.useMedium(t),ew}var tw=KE(),hu=function(){},tc=h.forwardRef(function(e,t){var n=h.useRef(null),r=h.useState({onScrollCapture:hu,onWheelCapture:hu,onTouchMoveCapture:hu}),s=r[0],o=r[1],a=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,p=e.sideCar,g=e.noRelative,S=e.noIsolation,w=e.inert,j=e.allowPinchZoom,m=e.as,v=m===void 0?"div":m,x=e.gapMode,y=Zy(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=p,_=HE([n,t]),b=jn(jn({},y),s);return h.createElement(h.Fragment,null,d&&h.createElement(k,{sideCar:tw,removeScrollBar:u,shards:f,noRelative:g,noIsolation:S,inert:w,setCallbacks:o,allowPinchZoom:!!j,lockRef:n,gapMode:x}),a?h.cloneElement(h.Children.only(l),jn(jn({},b),{ref:_})):h.createElement(v,jn({},b,{className:c,ref:_}),l))});tc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};tc.classNames={fullWidth:Oa,zeroRight:Ia};var qE=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function YE(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=qE();return t&&e.setAttribute("nonce",t),e}function JE(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function XE(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var QE=function(){var e=0,t=null;return{add:function(n){e==0&&(t=YE())&&(JE(t,n),XE(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},ZE=function(){var e=QE();return function(t,n){h.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},nw=function(){var e=ZE(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},eR={left:0,top:0,right:0,gap:0},pu=function(e){return parseInt(e||"",10)||0},tR=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[pu(n),pu(r),pu(s)]},nR=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return eR;var t=tR(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},rR=nw(),Vs="data-scroll-locked",sR=function(e,t,n,r){var s=e.left,o=e.top,a=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(FE,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Vs,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ia,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Oa,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Ia," .").concat(Ia,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Oa," .").concat(Oa,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Vs,`] {
    `).concat(zE,": ").concat(l,`px;
  }
`)},Vm=function(){var e=parseInt(document.body.getAttribute(Vs)||"0",10);return isFinite(e)?e:0},oR=function(){h.useEffect(function(){return document.body.setAttribute(Vs,(Vm()+1).toString()),function(){var e=Vm()-1;e<=0?document.body.removeAttribute(Vs):document.body.setAttribute(Vs,e.toString())}},[])},iR=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;oR();var o=h.useMemo(function(){return nR(s)},[s]);return h.createElement(rR,{styles:sR(o,!t,s,n?"":"!important")})},Ad=!1;if(typeof window<"u")try{var da=Object.defineProperty({},"passive",{get:function(){return Ad=!0,!0}});window.addEventListener("test",da,da),window.removeEventListener("test",da,da)}catch{Ad=!1}var ps=Ad?{passive:!1}:!1,aR=function(e){return e.tagName==="TEXTAREA"},rw=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!aR(e)&&n[t]==="visible")},lR=function(e){return rw(e,"overflowY")},cR=function(e){return rw(e,"overflowX")},Wm=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=sw(e,r);if(s){var o=ow(e,r),a=o[1],l=o[2];if(a>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},uR=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},dR=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},sw=function(e,t){return e==="v"?lR(t):cR(t)},ow=function(e,t){return e==="v"?uR(t):dR(t)},fR=function(e,t){return e==="h"&&t==="rtl"?-1:1},hR=function(e,t,n,r,s){var o=fR(e,window.getComputedStyle(t).direction),a=o*r,l=n.target,c=t.contains(l),u=!1,d=a>0,f=0,p=0;do{if(!l)break;var g=ow(e,l),S=g[0],w=g[1],j=g[2],m=w-j-o*S;(S||m)&&sw(e,l)&&(f+=m,p+=S);var v=l.parentNode;l=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(p)<1)&&(u=!0),u},fa=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Km=function(e){return[e.deltaX,e.deltaY]},Gm=function(e){return e&&"current"in e?e.current:e},pR=function(e,t){return e[0]===t[0]&&e[1]===t[1]},mR=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},gR=0,ms=[];function vR(e){var t=h.useRef([]),n=h.useRef([0,0]),r=h.useRef(),s=h.useState(gR++)[0],o=h.useState(nw)[0],a=h.useRef(e);h.useEffect(function(){a.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var w=$E([e.lockRef.current],(e.shards||[]).map(Gm),!0).filter(Boolean);return w.forEach(function(j){return j.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),w.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=h.useCallback(function(w,j){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!a.current.allowPinchZoom;var m=fa(w),v=n.current,x="deltaX"in w?w.deltaX:v[0]-m[0],y="deltaY"in w?w.deltaY:v[1]-m[1],k,_=w.target,b=Math.abs(x)>Math.abs(y)?"h":"v";if("touches"in w&&b==="h"&&_.type==="range")return!1;var C=Wm(b,_);if(!C)return!0;if(C?k=b:(k=b==="v"?"h":"v",C=Wm(b,_)),!C)return!1;if(!r.current&&"changedTouches"in w&&(x||y)&&(r.current=k),!k)return!0;var N=r.current||k;return hR(N,j,w,N==="h"?x:y)},[]),c=h.useCallback(function(w){var j=w;if(!(!ms.length||ms[ms.length-1]!==o)){var m="deltaY"in j?Km(j):fa(j),v=t.current.filter(function(k){return k.name===j.type&&(k.target===j.target||j.target===k.shadowParent)&&pR(k.delta,m)})[0];if(v&&v.should){j.cancelable&&j.preventDefault();return}if(!v){var x=(a.current.shards||[]).map(Gm).filter(Boolean).filter(function(k){return k.contains(j.target)}),y=x.length>0?l(j,x[0]):!a.current.noIsolation;y&&j.cancelable&&j.preventDefault()}}},[]),u=h.useCallback(function(w,j,m,v){var x={name:w,delta:j,target:m,should:v,shadowParent:xR(m)};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(y){return y!==x})},1)},[]),d=h.useCallback(function(w){n.current=fa(w),r.current=void 0},[]),f=h.useCallback(function(w){u(w.type,Km(w),w.target,l(w,e.lockRef.current))},[]),p=h.useCallback(function(w){u(w.type,fa(w),w.target,l(w,e.lockRef.current))},[]);h.useEffect(function(){return ms.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",c,ps),document.addEventListener("touchmove",c,ps),document.addEventListener("touchstart",d,ps),function(){ms=ms.filter(function(w){return w!==o}),document.removeEventListener("wheel",c,ps),document.removeEventListener("touchmove",c,ps),document.removeEventListener("touchstart",d,ps)}},[]);var g=e.removeScrollBar,S=e.inert;return h.createElement(h.Fragment,null,S?h.createElement(o,{styles:mR(s)}):null,g?h.createElement(iR,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function xR(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const yR=GE(tw,vR);var nc=h.forwardRef(function(e,t){return h.createElement(tc,jn({},e,{ref:t,sideCar:yR}))});nc.classNames=tc.classNames;var Id=["Enter"," "],wR=["ArrowDown","PageUp","Home"],iw=["ArrowUp","PageDown","End"],SR=[...wR,...iw],bR={ltr:[...Id,"ArrowRight"],rtl:[...Id,"ArrowLeft"]},jR={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Di="Menu",[Si,CR,_R]=Pi(Di),[cs,aw]=st(Di,[_R,Zl,po]),rc=Zl(),lw=po(),[kR,us]=cs(Di),[NR,Mi]=cs(Di),cw=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:s,onOpenChange:o,modal:a=!0}=e,l=rc(t),[c,u]=h.useState(null),d=h.useRef(!1),f=cn(o),p=ls(s);return h.useEffect(()=>{const g=()=>{d.current=!0,document.addEventListener("pointerdown",S,{capture:!0,once:!0}),document.addEventListener("pointermove",S,{capture:!0,once:!0})},S=()=>d.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",S,{capture:!0}),document.removeEventListener("pointermove",S,{capture:!0})}},[]),i.jsx(Hy,{...l,children:i.jsx(kR,{scope:t,open:n,onOpenChange:f,content:c,onContentChange:u,children:i.jsx(NR,{scope:t,onClose:h.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:p,modal:a,children:r})})})};cw.displayName=Di;var ER="MenuAnchor",yh=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=rc(n);return i.jsx(Vy,{...s,...r,ref:t})});yh.displayName=ER;var wh="MenuPortal",[RR,uw]=cs(wh,{forceMount:void 0}),dw=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:s}=e,o=us(wh,t);return i.jsx(RR,{scope:t,forceMount:n,children:i.jsx(qt,{present:n||o.open,children:i.jsx(ec,{asChild:!0,container:s,children:r})})})};dw.displayName=wh;var Vt="MenuContent",[TR,Sh]=cs(Vt),fw=h.forwardRef((e,t)=>{const n=uw(Vt,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,o=us(Vt,e.__scopeMenu),a=Mi(Vt,e.__scopeMenu);return i.jsx(Si.Provider,{scope:e.__scopeMenu,children:i.jsx(qt,{present:r||o.open,children:i.jsx(Si.Slot,{scope:e.__scopeMenu,children:a.modal?i.jsx(PR,{...s,ref:t}):i.jsx(AR,{...s,ref:t})})})})}),PR=h.forwardRef((e,t)=>{const n=us(Vt,e.__scopeMenu),r=h.useRef(null),s=fe(t,r);return h.useEffect(()=>{const o=r.current;if(o)return xh(o)},[]),i.jsx(bh,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ne(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),AR=h.forwardRef((e,t)=>{const n=us(Vt,e.__scopeMenu);return i.jsx(bh,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),IR=ts("MenuContent.ScrollLock"),bh=h.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:p,onDismiss:g,disableOutsideScroll:S,...w}=e,j=us(Vt,n),m=Mi(Vt,n),v=rc(n),x=lw(n),y=CR(n),[k,_]=h.useState(null),b=h.useRef(null),C=fe(t,b,j.onContentChange),N=h.useRef(0),R=h.useRef(""),P=h.useRef(0),T=h.useRef(null),L=h.useRef("right"),F=h.useRef(0),V=S?nc:h.Fragment,B=S?{as:IR,allowPinchZoom:!0}:void 0,q=E=>{var Z,le;const O=R.current+E,z=y().filter(ge=>!ge.disabled),H=document.activeElement,J=(Z=z.find(ge=>ge.ref.current===H))==null?void 0:Z.textValue,K=z.map(ge=>ge.textValue),he=WR(K,O,J),ie=(le=z.find(ge=>ge.textValue===he))==null?void 0:le.ref.current;(function ge(pe){R.current=pe,window.clearTimeout(N.current),pe!==""&&(N.current=window.setTimeout(()=>ge(""),1e3))})(O),ie&&setTimeout(()=>ie.focus())};h.useEffect(()=>()=>window.clearTimeout(N.current),[]),ih();const I=h.useCallback(E=>{var z,H;return L.current===((z=T.current)==null?void 0:z.side)&&GR(E,(H=T.current)==null?void 0:H.area)},[]);return i.jsx(TR,{scope:n,searchRef:R,onItemEnter:h.useCallback(E=>{I(E)&&E.preventDefault()},[I]),onItemLeave:h.useCallback(E=>{var O;I(E)||((O=b.current)==null||O.focus(),_(null))},[I]),onTriggerLeave:h.useCallback(E=>{I(E)&&E.preventDefault()},[I]),pointerGraceTimerRef:P,onPointerGraceIntentChange:h.useCallback(E=>{T.current=E},[]),children:i.jsx(V,{...B,children:i.jsx(Yl,{asChild:!0,trapped:s,onMountAutoFocus:ne(o,E=>{var O;E.preventDefault(),(O=b.current)==null||O.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:i.jsx(ql,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:p,onDismiss:g,children:i.jsx(gh,{asChild:!0,...x,dir:m.dir,orientation:"vertical",loop:r,currentTabStopId:k,onCurrentTabStopIdChange:_,onEntryFocus:ne(c,E=>{m.isUsingKeyboardRef.current||E.preventDefault()}),preventScrollOnEntryFocus:!0,children:i.jsx(Wy,{role:"menu","aria-orientation":"vertical","data-state":Ew(j.open),"data-radix-menu-content":"",dir:m.dir,...v,...w,ref:C,style:{outline:"none",...w.style},onKeyDown:ne(w.onKeyDown,E=>{const z=E.target.closest("[data-radix-menu-content]")===E.currentTarget,H=E.ctrlKey||E.altKey||E.metaKey,J=E.key.length===1;z&&(E.key==="Tab"&&E.preventDefault(),!H&&J&&q(E.key));const K=b.current;if(E.target!==K||!SR.includes(E.key))return;E.preventDefault();const ie=y().filter(Z=>!Z.disabled).map(Z=>Z.ref.current);iw.includes(E.key)&&ie.reverse(),HR(ie)}),onBlur:ne(e.onBlur,E=>{E.currentTarget.contains(E.target)||(window.clearTimeout(N.current),R.current="")}),onPointerMove:ne(e.onPointerMove,bi(E=>{const O=E.target,z=F.current!==E.clientX;if(E.currentTarget.contains(O)&&z){const H=E.clientX>F.current?"right":"left";L.current=H,F.current=E.clientX}}))})})})})})})});fw.displayName=Vt;var OR="MenuGroup",jh=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return i.jsx(se.div,{role:"group",...r,ref:t})});jh.displayName=OR;var DR="MenuLabel",hw=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return i.jsx(se.div,{...r,ref:t})});hw.displayName=DR;var pl="MenuItem",qm="menu.itemSelect",sc=h.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...s}=e,o=h.useRef(null),a=Mi(pl,e.__scopeMenu),l=Sh(pl,e.__scopeMenu),c=fe(t,o),u=h.useRef(!1),d=()=>{const f=o.current;if(!n&&f){const p=new CustomEvent(qm,{bubbles:!0,cancelable:!0});f.addEventListener(qm,g=>r==null?void 0:r(g),{once:!0}),xy(f,p),p.defaultPrevented?u.current=!1:a.onClose()}};return i.jsx(pw,{...s,ref:c,disabled:n,onClick:ne(e.onClick,d),onPointerDown:f=>{var p;(p=e.onPointerDown)==null||p.call(e,f),u.current=!0},onPointerUp:ne(e.onPointerUp,f=>{var p;u.current||(p=f.currentTarget)==null||p.click()}),onKeyDown:ne(e.onKeyDown,f=>{const p=l.searchRef.current!=="";n||p&&f.key===" "||Id.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});sc.displayName=pl;var pw=h.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...o}=e,a=Sh(pl,n),l=lw(n),c=h.useRef(null),u=fe(t,c),[d,f]=h.useState(!1),[p,g]=h.useState("");return h.useEffect(()=>{const S=c.current;S&&g((S.textContent??"").trim())},[o.children]),i.jsx(Si.ItemSlot,{scope:n,disabled:r,textValue:s??p,children:i.jsx(vh,{asChild:!0,...l,focusable:!r,children:i.jsx(se.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:u,onPointerMove:ne(e.onPointerMove,bi(S=>{r?a.onItemLeave(S):(a.onItemEnter(S),S.defaultPrevented||S.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ne(e.onPointerLeave,bi(S=>a.onItemLeave(S))),onFocus:ne(e.onFocus,()=>f(!0)),onBlur:ne(e.onBlur,()=>f(!1))})})})}),MR="MenuCheckboxItem",mw=h.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...s}=e;return i.jsx(ww,{scope:e.__scopeMenu,checked:n,children:i.jsx(sc,{role:"menuitemcheckbox","aria-checked":ml(n)?"mixed":n,...s,ref:t,"data-state":_h(n),onSelect:ne(s.onSelect,()=>r==null?void 0:r(ml(n)?!0:!n),{checkForDefaultPrevented:!1})})})});mw.displayName=MR;var gw="MenuRadioGroup",[LR,$R]=cs(gw,{value:void 0,onValueChange:()=>{}}),vw=h.forwardRef((e,t)=>{const{value:n,onValueChange:r,...s}=e,o=cn(r);return i.jsx(LR,{scope:e.__scopeMenu,value:n,onValueChange:o,children:i.jsx(jh,{...s,ref:t})})});vw.displayName=gw;var xw="MenuRadioItem",yw=h.forwardRef((e,t)=>{const{value:n,...r}=e,s=$R(xw,e.__scopeMenu),o=n===s.value;return i.jsx(ww,{scope:e.__scopeMenu,checked:o,children:i.jsx(sc,{role:"menuitemradio","aria-checked":o,...r,ref:t,"data-state":_h(o),onSelect:ne(r.onSelect,()=>{var a;return(a=s.onValueChange)==null?void 0:a.call(s,n)},{checkForDefaultPrevented:!1})})})});yw.displayName=xw;var Ch="MenuItemIndicator",[ww,FR]=cs(Ch,{checked:!1}),Sw=h.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...s}=e,o=FR(Ch,n);return i.jsx(qt,{present:r||ml(o.checked)||o.checked===!0,children:i.jsx(se.span,{...s,ref:t,"data-state":_h(o.checked)})})});Sw.displayName=Ch;var zR="MenuSeparator",bw=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return i.jsx(se.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});bw.displayName=zR;var UR="MenuArrow",jw=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=rc(n);return i.jsx(Ky,{...s,...r,ref:t})});jw.displayName=UR;var BR="MenuSub",[RM,Cw]=cs(BR),$o="MenuSubTrigger",_w=h.forwardRef((e,t)=>{const n=us($o,e.__scopeMenu),r=Mi($o,e.__scopeMenu),s=Cw($o,e.__scopeMenu),o=Sh($o,e.__scopeMenu),a=h.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=o,u={__scopeMenu:e.__scopeMenu},d=h.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return h.useEffect(()=>d,[d]),h.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),i.jsx(yh,{asChild:!0,...u,children:i.jsx(pw,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":Ew(n.open),...e,ref:Kl(t,s.onTriggerChange),onClick:f=>{var p;(p=e.onClick)==null||p.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ne(e.onPointerMove,bi(f=>{o.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!a.current&&(o.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:ne(e.onPointerLeave,bi(f=>{var g,S;d();const p=(g=n.content)==null?void 0:g.getBoundingClientRect();if(p){const w=(S=n.content)==null?void 0:S.dataset.side,j=w==="right",m=j?-5:5,v=p[j?"left":"right"],x=p[j?"right":"left"];o.onPointerGraceIntentChange({area:[{x:f.clientX+m,y:f.clientY},{x:v,y:p.top},{x,y:p.top},{x,y:p.bottom},{x:v,y:p.bottom}],side:w}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(f),f.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:ne(e.onKeyDown,f=>{var g;const p=o.searchRef.current!=="";e.disabled||p&&f.key===" "||bR[r.dir].includes(f.key)&&(n.onOpenChange(!0),(g=n.content)==null||g.focus(),f.preventDefault())})})})});_w.displayName=$o;var kw="MenuSubContent",Nw=h.forwardRef((e,t)=>{const n=uw(Vt,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,o=us(Vt,e.__scopeMenu),a=Mi(Vt,e.__scopeMenu),l=Cw(kw,e.__scopeMenu),c=h.useRef(null),u=fe(t,c);return i.jsx(Si.Provider,{scope:e.__scopeMenu,children:i.jsx(qt,{present:r||o.open,children:i.jsx(Si.Slot,{scope:e.__scopeMenu,children:i.jsx(bh,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;a.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:ne(e.onFocusOutside,d=>{d.target!==l.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:ne(e.onEscapeKeyDown,d=>{a.onClose(),d.preventDefault()}),onKeyDown:ne(e.onKeyDown,d=>{var g;const f=d.currentTarget.contains(d.target),p=jR[a.dir].includes(d.key);f&&p&&(o.onOpenChange(!1),(g=l.trigger)==null||g.focus(),d.preventDefault())})})})})})});Nw.displayName=kw;function Ew(e){return e?"open":"closed"}function ml(e){return e==="indeterminate"}function _h(e){return ml(e)?"indeterminate":e?"checked":"unchecked"}function HR(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function VR(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function WR(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let a=VR(e,Math.max(o,0));s.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function KR(e,t){const{x:n,y:r}=e;let s=!1;for(let o=0,a=t.length-1;o<t.length;a=o++){const l=t[o],c=t[a],u=l.x,d=l.y,f=c.x,p=c.y;d>r!=p>r&&n<(f-u)*(r-d)/(p-d)+u&&(s=!s)}return s}function GR(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return KR(n,t)}function bi(e){return t=>t.pointerType==="mouse"?e(t):void 0}var qR=cw,YR=yh,JR=dw,XR=fw,QR=jh,ZR=hw,e2=sc,t2=mw,n2=vw,r2=yw,s2=Sw,o2=bw,i2=jw,a2=_w,l2=Nw,oc="DropdownMenu",[c2,TM]=st(oc,[aw]),yt=aw(),[u2,Rw]=c2(oc),Tw=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:s,defaultOpen:o,onOpenChange:a,modal:l=!0}=e,c=yt(t),u=h.useRef(null),[d,f]=Dt({prop:s,defaultProp:o??!1,onChange:a,caller:oc});return i.jsx(u2,{scope:t,triggerId:Ht(),triggerRef:u,contentId:Ht(),open:d,onOpenChange:f,onOpenToggle:h.useCallback(()=>f(p=>!p),[f]),modal:l,children:i.jsx(qR,{...c,open:d,onOpenChange:f,dir:r,modal:l,children:n})})};Tw.displayName=oc;var Pw="DropdownMenuTrigger",Aw=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=e,o=Rw(Pw,n),a=yt(n);return i.jsx(YR,{asChild:!0,...a,children:i.jsx(se.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Kl(t,o.triggerRef),onPointerDown:ne(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(o.onOpenToggle(),o.open||l.preventDefault())}),onKeyDown:ne(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&o.onOpenToggle(),l.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});Aw.displayName=Pw;var d2="DropdownMenuPortal",Iw=e=>{const{__scopeDropdownMenu:t,...n}=e,r=yt(t);return i.jsx(JR,{...r,...n})};Iw.displayName=d2;var Ow="DropdownMenuContent",Dw=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Rw(Ow,n),o=yt(n),a=h.useRef(!1);return i.jsx(XR,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...r,ref:t,onCloseAutoFocus:ne(e.onCloseAutoFocus,l=>{var c;a.current||(c=s.triggerRef.current)==null||c.focus(),a.current=!1,l.preventDefault()}),onInteractOutside:ne(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(a.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Dw.displayName=Ow;var f2="DropdownMenuGroup",h2=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=yt(n);return i.jsx(QR,{...s,...r,ref:t})});h2.displayName=f2;var p2="DropdownMenuLabel",Mw=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=yt(n);return i.jsx(ZR,{...s,...r,ref:t})});Mw.displayName=p2;var m2="DropdownMenuItem",Lw=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=yt(n);return i.jsx(e2,{...s,...r,ref:t})});Lw.displayName=m2;var g2="DropdownMenuCheckboxItem",$w=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=yt(n);return i.jsx(t2,{...s,...r,ref:t})});$w.displayName=g2;var v2="DropdownMenuRadioGroup",x2=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=yt(n);return i.jsx(n2,{...s,...r,ref:t})});x2.displayName=v2;var y2="DropdownMenuRadioItem",Fw=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=yt(n);return i.jsx(r2,{...s,...r,ref:t})});Fw.displayName=y2;var w2="DropdownMenuItemIndicator",zw=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=yt(n);return i.jsx(s2,{...s,...r,ref:t})});zw.displayName=w2;var S2="DropdownMenuSeparator",Uw=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=yt(n);return i.jsx(o2,{...s,...r,ref:t})});Uw.displayName=S2;var b2="DropdownMenuArrow",j2=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=yt(n);return i.jsx(i2,{...s,...r,ref:t})});j2.displayName=b2;var C2="DropdownMenuSubTrigger",Bw=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=yt(n);return i.jsx(a2,{...s,...r,ref:t})});Bw.displayName=C2;var _2="DropdownMenuSubContent",Hw=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=yt(n);return i.jsx(l2,{...s,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Hw.displayName=_2;var k2=Tw,N2=Aw,E2=Iw,Vw=Dw,Ww=Mw,Kw=Lw,Gw=$w,qw=Fw,Yw=zw,Jw=Uw,Xw=Bw,Qw=Hw;/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Zw=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var T2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=h.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:a,...l},c)=>h.createElement("svg",{ref:c,...T2,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Zw("lucide",s),...l},[...a.map(([u,d])=>h.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=(e,t)=>{const n=h.forwardRef(({className:r,...s},o)=>h.createElement(P2,{ref:o,iconNode:t,className:Zw(`lucide-${R2(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=we("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=we("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=we("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=we("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ic=we("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kh=we("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=we("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=we("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=we("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e0=we("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=we("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=we("CloudDownload",[["path",{d:"M12 13v8l-4-4",key:"1f5nwf"}],["path",{d:"m12 21 4-4",key:"1lfcce"}],["path",{d:"M4.393 15.269A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.436 8.284",key:"ui1hmy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ym=we("CloudUpload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=we("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=we("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Od=we("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=we("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=we("Expand",[["path",{d:"m21 21-6-6m6 6v-4.8m0 4.8h-4.8",key:"1c15vz"}],["path",{d:"M3 16.2V21m0 0h4.8M3 21l6-6",key:"1fsnz2"}],["path",{d:"M21 7.8V3m0 0h-4.8M21 3l-6 6",key:"hawz9i"}],["path",{d:"M3 7.8V3m0 0h4.8M3 3l6 6",key:"u9ee12"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=we("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=we("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=we("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=we("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=we("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=we("Move",[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=we("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=we("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=we("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=we("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qm=we("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=we("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nh=we("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=we("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const no=we("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=we("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=we("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t0=we("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),n0=k2,r0=N2,J2=h.forwardRef(({className:e,inset:t,children:n,...r},s)=>i.jsxs(Xw,{ref:s,className:D("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,i.jsx(M2,{className:"ml-auto h-4 w-4"})]}));J2.displayName=Xw.displayName;const X2=h.forwardRef(({className:e,...t},n)=>i.jsx(Qw,{ref:n,className:D("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));X2.displayName=Qw.displayName;const Eh=h.forwardRef(({className:e,sideOffset:t=4,...n},r)=>i.jsx(E2,{children:i.jsx(Vw,{ref:r,sideOffset:t,className:D("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Eh.displayName=Vw.displayName;const en=h.forwardRef(({className:e,inset:t,...n},r)=>i.jsx(Kw,{ref:r,className:D("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));en.displayName=Kw.displayName;const Q2=h.forwardRef(({className:e,children:t,checked:n,...r},s)=>i.jsxs(Gw,{ref:s,className:D("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(Yw,{children:i.jsx(ic,{className:"h-4 w-4"})})}),t]}));Q2.displayName=Gw.displayName;const Z2=h.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(qw,{ref:r,className:D("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(Yw,{children:i.jsx(e0,{className:"h-2 w-2 fill-current"})})}),t]}));Z2.displayName=qw.displayName;const eT=h.forwardRef(({className:e,inset:t,...n},r)=>i.jsx(Ww,{ref:r,className:D("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));eT.displayName=Ww.displayName;const Fo=h.forwardRef(({className:e,...t},n)=>i.jsx(Jw,{ref:n,className:D("-mx-1 my-1 h-px bg-muted",e),...t}));Fo.displayName=Jw.displayName;var ac="Dialog",[s0,o0]=st(ac),[tT,hn]=s0(ac),i0=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:a=!0}=e,l=h.useRef(null),c=h.useRef(null),[u,d]=Dt({prop:r,defaultProp:s??!1,onChange:o,caller:ac});return i.jsx(tT,{scope:t,triggerRef:l,contentRef:c,contentId:Ht(),titleId:Ht(),descriptionId:Ht(),open:u,onOpenChange:d,onOpenToggle:h.useCallback(()=>d(f=>!f),[d]),modal:a,children:n})};i0.displayName=ac;var a0="DialogTrigger",l0=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=hn(a0,n),o=fe(t,s.triggerRef);return i.jsx(se.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Ph(s.open),...r,ref:o,onClick:ne(e.onClick,s.onOpenToggle)})});l0.displayName=a0;var Rh="DialogPortal",[nT,c0]=s0(Rh,{forceMount:void 0}),u0=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,o=hn(Rh,t);return i.jsx(nT,{scope:t,forceMount:n,children:h.Children.map(r,a=>i.jsx(qt,{present:n||o.open,children:i.jsx(ec,{asChild:!0,container:s,children:a})}))})};u0.displayName=Rh;var gl="DialogOverlay",d0=h.forwardRef((e,t)=>{const n=c0(gl,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=hn(gl,e.__scopeDialog);return o.modal?i.jsx(qt,{present:r||o.open,children:i.jsx(sT,{...s,ref:t})}):null});d0.displayName=gl;var rT=ts("DialogOverlay.RemoveScroll"),sT=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=hn(gl,n);return i.jsx(nc,{as:rT,allowPinchZoom:!0,shards:[s.contentRef],children:i.jsx(se.div,{"data-state":Ph(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),rs="DialogContent",f0=h.forwardRef((e,t)=>{const n=c0(rs,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=hn(rs,e.__scopeDialog);return i.jsx(qt,{present:r||o.open,children:o.modal?i.jsx(oT,{...s,ref:t}):i.jsx(iT,{...s,ref:t})})});f0.displayName=rs;var oT=h.forwardRef((e,t)=>{const n=hn(rs,e.__scopeDialog),r=h.useRef(null),s=fe(t,n.contentRef,r);return h.useEffect(()=>{const o=r.current;if(o)return xh(o)},[]),i.jsx(h0,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ne(e.onCloseAutoFocus,o=>{var a;o.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:ne(e.onPointerDownOutside,o=>{const a=o.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&o.preventDefault()}),onFocusOutside:ne(e.onFocusOutside,o=>o.preventDefault())})}),iT=h.forwardRef((e,t)=>{const n=hn(rs,e.__scopeDialog),r=h.useRef(!1),s=h.useRef(!1);return i.jsx(h0,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var a,l;(a=e.onCloseAutoFocus)==null||a.call(e,o),o.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),h0=h.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...a}=e,l=hn(rs,n),c=h.useRef(null),u=fe(t,c);return ih(),i.jsxs(i.Fragment,{children:[i.jsx(Yl,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:i.jsx(ql,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Ph(l.open),...a,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(lT,{titleId:l.titleId}),i.jsx(uT,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Th="DialogTitle",p0=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=hn(Th,n);return i.jsx(se.h2,{id:s.titleId,...r,ref:t})});p0.displayName=Th;var m0="DialogDescription",g0=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=hn(m0,n);return i.jsx(se.p,{id:s.descriptionId,...r,ref:t})});g0.displayName=m0;var v0="DialogClose",x0=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=hn(v0,n);return i.jsx(se.button,{type:"button",...r,ref:t,onClick:ne(e.onClick,()=>s.onOpenChange(!1))})});x0.displayName=v0;function Ph(e){return e?"open":"closed"}var y0="DialogTitleWarning",[aT,w0]=Ik(y0,{contentName:rs,titleName:Th,docsSlug:"dialog"}),lT=({titleId:e})=>{const t=w0(y0),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return h.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},cT="DialogDescriptionWarning",uT=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${w0(cT).contentName}}.`;return h.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},Ah=i0,S0=l0,Ih=u0,lc=d0,cc=f0,uc=p0,dc=g0,Li=x0;const wt=Ah,b0=S0,dT=Ih,fT=Li,j0=h.forwardRef(({className:e,...t},n)=>i.jsx(lc,{ref:n,className:D("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));j0.displayName=lc.displayName;const ut=h.forwardRef(({className:e,children:t,mobileFullscreen:n,showOverlay:r=!0,...s},o)=>i.jsxs(dT,{children:[r&&i.jsx(j0,{}),i.jsxs(cc,{ref:o,className:D("fixed z-50 grid w-full gap-4 border bg-background shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n?"inset-0 h-full w-full flex flex-col rounded-none border-0 data-[state=open]:slide-in-from-bottom data-[state=closed]:slide-out-to-bottom p-0":["left-[50%] top-[50%] translate-x-[-50%] translate-y-[-50%]","data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95","data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%]","sm:max-w-lg sm:rounded-lg p-6"],e),...s,children:[t,i.jsxs(Li,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(t0,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ut.displayName=cc.displayName;const dt=({className:e,...t})=>i.jsx("div",{className:D("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});dt.displayName="DialogHeader";const pn=({className:e,...t})=>i.jsx("div",{className:D("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});pn.displayName="DialogFooter";const ft=h.forwardRef(({className:e,...t},n)=>i.jsx(uc,{ref:n,className:D("text-lg font-semibold leading-none tracking-tight",e),...t}));ft.displayName=uc.displayName;const An=h.forwardRef(({className:e,...t},n)=>i.jsx(dc,{ref:n,className:D("text-sm text-muted-foreground",e),...t}));An.displayName=dc.displayName;const hT="modulepreload",pT=function(e){return"/"+e},tg={},fn=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=pT(c),c in tg)return;tg[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":hT,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((p,g)=>{f.addEventListener("load",p),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&o(l.reason);return t().catch(o)})},mT=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>fn(async()=>{const{default:r}=await Promise.resolve().then(()=>mo);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Oh extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class gT extends Oh{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class ng extends Oh{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class rg extends Oh{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Dd;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Dd||(Dd={}));var vT=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function l(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class xT{constructor(t,{headers:n={},customFetch:r,region:s=Dd.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=mT(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return vT(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:a}=n;let l={},{region:c}=n;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=a):typeof a=="string"?(l["Content-Type"]="text/plain",d=a):typeof FormData<"u"&&a instanceof FormData?d=a:(l["Content-Type"]="application/json",d=JSON.stringify(a)));const f=yield this.fetch(u.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:d}).catch(w=>{throw new gT(w)}),p=f.headers.get("x-relay-error");if(p&&p==="true")throw new ng(f);if(!f.ok)throw new rg(f);let g=((r=f.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),S;return g==="application/json"?S=yield f.json():g==="application/octet-stream"?S=yield f.blob():g==="text/event-stream"?S=f:g==="multipart/form-data"?S=yield f.formData():S=yield f.text(),{data:S,error:null,response:f}}catch(s){return{data:null,error:s,response:s instanceof rg||s instanceof ng?s.context:void 0}}})}}var jt={},Dh={},fc={},$i={},hc={},pc={},yT=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ro=yT();const wT=ro.fetch,C0=ro.fetch.bind(ro),_0=ro.Headers,ST=ro.Request,bT=ro.Response,mo=Object.freeze(Object.defineProperty({__proto__:null,Headers:_0,Request:ST,Response:bT,default:C0,fetch:wT},Symbol.toStringTag,{value:"Module"})),jT=S1(mo);var mc={};Object.defineProperty(mc,"__esModule",{value:!0});let CT=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};mc.default=CT;var k0=Wt&&Wt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(pc,"__esModule",{value:!0});const _T=k0(jT),kT=k0(mc);let NT=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=_T.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var a,l,c;let u=null,d=null,f=null,p=o.status,g=o.statusText;if(o.ok){if(this.method!=="HEAD"){const m=await o.text();m===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=m:d=JSON.parse(m))}const w=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),j=(l=o.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");w&&j&&j.length>1&&(f=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,p=406,g="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const w=await o.text();try{u=JSON.parse(w),Array.isArray(u)&&o.status===404&&(d=[],u=null,p=200,g="OK")}catch{o.status===404&&w===""?(p=204,g="No Content"):u={message:w}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,p=200,g="OK"),u&&this.shouldThrowOnError)throw new kT.default(u)}return{error:u,data:d,count:f,status:p,statusText:g}});return this.shouldThrowOnError||(s=s.catch(o=>{var a,l,c;return{error:{message:`${(a=o==null?void 0:o.name)!==null&&a!==void 0?a:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(l=o==null?void 0:o.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=o==null?void 0:o.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};pc.default=NT;var ET=Wt&&Wt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(hc,"__esModule",{value:!0});const RT=ET(pc);let TT=class extends RT.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:o=s}={}){const a=o?`${o}.order`:"order",l=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const o=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(a,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:o=!1,format:a="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${u}"; options=${c};`,a==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};hc.default=TT;var PT=Wt&&Wt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($i,"__esModule",{value:!0});const AT=PT(hc);let IT=class extends AT.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${o}fts${a}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};$i.default=IT;var OT=Wt&&Wt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fc,"__esModule",{value:!0});const Po=OT($i);let DT=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let o=!1;const a=(t??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",a),r&&(this.headers.Prefer=`count=${r}`),new Po.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push(`count=${n}`),r||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const a=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Po.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:o=!0}={}){const a="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Po.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new Po.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Po.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};fc.default=DT;var gc={},vc={};Object.defineProperty(vc,"__esModule",{value:!0});vc.version=void 0;vc.version="0.0.0-automated";Object.defineProperty(gc,"__esModule",{value:!0});gc.DEFAULT_HEADERS=void 0;const MT=vc;gc.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${MT.version}`};var N0=Wt&&Wt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Dh,"__esModule",{value:!0});const LT=N0(fc),$T=N0($i),FT=gc;let zT=class E0{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},FT.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new LT.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new E0(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:o}={}){let a;const l=new URL(`${this.url}/rpc/${t}`);let c;r||s?(a=r?"HEAD":"GET",Object.entries(n).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(a="POST",c=n);const u=Object.assign({},this.headers);return o&&(u.Prefer=`count=${o}`),new $T.default({method:a,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Dh.default=zT;var go=Wt&&Wt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(jt,"__esModule",{value:!0});jt.PostgrestError=jt.PostgrestBuilder=jt.PostgrestTransformBuilder=jt.PostgrestFilterBuilder=jt.PostgrestQueryBuilder=jt.PostgrestClient=void 0;const R0=go(Dh);jt.PostgrestClient=R0.default;const T0=go(fc);jt.PostgrestQueryBuilder=T0.default;const P0=go($i);jt.PostgrestFilterBuilder=P0.default;const A0=go(hc);jt.PostgrestTransformBuilder=A0.default;const I0=go(pc);jt.PostgrestBuilder=I0.default;const O0=go(mc);jt.PostgrestError=O0.default;var UT=jt.default={PostgrestClient:R0.default,PostgrestQueryBuilder:T0.default,PostgrestFilterBuilder:P0.default,PostgrestTransformBuilder:A0.default,PostgrestBuilder:I0.default,PostgrestError:O0.default};const{PostgrestClient:BT,PostgrestQueryBuilder:MM,PostgrestFilterBuilder:LM,PostgrestTransformBuilder:$M,PostgrestBuilder:FM,PostgrestError:zM}=UT;function HT(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const VT=HT(),WT="2.11.15",KT=`realtime-js/${WT}`,GT="1.0.0",D0=1e4,qT=1e3;var Zo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Zo||(Zo={}));var at;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(at||(at={}));var nn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(nn||(nn={}));var Md;(function(e){e.websocket="websocket"})(Md||(Md={}));var Ur;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ur||(Ur={}));class YT{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),o=n.getUint8(2);let a=this.HEADER_LENGTH+2;const l=r.decode(t.slice(a,a+s));a=a+s;const c=r.decode(t.slice(a,a+o));a=a+o;const u=JSON.parse(r.decode(t.slice(a,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class M0{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ne;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ne||(Ne={}));const sg=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((o,a)=>(o[a]=JT(a,e,t,s),o),{})},JT=(e,t,n,r)=>{const s=t.find(l=>l.name===e),o=s==null?void 0:s.type,a=n[e];return o&&!r.includes(o)?L0(o,a):Ld(a)},L0=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return eP(t,n)}switch(e){case Ne.bool:return XT(t);case Ne.float4:case Ne.float8:case Ne.int2:case Ne.int4:case Ne.int8:case Ne.numeric:case Ne.oid:return QT(t);case Ne.json:case Ne.jsonb:return ZT(t);case Ne.timestamp:return tP(t);case Ne.abstime:case Ne.date:case Ne.daterange:case Ne.int4range:case Ne.int8range:case Ne.money:case Ne.reltime:case Ne.text:case Ne.time:case Ne.timestamptz:case Ne.timetz:case Ne.tsrange:case Ne.tstzrange:return Ld(t);default:return Ld(t)}},Ld=e=>e,XT=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},QT=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},ZT=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},eP=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const a=e.slice(1,n);try{o=JSON.parse("["+a+"]")}catch{o=a?a.split(","):[]}return o.map(l=>L0(t,l))}return e},tP=e=>typeof e=="string"?e.replace(" ","T"):e,$0=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class mu{constructor(t,n,r={},s=D0){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var og;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(og||(og={}));class ei{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:o,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ei.syncState(this.state,s,o,a),this.pendingDiffs.forEach(c=>{this.state=ei.syncDiff(this.state,c,o,a)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:o,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ei.syncDiff(this.state,s,o,a),l())}),this.onJoin((s,o,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:a})}),this.onLeave((s,o,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const o=this.cloneDeep(t),a=this.transformState(n),l={},c={};return this.map(o,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const f=o[u];if(f){const p=d.map(j=>j.presence_ref),g=f.map(j=>j.presence_ref),S=d.filter(j=>g.indexOf(j.presence_ref)<0),w=f.filter(j=>p.indexOf(j.presence_ref)<0);S.length>0&&(l[u]=S),w.length>0&&(c[u]=w)}else l[u]=d}),this.syncDiff(o,{joins:l,leaves:c},r,s)}static syncDiff(t,n,r,s){const{joins:o,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(o,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(g=>g.presence_ref),p=d.filter(g=>f.indexOf(g.presence_ref)<0);t[l].unshift(...p)}r(l,d,c)}),this.map(a,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ig;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(ig||(ig={}));var ag;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(ag||(ag={}));var Fn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Fn||(Fn={}));class Mh{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=at.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new mu(this,nn.join,this.params,this.timeout),this.rejoinTimer=new M0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=at.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=at.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this._on(nn.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new ei(this),this.broadcastEndpointURL=$0(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.state==at.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params;this._onError(d=>t==null?void 0:t(Fn.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Fn.CLOSED));const c={},u={broadcast:o,presence:a,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(Fn.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,g=(f=p==null?void 0:p.length)!==null&&f!==void 0?f:0,S=[];for(let w=0;w<g;w++){const j=p[w],{filter:{event:m,schema:v,table:x,filter:y}}=j,k=d&&d[w];if(k&&k.event===m&&k.schema===v&&k.table===x&&k.filter===y)S.push(Object.assign(Object.assign({},j),{id:k.id}));else{this.unsubscribe(),this.state=at.errored,t==null||t(Fn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,t&&t(Fn.SUBSCRIBED);return}}).receive("error",d=>{this.state=at.errored,t==null||t(Fn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Fn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:a}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var a,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=at.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(nn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new mu(this,nn.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const s=new AbortController,o=setTimeout(()=>s.abort(),r),a=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(o),a}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new mu(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,o;const a=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=nn;if(r&&[l,c,u,d].indexOf(a)>=0&&r!==this._joinRef())return;let p=this._onMessage(a,n,r);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var S,w,j;return((S=g.filter)===null||S===void 0?void 0:S.event)==="*"||((j=(w=g.filter)===null||w===void 0?void 0:w.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===a}).map(g=>g.callback(p,r)):(o=this.bindings[a])===null||o===void 0||o.filter(g=>{var S,w,j,m,v,x;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in g){const y=g.id,k=(S=g.filter)===null||S===void 0?void 0:S.event;return y&&((w=n.ids)===null||w===void 0?void 0:w.includes(y))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((j=n.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const y=(v=(m=g==null?void 0:g.filter)===null||m===void 0?void 0:m.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return y==="*"||y===((x=n==null?void 0:n.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===a}).map(g=>{if(typeof p=="object"&&"ids"in p){const S=p.data,{schema:w,table:j,commit_timestamp:m,type:v,errors:x}=S;p=Object.assign(Object.assign({},{schema:w,table:j,commit_timestamp:m,eventType:v,new:{},old:{},errors:x}),this._getPayloadRecords(S))}g.callback(p,r)})}_isClosed(){return this.state===at.closed}_isJoined(){return this.state===at.joined}_isJoining(){return this.state===at.joining}_isLeaving(){return this.state===at.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),o={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&Mh.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(nn.close,{},t)}_onError(t){this._on(nn.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=at.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=sg(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=sg(t.columns,t.old_record)),n}}const lg=()=>{},nP=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class rP{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=D0,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=lg,this.ref=0,this.logger=lg,this.conn=null,this.sendBuffer=[],this.serializer=new YT,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let a;return o?a=o:typeof fetch>"u"?a=(...l)=>fn(async()=>{const{default:c}=await Promise.resolve().then(()=>mo);return{default:c}},void 0).then(({default:c})=>c(...l)):a=fetch,(...l)=>a(...l)},this.endPoint=`${t}/${Md.websocket}`,this.httpEndpoint=$0(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(o,a)=>a(JSON.stringify(o)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new M0(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=VT),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:GT}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Zo.connecting:return Ur.Connecting;case Zo.open:return Ur.Open;case Zo.closing:return Ur.Closing;default:return Ur.Closed}}isConnected(){return this.connectionState()===Ur.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===r);if(s)return s;{const o=new Mh(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:r,payload:s,ref:o}=t,a=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${o})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:KT};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(nn.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(qT,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:o,ref:a}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${s} ${a&&"("+a+")"||""}`,o),Array.from(this.channels).filter(l=>l._isMember(r)).forEach(l=>l._trigger(s,o,a)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(nn.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([nP],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Lh extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ye(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class sP extends Lh{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class $d extends Lh{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var oP=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function l(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const F0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>fn(async()=>{const{default:r}=await Promise.resolve().then(()=>mo);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},iP=()=>oP(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield fn(()=>Promise.resolve().then(()=>mo),void 0)).Response:Response}),Fd=e=>{if(Array.isArray(e))return e.map(n=>Fd(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=Fd(r)}),t},aP=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var ds=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function l(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const gu=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),lP=(e,t,n)=>ds(void 0,void 0,void 0,function*(){const r=yield iP();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{const o=e.status||500,a=(s==null?void 0:s.statusCode)||o+"";t(new sP(gu(s),o,a))}).catch(s=>{t(new $d(gu(s),s))}):t(new $d(gu(e),e))}),cP=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?s:(aP(r)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,Object.assign(Object.assign({},s),n))};function Fi(e,t,n,r,s,o){return ds(this,void 0,void 0,function*(){return new Promise((a,l)=>{e(n,cP(t,r,s,o)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>lP(c,l,r))})})}function vl(e,t,n,r){return ds(this,void 0,void 0,function*(){return Fi(e,"GET",t,n,r)})}function zn(e,t,n,r,s){return ds(this,void 0,void 0,function*(){return Fi(e,"POST",t,r,s,n)})}function zd(e,t,n,r,s){return ds(this,void 0,void 0,function*(){return Fi(e,"PUT",t,r,s,n)})}function uP(e,t,n,r){return ds(this,void 0,void 0,function*(){return Fi(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function z0(e,t,n,r,s){return ds(this,void 0,void 0,function*(){return Fi(e,"DELETE",t,r,s,n)})}var St=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function l(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const dP={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},cg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class fP{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=F0(s)}uploadOrUpdate(t,n,r,s){return St(this,void 0,void 0,function*(){try{let o;const a=Object.assign(Object.assign({},cg),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",a.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",a.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=r,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),f=yield(t=="PUT"?zd:zn)(this.fetch,`${this.url}/object/${d}`,o,Object.assign({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(o){if(Ye(o))return{data:null,error:o};throw o}})}upload(t,n,r){return St(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return St(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),a=this._getFinalPath(o),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:cg.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield zd(this.fetch,l.toString(),c,{headers:d});return{data:{path:o,fullPath:f.Key},error:null}}catch(c){if(Ye(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return St(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const o=yield zn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),a=new URL(this.url+o.url),l=a.searchParams.get("token");if(!l)throw new Lh("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:l},error:null}}catch(r){if(Ye(r))return{data:null,error:r};throw r}})}update(t,n,r){return St(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return St(this,void 0,void 0,function*(){try{return{data:yield zn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Ye(s))return{data:null,error:s};throw s}})}copy(t,n,r){return St(this,void 0,void 0,function*(){try{return{data:{path:(yield zn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Ye(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return St(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),o=yield zn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${a}`)},{data:o,error:null}}catch(s){if(Ye(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return St(this,void 0,void 0,function*(){try{const s=yield zn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${o}`):null})),error:null}}catch(s){if(Ye(s))return{data:null,error:s};throw s}})}download(t,n){return St(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),a=o?`?${o}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield vl(this.fetch,`${this.url}/${s}/${l}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Ye(l))return{data:null,error:l};throw l}})}info(t){return St(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield vl(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Fd(r),error:null}}catch(r){if(Ye(r))return{data:null,error:r};throw r}})}exists(t){return St(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield uP(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Ye(r)&&r instanceof $d){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&s.push(o);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(t){return St(this,void 0,void 0,function*(){try{return{data:yield z0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Ye(n))return{data:null,error:n};throw n}})}list(t,n,r){return St(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},dP),n),{prefix:t||""});return{data:yield zn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(Ye(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const hP="2.10.4",pP={"X-Client-Info":`storage-js/${hP}`};var gs=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function l(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class mP{constructor(t,n={},r,s){const o=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href,this.headers=Object.assign(Object.assign({},pP),n),this.fetch=F0(r)}listBuckets(){return gs(this,void 0,void 0,function*(){try{return{data:yield vl(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ye(t))return{data:null,error:t};throw t}})}getBucket(t){return gs(this,void 0,void 0,function*(){try{return{data:yield vl(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Ye(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return gs(this,void 0,void 0,function*(){try{return{data:yield zn(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ye(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return gs(this,void 0,void 0,function*(){try{return{data:yield zd(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ye(r))return{data:null,error:r};throw r}})}emptyBucket(t){return gs(this,void 0,void 0,function*(){try{return{data:yield zn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Ye(n))return{data:null,error:n};throw n}})}deleteBucket(t){return gs(this,void 0,void 0,function*(){try{return{data:yield z0(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Ye(n))return{data:null,error:n};throw n}})}}class gP extends mP{constructor(t,n={},r,s){super(t,n,r,s)}from(t){return new fP(this.url,this.headers,t,this.fetch)}}const vP="2.53.0";let zo="";typeof Deno<"u"?zo="deno":typeof document<"u"?zo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?zo="react-native":zo="node";const xP={"X-Client-Info":`supabase-js-${zo}/${vP}`},yP={headers:xP},wP={schema:"public"},SP={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},bP={};var jP=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function l(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const CP=e=>{let t;return e?t=e:typeof fetch>"u"?t=C0:t=fetch,(...n)=>t(...n)},_P=()=>typeof Headers>"u"?_0:Headers,kP=(e,t,n)=>{const r=CP(n),s=_P();return(o,a)=>jP(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(o,Object.assign(Object.assign({},a),{headers:u}))})};var NP=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function l(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};function EP(e){return e.endsWith("/")?e:e+"/"}function RP(e,t){var n,r;const{db:s,auth:o,realtime:a,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,p={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),o),realtime:Object.assign(Object.assign({},d),a),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>NP(this,void 0,void 0,function*(){return""})};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}const U0="2.71.1",Ss=30*1e3,Ud=3,vu=Ud*Ss,TP="http://localhost:9999",PP="supabase.auth.token",AP={"X-Client-Info":`gotrue-js/${U0}`},Bd="X-Supabase-Api-Version",B0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},IP=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,OP=10*60*1e3;class $h extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function me(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class DP extends $h{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function MP(e){return me(e)&&e.name==="AuthApiError"}class H0 extends $h{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Pr extends $h{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class ar extends Pr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function LP(e){return me(e)&&e.name==="AuthSessionMissingError"}class pa extends Pr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ma extends Pr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ga extends Pr{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function $P(e){return me(e)&&e.name==="AuthImplicitGrantRedirectError"}class ug extends Pr{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Hd extends Pr{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function xu(e){return me(e)&&e.name==="AuthRetryableFetchError"}class dg extends Pr{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Vd extends Pr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const xl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),fg=` 	
\r=`.split(""),FP=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<fg.length;t+=1)e[fg[t].charCodeAt(0)]=-2;for(let t=0;t<xl.length;t+=1)e[xl[t].charCodeAt(0)]=t;return e})();function hg(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(xl[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(xl[r]),t.queuedBits-=6}}function V0(e,t,n){const r=FP[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function pg(e){const t=[],n=a=>{t.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=a=>{BP(a,r,n)};for(let a=0;a<e.length;a+=1)V0(e.charCodeAt(a),s,o);return t.join("")}function zP(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function UP(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}zP(r,t)}}function BP(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function HP(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)V0(e.charCodeAt(s),n,r);return new Uint8Array(t)}function VP(e){const t=[];return UP(e,n=>t.push(n)),new Uint8Array(t)}function WP(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>hg(s,n,r)),hg(null,n,r),t.join("")}function KP(e){return Math.round(Date.now()/1e3)+e}function GP(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Xt=()=>typeof window<"u"&&typeof document<"u",Dr={tested:!1,writable:!1},W0=()=>{if(!Xt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Dr.tested)return Dr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Dr.tested=!0,Dr.writable=!0}catch{Dr.tested=!0,Dr.writable=!1}return Dr.writable};function qP(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const K0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>fn(async()=>{const{default:r}=await Promise.resolve().then(()=>mo);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},YP=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",bs=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Mr=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},or=async(e,t)=>{await e.removeItem(t)};class xc{constructor(){this.promise=new xc.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}xc.promiseConstructor=Promise;function yu(e){const t=e.split(".");if(t.length!==3)throw new Vd("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!IP.test(t[r]))throw new Vd("JWT not in base64url format");return{header:JSON.parse(pg(t[0])),payload:JSON.parse(pg(t[1])),signature:HP(t[2]),raw:{header:t[0],payload:t[1]}}}async function JP(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function XP(e,t){return new Promise((r,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const a=await e(o);if(!t(o,null,a)){r(a);return}}catch(a){if(!t(o,a)){s(a);return}}})()})}function QP(e){return("0"+e.toString(16)).substr(-2)}function ZP(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let o=0;o<56;o++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,QP).join("")}async function eA(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function tA(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await eA(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function vs(e,t,n=!1){const r=ZP();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await bs(e,`${t}-code-verifier`,s);const o=await tA(r);return[o,r===o?"plain":"s256"]}const nA=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function rA(e){const t=e.headers.get(Bd);if(!t||!t.match(nA))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function sA(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function oA(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const iA=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function xs(e){if(!iA.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function wu(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function mg(e){return JSON.parse(JSON.stringify(e))}var aA=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const zr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),lA=[502,503,504];async function gg(e){var t;if(!YP(e))throw new Hd(zr(e),0);if(lA.includes(e.status))throw new Hd(zr(e),e.status);let n;try{n=await e.json()}catch(o){throw new H0(zr(o),o)}let r;const s=rA(e);if(s&&s.getTime()>=B0["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new dg(zr(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new ar}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,a)=>o&&typeof a=="string",!0))throw new dg(zr(n),e.status,n.weak_password.reasons);throw new DP(zr(n),e.status||500,r)}const cA=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function xe(e,t,n,r){var s;const o=Object.assign({},r==null?void 0:r.headers);o[Bd]||(o[Bd]=B0["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const a=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await uA(e,t,n+l,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function uA(e,t,n,r,s,o){const a=cA(t,r,s,o);let l;try{l=await e(n,Object.assign({},a))}catch(c){throw console.error(c),new Hd(zr(c),0)}if(l.ok||await gg(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await gg(c)}}function Ln(e){var t;let n=null;pA(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=KP(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function vg(e){const t=Ln(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function fr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function dA(e){return{data:e,error:null}}function fA(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o}=e,a=aA(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function hA(e){return e}function pA(e){return e.access_token&&e.refresh_token&&e.expires_in}const Su=["global","local","others"];var mA=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class gA{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=K0(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=Su[0]){if(Su.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Su.join(", ")}`);try{return await xe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await xe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:fr})}catch(r){if(me(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=mA(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await xe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:fA,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(me(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await xe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:fr})}catch(n){if(me(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,o,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await xe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:hA});if(d.error)throw d.error;const f=await d.json(),p=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(S=>{const w=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(S.split(";")[1].split("=")[1]);u[`${j}Page`]=w}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(me(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){xs(t);try{return await xe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:fr})}catch(n){if(me(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){xs(t);try{return await xe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:fr})}catch(r){if(me(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){xs(t);try{return await xe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:fr})}catch(r){if(me(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){xs(t.userId);try{const{data:n,error:r}=await xe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(me(n))return{data:null,error:n};throw n}}async _deleteFactor(t){xs(t.userId),xs(t.id);try{return{data:await xe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}}}function xg(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function vA(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ys={debug:!!(globalThis&&W0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class G0 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class xA extends G0{}async function yA(e,t,n){ys.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),ys.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){ys.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{ys.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw ys.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new xA(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ys.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}vA();const wA={url:TP,storageKey:PP,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:AP,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function yg(e,t,n){return await n()}const ws={};class ji{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ji.nextInstanceID,ji.nextInstanceID+=1,this.instanceID>0&&Xt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},wA),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new gA({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=K0(s.fetch),this.lock=s.lock||yg,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Xt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=yA:this.lock=yg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:W0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=xg(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=xg(this.memoryStorage)),Xt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=ws[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){ws[this.storageKey]=Object.assign(Object.assign({},ws[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=ws[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ws[this.storageKey]=Object.assign(Object.assign({},ws[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${U0}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=qP(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Xt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),$P(o)){const c=(t=o.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:a,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return me(n)?{error:n}:{error:new H0("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const o=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ln}),{data:a,error:l}=o;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(me(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var n,r,s;try{let o;if("email"in t){const{email:d,password:f,options:p}=t;let g=null,S=null;this.flowType==="pkce"&&([g,S]=await vs(this.storage,this.storageKey)),o=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:f,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:g,code_challenge_method:S},xform:Ln})}else if("phone"in t){const{phone:d,password:f,options:p}=t;o=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Ln})}else throw new ma("You must provide either an email or phone number and a password");const{data:a,error:l}=o;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(me(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:a,options:l}=t;n=await xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:vg})}else if("phone"in t){const{phone:o,password:a,options:l}=t;n=await xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:vg})}else throw new ma("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new pa}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(me(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,s,o,a,l,c,u,d,f,p,g;let S,w;if("message"in t)S=t.message,w=t.signature;else{const{chain:j,wallet:m,statement:v,options:x}=t;let y;if(Xt())if(typeof m=="object")y=m;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))y=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=m}const k=new URL((n=x==null?void 0:x.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in y&&y.signIn){const _=await y.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),v?{statement:v}:null));let b;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")b=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)b=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in b&&"signature"in b&&(typeof b.signedMessage=="string"||b.signedMessage instanceof Uint8Array)&&b.signature instanceof Uint8Array)S=typeof b.signedMessage=="string"?b.signedMessage:new TextDecoder().decode(b.signedMessage),w=b.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in y)||typeof y.signMessage!="function"||!("publicKey"in y)||typeof y!="object"||!y.publicKey||!("toBase58"in y.publicKey)||typeof y.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${k.host} wants you to sign in with your Solana account:`,y.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(s=(r=x==null?void 0:x.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((u=x==null?void 0:x.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((f=(d=x==null?void 0:x.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...x.signInWithSolana.resources.map(b=>`- ${b}`)]:[]].join(`
`);const _=await y.signMessage(new TextEncoder().encode(S),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=_}}try{const{data:j,error:m}=await xe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:WP(w)},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Ln});if(m)throw m;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new pa}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:m})}catch(j){if(me(j))return{data:{user:null,session:null},error:j};throw j}}async _exchangeCodeForSession(t){const n=await Mr(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:o,error:a}=await xe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Ln});if(await or(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new pa}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:a})}catch(o){if(me(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:o,nonce:a}=t,l=await xe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:o,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Ln}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new pa}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(me(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,o,a;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await vs(this.storage,this.storageKey));const{error:f}=await xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new ma("You must provide either an email or phone number.")}catch(l){if(me(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,r;try{let s,o;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:l}=await xe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Ln});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(me(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let o=null,a=null;return this.flowType==="pkce"&&([o,a]=await vs(this.storage,this.storageKey)),await xe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:a}),headers:this.headers,xform:dA})}catch(o){if(me(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new ar;const{error:s}=await xe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(me(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:o}=t,{error:a}=await xe(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:r,type:s,options:o}=t,{data:a,error:l}=await xe(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l}}throw new ma("You must provide either an email or phone number and a type")}catch(n){if(me(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Mr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<vu:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const a=await Mr(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=wu()}if(this.storage.isServer&&t.user){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:fr}):await this._useSession(async n=>{var r,s,o;const{data:a,error:l}=n;if(l)throw l;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ar}:await xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:fr})})}catch(n){if(me(n))return LP(n)&&(await this._removeSession(),await or(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:o}=r;if(o)throw o;if(!s.session)throw new ar;const a=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await vs(this.storage,this.storageKey));const{data:u,error:d}=await xe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:fr});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(r){if(me(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ar;const n=Date.now()/1e3;let r=n,s=!0,o=null;const{payload:a}=yu(t.access_token);if(a.exp&&(r=a.exp,s=r<=n),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};o=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;o={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(me(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:a,error:l}=n;if(l)throw l;t=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new ar;const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(me(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Xt())throw new ga("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ga(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new ug("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ga("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new ug("No code detected.");const{data:v,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const y=new URL(window.location.href);return y.searchParams.delete("code"),window.history.replaceState(window.history.state,"",y.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:o,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=t;if(!o||!l||!a||!u)throw new ga("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let p=d+f;c&&(p=parseInt(c));const g=p-d;g*1e3<=Ss&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${f}s`);const S=p-f;d-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,p,d):d-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,p,d);const{data:w,error:j}=await this._getUser(o);if(j)throw j;const m={provider_token:r,provider_refresh_token:s,access_token:o,expires_in:f,expires_at:p,refresh_token:a,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:t.type},error:null}}catch(r){if(me(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Mr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{error:o};const a=(r=s.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!(MP(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await or(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=GP(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:o},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await vs(this.storage,this.storageKey,!0));try{return await xe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(me(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async o=>{var a,l,c,u,d;const{data:f,error:p}=o;if(p)throw p;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await xe(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Xt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(me(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:a}=n;if(a)throw a;return await xe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(me(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await XP(async s=>(s>0&&await JP(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await xe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ln})),(s,o)=>{const a=200*Math.pow(2,s);return o&&xu(o)&&Date.now()+a-r<Ss})}catch(r){if(this._debug(n,"error",r),me(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Xt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Mr(this.storage,this.storageKey);if(s&&this.userStorage){let a=await Mr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await bs(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:wu()}else if(s&&!s.user&&!s.user){const a=await Mr(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await or(this.storage,this.storageKey+"-user"),await bs(this.storage,this.storageKey,s)):s.user=wu()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const o=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<vu;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${vu}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),xu(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(s.access_token);!l&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new ar;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new xc;const{data:o,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!o.session)throw new ar;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const l={session:o.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(o){if(this._debug(s,"error",o),me(o)){const a={session:null,error:o};return xu(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){o.push(c)}});if(await Promise.all(a),o.length>0){for(let l=0;l<o.length;l+=1)console.error(o[l]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await bs(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const o=mg(s);await bs(this.storage,this.storageKey,o)}else{const s=mg(n);await bs(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await or(this.storage,this.storageKey),await or(this.storage,this.storageKey+"-code-verifier"),await or(this.storage,this.storageKey+"-user"),this.userStorage&&await or(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Xt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ss);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Ss);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Ss}ms, refresh threshold is ${Ud} ticks`),s<=Ud&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof G0)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Xt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,a]=await vs(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);s.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await xe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(me(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:a}=n;if(a)return{data:null,error:a};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await xe(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(me(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{data:null,error:o};const{data:a,error:l}=await xe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(n){if(me(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await xe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(me(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(a=>a.factor_type==="totp"&&a.status==="verified"),o=r.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:r,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:o}=t;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=yu(s.access_token);let l=null;a.aal&&(l=a.aal);let c=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(l=>l.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(l=>l.kid===t),r&&this.jwks_cached_at+OP>s)return r;const{data:o,error:a}=await xe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,r=o.keys.find(l=>l.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:g,error:S}=await this.getSession();if(S||!g.session)return{data:null,error:S};r=g.session.access_token}const{header:s,payload:o,signature:a,raw:{header:l,payload:c}}=yu(r);n!=null&&n.allowExpired||sA(o.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:g}=await this.getUser(r);if(g)throw g;return{data:{claims:o,header:s,signature:a},error:null}}const d=oA(s.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,a,VP(`${l}.${c}`)))throw new Vd("Invalid JWT signature");return{data:{claims:o,header:s,signature:a},error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}}}ji.nextInstanceID=0;const SA=ji;class bA extends SA{constructor(t){super(t)}}var jA=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function l(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class CA{constructor(t,n,r){var s,o,a;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=EP(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:wP,realtime:bP,auth:Object.assign(Object.assign({},SP),{storageKey:u}),global:yP},f=RP(r??{},d);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=f.global.headers)!==null&&o!==void 0?o:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(p,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=f.auth)!==null&&a!==void 0?a:{},this.headers,f.global.fetch),this.fetch=kP(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new BT(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new gP(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new xT(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return jA(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:o,flowType:a,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new bA({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:a,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new rP(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const _A=(e,t,n)=>new CA(e,t,n);function kA(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const e=process.version.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}kA()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const NA="https://qxlbrihnasevumeeeqzg.supabase.co",EA="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF4bGJyaWhuYXNldnVtZWVlcXpnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ0NDUwNjcsImV4cCI6MjA3MDAyMTA2N30.OaQsuOIGDzZVB6xaaEHf0WPq_CvFNC9LHvdkNoILMVk",qe=_A(NA,EA),yc=1,q0=()=>"__TAURI__"in window,Y0=()=>{var e;return!!((e=window.Capacitor)!=null&&e.isNativePlatform())},yl=()=>{console.log("[DM] Gathering data from localStorage...");const e=JSON.parse(localStorage.getItem("poker-ranges-folders")||"[]"),t=JSON.parse(localStorage.getItem("poker-ranges-actions")||"[]"),n=JSON.parse(localStorage.getItem("training-sessions")||"[]");let r=[];const s=localStorage.getItem("training-statistics");if(s)try{const p=JSON.parse(s);Array.isArray(p)?r=p:console.warn("[DM] Old object-based training statistics found. Discarding for new array format.")}catch(p){console.error("[DM] Failed to parse training statistics, defaulting to empty array.",p)}let o={};const a=localStorage.getItem("poker-range-access-statistics");if(a)try{const p=JSON.parse(a);typeof p=="object"&&p!==null&&!Array.isArray(p)?o=p:console.warn("[DM] Old array-based range access statistics found or invalid. Discarding for new object format.")}catch(p){console.error("[DM] Failed to parse range access statistics, defaulting to empty object.",p)}const l=JSON.parse(localStorage.getItem("userCharts")||"[]"),c=localStorage.getItem("poker-editor-settings");let u={matrixBackgroundColor:{type:"dark",customColor:"#000000"},cellBackgroundColor:{type:"default",customColor:"#000000"},cellBorderRadius:"md",cellSpacing:"md",font:{size:"m",customSize:"16px",color:"auto",weight:"normal",inactiveFontTransparent:!1}};if(c)try{const p=JSON.parse(c);u={...u,...p,font:{...u.font,...p.font}}}catch(p){console.error("[DM] Failed to parse editor settings, defaulting to initial settings.",p)}const d=localStorage.getItem("poker-data-timestamp")||new Date(0).toISOString(),f={version:yc,folders:e,actionButtons:t,trainings:n,statistics:r,rangeAccessStats:o,charts:l,editorSettings:u,timestamp:d};return console.log("[DM] Gathered data:",f),console.log(`[DM] Gathered charts: ${f.charts.length} charts. Example chart (first 500 chars): ${JSON.stringify(f.charts[0]||{}).substring(0,500)}`),f},Fh=(e,t=!0)=>{if(console.log("[DM] Attempting to apply data:",e),!e||e.version>yc){console.error("[DM] Invalid or newer data format."),alert("Ошибка: Неверный или более новый формат файла настроек, который не поддерживается этой версией приложения.");return}try{localStorage.setItem("poker-ranges-folders",JSON.stringify(e.folders||[])),localStorage.setItem("poker-ranges-actions",JSON.stringify(e.actionButtons||[])),localStorage.setItem("training-sessions",JSON.stringify(e.trainings||[])),localStorage.setItem("training-statistics",JSON.stringify(e.statistics||[])),localStorage.setItem("poker-range-access-statistics",JSON.stringify(e.rangeAccessStats||{})),localStorage.setItem("userCharts",JSON.stringify(e.charts||[])),localStorage.setItem("poker-editor-settings",JSON.stringify(e.editorSettings||{})),localStorage.setItem("poker-data-timestamp",e.timestamp),console.log("[DM] Data successfully written to localStorage."),console.log(`[DM] Applied charts: ${e.charts.length} charts. Example chart (first 500 chars): ${JSON.stringify(e.charts[0]||{}).substring(0,500)}`),t&&(alert("Настройки успешно импортированы! Приложение будет перезагружено."),setTimeout(()=>{console.log("[DM] Reloading window..."),window.location.reload()},250))}catch(n){console.error("[DM] Error applying data to localStorage:",n),alert("Ошибка при сохранении данных локально.")}},RA=(e,t)=>{console.log("[DM] Merging training statistics arrays...");const n=[...e||[],...t||[]],r=new Map;for(const o of n)o&&typeof o.timestamp=="number"&&(r.has(o.timestamp)||r.set(o.timestamp,o));const s=Array.from(r.values());return console.log(`[DM] Merged training stats result: ${s.length} unique sessions.`),s},TA=(e,t)=>{console.log("[DM] Merging range access statistics...");const n={...e};for(const r in t)t.hasOwnProperty(r)&&(n[r]=(n[r]||0)+t[r]);return console.log(`[DM] Merged range access stats result: ${Object.keys(n).length} unique ranges.`),n},qr=async(e=!0)=>{console.log("[DM] Attempting to sync data to Supabase...");const{data:{user:t}}=await qe.auth.getUser();if(!t){e&&alert("Вы должны войти в систему для синхронизации данных."),console.log("[DM] No user logged in for sync.");return}const n=yl(),{version:r,timestamp:s,...o}=n,a=new Date().toISOString();console.log(`[DM] Preparing to sync ${o.folders.length} folders, ${o.actionButtons.length} actions, ${o.trainings.length} trainings, ${o.statistics.length} training stats, ${Object.keys(o.rangeAccessStats).length} range access stats, ${o.charts.length} charts.`),console.log(`[DM] Syncing charts data (first 500 chars): ${JSON.stringify(o.charts[0]||{}).substring(0,500)}`);const{error:l}=await qe.from("user_data").upsert({user_id:t.id,folders:o.folders,action_buttons:o.actionButtons,trainings:o.trainings,statistics:o.statistics,range_access_stats:o.rangeAccessStats,charts:o.charts,editor_settings:o.editorSettings,updated_at:a},{onConflict:"user_id"});l?(console.error("[DM] Error syncing data to Supabase:",l),e&&alert("Ошибка синхронизации данных с облаком.")):(console.log("[DM] Data successfully synced to Supabase."),localStorage.setItem("poker-data-timestamp",a),e&&alert("Данные успешно сохранены в облаке!"))},Wd=async e=>{var t,n,r,s,o,a,l,c,u,d,f,p,g,S;if(console.log("[DM] loadDataFromSupabase called."),!e){console.log("[DM] No user provided, cannot load data. Returning.");return}console.log(`[DM] User session found, proceeding to fetch user_data for user_id: ${e.id}`);try{const{data:w,error:j}=await qe.from("user_data").select("*").eq("user_id",e.id).single();if(j&&j.code!=="PGRST116"){console.error("[DM] Error loading data from Supabase:",j);return}const m=w;if(m){console.log("[DM] Data received from Supabase:",m),console.log(`[DM] Cloud charts data (first 500 chars): ${JSON.stringify(m.charts[0]||{}).substring(0,500)}`);const v=yl(),x=v.timestamp,y=m.updated_at;if(console.log(`[DM] Local timestamp: ${x}, Cloud timestamp: ${y}`),!x||new Date(y)>new Date(x))if(console.log("[DM] Cloud data is newer or local data is missing. Prompting user."),confirm("Найдены данные в облаке. Загрузить их? Это объединит вашу статистику и перезапишет остальные настройки (папки, чарты).")){const k=v.statistics,_=m.statistics,b=Array.isArray(_)?_:[],C=RA(k,b),N=v.rangeAccessStats,R=m.range_access_stats,P=typeof R=="object"&&R!==null&&!Array.isArray(R)?R:{},T=TA(N,P),L={matrixBackgroundColor:((t=m.editor_settings)==null?void 0:t.matrixBackgroundColor)||{type:"dark",customColor:"#000000"},cellBackgroundColor:((n=m.editor_settings)==null?void 0:n.cellBackgroundColor)||{type:"default",customColor:"#000000"},cellBorderRadius:((r=m.editor_settings)==null?void 0:r.cellBorderRadius)||"md",cellSpacing:((s=m.editor_settings)==null?void 0:s.cellSpacing)||"md",font:{size:((a=(o=m.editor_settings)==null?void 0:o.font)==null?void 0:a.size)||"m",customSize:((c=(l=m.editor_settings)==null?void 0:l.font)==null?void 0:c.customSize)||"16px",color:((d=(u=m.editor_settings)==null?void 0:u.font)==null?void 0:d.color)||"auto",weight:((p=(f=m.editor_settings)==null?void 0:f.font)==null?void 0:p.weight)||"normal",inactiveFontTransparent:((S=(g=m.editor_settings)==null?void 0:g.font)==null?void 0:S.inactiveFontTransparent)??!1}},F={version:yc,folders:m.folders||[],actionButtons:m.action_buttons||[],trainings:m.trainings||[],statistics:C,rangeAccessStats:T,charts:m.charts||[],editorSettings:L,timestamp:m.updated_at||new Date().toISOString()};console.log(`[DM] Applying cloud data: ${F.folders.length} folders, ${F.actionButtons.length} actions, ${F.trainings.length} trainings, ${F.statistics.length} training stats, ${Object.keys(F.rangeAccessStats).length} range access stats, ${F.charts.length} charts.`),Fh(F)}else console.log("[DM] User chose not to load newer cloud data.");else console.log("[DM] Local data is up-to-date or newer. No automatic action taken.")}else{console.log("[DM] No data found in Supabase for this user. Prompting to sync local data.");const v=yl();v.folders.length>0||v.charts.length>0||v.statistics.length>0||Object.keys(v.rangeAccessStats).length>0?confirm("В облаке нет данных. Хотите сохранить текущие локальные данные в облако?")&&(console.log("[DM] User confirmed to sync local data to Supabase."),await qr(!1),alert("Данные успешно сохранены в облаке!")):console.log("[DM] No cloud data and no significant local data to upload.")}}catch(w){console.error("[DM] Unhandled error in loadDataFromSupabase:",w)}finally{console.log("[DM] loadDataFromSupabase function finished execution.")}},PA=async()=>{console.log("[DM] Fetching memory slots...");const{data:{user:e}}=await qe.auth.getUser(),t=Array.from({length:5},(a,l)=>({slot_index:l,name:"Пустой слот",data:null}));if(!e)return console.log("[DM] No user logged in, returning default slots."),t;const{data:n,error:r}=await qe.from("memory_slots").select("*").eq("user_id",e.id);if(r)return console.error("[DM] Error fetching memory slots:",r),t;const s=new Map(n.map(a=>[a.slot_index,a])),o=t.map((a,l)=>s.has(l)?{...a,...s.get(l)}:a);return console.log("[DM] Memory slots fetched and merged:",o),o},AA=async(e,t,n)=>{console.log(`[DM] Saving to memory slot ${e}...`);const{data:{user:r}}=await qe.auth.getUser();if(!r)return console.error("[DM] Cannot save to memory slot: no user logged in."),{success:!1,error:new Error("Пользователь не авторизован.")};const{error:s}=await qe.from("memory_slots").upsert({user_id:r.id,slot_index:e,name:t,data:n,updated_at:new Date().toISOString()},{onConflict:"user_id,slot_index"});return s?(console.error(`[DM] Error saving to memory slot ${e}:`,s),{success:!1,error:s}):(console.log(`[DM] Successfully saved to memory slot ${e}.`),{success:!0})},IA=async e=>{console.log(`[DM] Loading from memory slot ${e}...`);const{data:{user:t}}=await qe.auth.getUser();if(!t)return console.error("[DM] Cannot load from memory slot: no user logged in."),null;const{data:n,error:r}=await qe.from("memory_slots").select("data").eq("user_id",t.id).eq("slot_index",e).single();return r&&r.code!=="PGRST116"?(console.error(`[DM] Error loading from memory slot ${e}:`,r),null):n&&n.data?(console.log(`[DM] Data loaded from slot ${e}.`),n.data):(console.log(`[DM] No data found in memory slot ${e}.`),null)},OA=async(e,t)=>{console.log(`[DM] Renaming memory slot ${e} to "${t}"...`);const{data:{user:n}}=await qe.auth.getUser();if(!n)return console.error("[DM] Cannot rename memory slot: no user logged in."),{success:!1,error:new Error("Пользователь не авторизован.")};const{error:r}=await qe.from("memory_slots").upsert({user_id:n.id,slot_index:e,name:t,updated_at:new Date().toISOString()},{onConflict:"user_id,slot_index"});return r?(console.error(`[DM] Error renaming memory slot ${e}:`,r),{success:!1,error:r}):(console.log(`[DM] Successfully renamed memory slot ${e}.`),{success:!0})},DA=()=>{console.log("[DM] Clearing local data..."),localStorage.removeItem("poker-ranges-folders"),localStorage.removeItem("poker-ranges-actions"),localStorage.removeItem("training-sessions"),localStorage.removeItem("training-statistics"),localStorage.removeItem("poker-range-access-statistics"),localStorage.removeItem("userCharts"),localStorage.removeItem("poker-editor-settings"),localStorage.removeItem("poker-data-timestamp"),console.log("[DM] Local data cleared. Reloading window..."),window.location.reload()},J0=e=>{console.log("[DM] Exporting data for web:",e);const t=JSON.stringify(e,null,2),n=new Blob([t],{type:"application/json"}),r=URL.createObjectURL(n),s=document.createElement("a");s.href=r,s.download=`poker-settings-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(r),console.log("[DM] Web export initiated.")},MA=async e=>{console.log("[DM] Exporting data for Tauri:",e);try{const{save:t}=await fn(async()=>{const{save:s}=await Promise.resolve().then(()=>_i);return{save:s}},void 0),{writeTextFile:n}=await fn(async()=>{const{writeTextFile:s}=await Promise.resolve().then(()=>_i);return{writeTextFile:s}},void 0),r=await t({defaultPath:`poker-settings-backup-${new Date().toISOString().split("T")[0]}.json`,filters:[{name:"JSON",extensions:["json"]}]});if(r){const s=JSON.stringify(e,null,2);await n(r,s),alert("Настройки успешно экспортированы!"),console.log("[DM] Tauri export successful to:",r)}else console.log("[DM] Tauri export cancelled.")}catch(t){console.error("[DM] Failed to export settings via Tauri:",t),alert("Ошибка экспорта настроек.")}},LA=async e=>{console.log("[DM] Exporting data for Capacitor:",e);try{const{Filesystem:t,Directory:n,Encoding:r}=await fn(async()=>{const{Filesystem:l,Directory:c,Encoding:u}=await Promise.resolve().then(()=>_i);return{Filesystem:l,Directory:c,Encoding:u}},void 0);if((await t.requestPermissions()).publicStorage!=="granted"){alert("Для экспорта настроек необходимо разрешение на доступ к хранилищу."),console.warn("[DM] Capacitor export: Public storage permission not granted.");return}const o=JSON.stringify(e,null,2),a=`poker-settings-backup-${new Date().toISOString()}.json`;await t.writeFile({path:a,data:o,directory:n.Documents,encoding:r.UTF8}),alert(`Настройки сохранены в папку "Документы" под именем: ${a}`),console.log("[DM] Capacitor export successful to:",a)}catch(t){console.error("[DM] Failed to export settings via Capacitor:",t),alert("Ошибка экспорта настроек. Проверьте разрешения приложения.")}},X0=()=>{console.log("[DM] Initiating web import...");const e=document.createElement("input");e.type="file",e.accept="application/json",e.onchange=t=>{var r;const n=(r=t.target.files)==null?void 0:r[0];if(n){const s=new FileReader;s.onload=o=>{var a;try{const l=JSON.parse((a=o.target)==null?void 0:a.result);console.log("[DM] Web import: File parsed, applying data:",l),Fh(l)}catch(l){console.error("[DM] Error parsing JSON file.",l),alert("Ошибка: Не удалось прочитать файл.")}},s.readAsText(n)}else console.log("[DM] Web import: No file selected.")},e.click()},$A=async()=>{console.log("[DM] Initiating Tauri import...");try{const{open:e}=await fn(async()=>{const{open:r}=await Promise.resolve().then(()=>_i);return{open:r}},void 0),{readTextFile:t}=await fn(async()=>{const{readTextFile:r}=await Promise.resolve().then(()=>_i);return{readTextFile:r}},void 0),n=await e({multiple:!1,filters:[{name:"JSON",extensions:["json"]}]});if(typeof n=="string"&&n){const r=await t(n),s=JSON.parse(r);console.log("[DM] Tauri import: File read and parsed, applying data:",s),Fh(s)}else console.log("[DM] Tauri import cancelled or no file selected.")}catch(e){console.error("[DM] Failed to import settings via Tauri:",e),alert("Ошибка импорта настроек.")}},FA=()=>{console.log("[DM] Initiating Capacitor import (using web fallback)..."),X0()},zA=async(e=!0)=>{console.log("[DM] Resetting range access statistics..."),localStorage.setItem("poker-range-access-statistics",JSON.stringify({})),console.log("[DM] Local range access statistics cleared.");const{data:{user:t}}=await qe.auth.getUser();if(t){console.log("[DM] User is logged in, clearing range access stats in Supabase...");const n=new Date().toISOString(),{error:r}=await qe.from("user_data").update({range_access_stats:{},updated_at:n}).eq("user_id",t.id);r?(console.error("[DM] Error clearing range access stats in Supabase:",r),e&&alert("Ошибка при сбросе статистики в облаке. Локальная статистика сброшена.")):(console.log("[DM] Supabase range access stats cleared successfully."),localStorage.setItem("poker-data-timestamp",n),e&&alert("Статистика обращений к ренджам успешно сброшена."))}else e&&alert("Статистика обращений к ренджам успешно сброшена.")},wg=()=>{console.log("[DM] Exporting data to file...");const e=yl();q0()?MA(e):Y0()?LA(e):J0(e)},Sg=()=>{console.log("[DM] Importing data from file..."),q0()?$A():Y0()?FA():X0()},bg=async()=>{console.log("[DM] Attempting to download cloud backup...");const{data:{user:e}={user:null}}=await qe.auth.getUser();if(!e){alert("Вы должны войти в систему, чтобы скачать бэкап из облака."),console.log("[DM] No user logged in for cloud backup download.");return}try{const{data:t,error:n}=await qe.from("user_data").select("*").eq("user_id",e.id).single();if(n&&n.code!=="PGRST116")throw n;if(t){console.log("[DM] Cloud backup data received:",t);const r={version:yc,folders:t.folders||[],actionButtons:t.action_buttons||[],trainings:t.trainings||[],statistics:t.statistics||[],rangeAccessStats:t.range_access_stats||{},charts:t.charts||[],editorSettings:t.editor_settings||{},timestamp:t.updated_at||new Date().toISOString()};J0(r),console.log("[DM] Cloud backup exported via web.")}else alert("В облаке нет данных для скачивания."),console.log("[DM] No cloud backup data found.")}catch(t){console.error("[DM] Error downloading cloud backup:",t),alert("Ошибка загрузки бэкапа из облака.")}},Q0=h.createContext(void 0),zh=()=>{const e=h.useContext(Q0);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},UA=({children:e})=>{const[t,n]=h.useState(null),[r,s]=h.useState(!0);h.useEffect(()=>{console.log("AuthContext: useEffect started."),s(!0);const{data:{subscription:c}}=qe.auth.onAuthStateChange((u,d)=>{if(console.log(`AuthContext: onAuthStateChange event: ${u}, session available: ${!!d}`),d!=null&&d.user){const f={id:d.user.id,email:d.user.email};n(f),console.log("AuthContext: User state set:",f),(u==="SIGNED_IN"||u==="INITIAL_SESSION")&&(console.log("AuthContext: Triggering non-blocking data load."),Wd(d.user))}else n(null),console.log("AuthContext: User state set to null."),u==="SIGNED_OUT"&&(console.log("AuthContext: Clearing local data due to SIGNED_OUT."),DA());s(!1),console.log("AuthContext: setLoading(false). UI should now be unblocked.")});return()=>{console.log("AuthContext: useEffect cleanup, unsubscribing from auth state changes."),c.unsubscribe()}},[]),h.useEffect(()=>{const c=()=>{t&&(console.log("AuthContext: Syncing data on page hide."),qr(!1))};return window.addEventListener("pagehide",c),()=>{window.removeEventListener("pagehide",c)}},[t]);const o=async(c,u)=>{console.log("AuthContext: Attempting to register user:",c);const{data:d,error:f}=await qe.auth.signUp({email:c,password:u});return f?(console.error("AuthContext: Registration error:",f.message),{success:!1,message:"Ошибка регистрации: "+f.message}):(d.user&&(console.log("AuthContext: User registered, syncing initial data."),await qr(!1)),console.log("AuthContext: Registration successful."),{success:!0})},a=async(c,u)=>{console.log("AuthContext: Attempting to log in user:",c);const{error:d}=await qe.auth.signInWithPassword({email:c,password:u});return d?(console.error("AuthContext: Login error:",d.message),{success:!1,message:"Ошибка входа: "+d.message}):(console.log("AuthContext: Login successful."),{success:!0})},l=async()=>{console.log("AuthContext: Attempting to log out user."),await qr(!1),console.log("AuthContext: Data synced before logout."),await qe.auth.signOut(),console.log("AuthContext: Logout initiated.")};return i.jsx(Q0.Provider,{value:{user:t,login:a,register:o,logout:l,isAuthenticated:!!t,loading:r},children:e})};var wc="Tabs",[BA,UM]=st(wc,[po]),Z0=po(),[HA,Uh]=BA(wc),eS=h.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:o,orientation:a="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=ls(l),[f,p]=Dt({prop:r,onChange:s,defaultProp:o??"",caller:wc});return i.jsx(HA,{scope:n,baseId:Ht(),value:f,onValueChange:p,orientation:a,dir:d,activationMode:c,children:i.jsx(se.div,{dir:d,"data-orientation":a,...u,ref:t})})});eS.displayName=wc;var tS="TabsList",nS=h.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,o=Uh(tS,n),a=Z0(n);return i.jsx(gh,{asChild:!0,...a,orientation:o.orientation,dir:o.dir,loop:r,children:i.jsx(se.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:t})})});nS.displayName=tS;var rS="TabsTrigger",sS=h.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...o}=e,a=Uh(rS,n),l=Z0(n),c=aS(a.baseId,r),u=lS(a.baseId,r),d=r===a.value;return i.jsx(vh,{asChild:!0,...l,focusable:!s,active:d,children:i.jsx(se.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...o,ref:t,onMouseDown:ne(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?a.onValueChange(r):f.preventDefault()}),onKeyDown:ne(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(r)}),onFocus:ne(e.onFocus,()=>{const f=a.activationMode!=="manual";!d&&!s&&f&&a.onValueChange(r)})})})});sS.displayName=rS;var oS="TabsContent",iS=h.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:o,...a}=e,l=Uh(oS,n),c=aS(l.baseId,r),u=lS(l.baseId,r),d=r===l.value,f=h.useRef(d);return h.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),i.jsx(qt,{present:s||d,children:({present:p})=>i.jsx(se.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:u,tabIndex:0,...a,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:p&&o})})});iS.displayName=oS;function aS(e,t){return`${e}-trigger-${t}`}function lS(e,t){return`${e}-content-${t}`}var VA=eS,cS=nS,uS=sS,dS=iS;const WA=VA,fS=h.forwardRef(({className:e,...t},n)=>i.jsx(cS,{ref:n,className:D("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));fS.displayName=cS.displayName;const Kd=h.forwardRef(({className:e,...t},n)=>i.jsx(uS,{ref:n,className:D("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Kd.displayName=uS.displayName;const Gd=h.forwardRef(({className:e,...t},n)=>i.jsx(dS,{ref:n,className:D("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Gd.displayName=dS.displayName;const be=h.forwardRef(({className:e,type:t,...n},r)=>i.jsx("input",{type:t,className:D("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));be.displayName="Input";var KA="Label",hS=h.forwardRef((e,t)=>i.jsx(se.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));hS.displayName=KA;var pS=hS;const GA=fy("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),U=h.forwardRef(({className:e,...t},n)=>i.jsx(pS,{ref:n,className:D(GA(),e),...t}));U.displayName=pS.displayName;const qA=1,YA=1e6;let bu=0;function JA(){return bu=(bu+1)%Number.MAX_SAFE_INTEGER,bu.toString()}const ju=new Map,jg=e=>{if(ju.has(e))return;const t=setTimeout(()=>{ju.delete(e),ti({type:"REMOVE_TOAST",toastId:e})},YA);ju.set(e,t)},XA=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,qA)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?jg(n):e.toasts.forEach(r=>{jg(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Da=[];let Ma={toasts:[]};function ti(e){Ma=XA(Ma,e),Da.forEach(t=>{t(Ma)})}function QA({...e}){const t=JA(),n=s=>ti({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>ti({type:"DISMISS_TOAST",toastId:t});return ti({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function mS(){const[e,t]=h.useState(Ma);return h.useEffect(()=>(Da.push(t),()=>{const n=Da.indexOf(t);n>-1&&Da.splice(n,1)}),[e]),{...e,toast:QA,dismiss:n=>ti({type:"DISMISS_TOAST",toastId:n})}}const ZA=({open:e,onOpenChange:t})=>{const[n,r]=h.useState(""),[s,o]=h.useState(""),[a,l]=h.useState(!1),{login:c,register:u}=zh(),{toast:d}=mS(),f=async w=>{if(w.preventDefault(),!n.trim()||!s.trim()){d({title:"Ошибка",description:"Заполните все поля",variant:"destructive"});return}l(!0);try{const j=await c(n.trim(),s);j.success?(d({title:"Успешно",description:"Вы вошли в систему"}),t(!1),g()):d({title:"Ошибка",description:j.message,variant:"destructive"})}catch{d({title:"Ошибка",description:"Произошла ошибка. Попробуйте снова.",variant:"destructive"})}finally{l(!1)}},p=async w=>{if(w.preventDefault(),!n.trim()||!s.trim()){d({title:"Ошибка",description:"Заполните все поля",variant:"destructive"});return}l(!0);try{const j=await u(n.trim(),s);j.success?(d({title:"Успешно",description:"Аккаунт создан. Проверьте почту для подтверждения."}),t(!1),g()):d({title:"Ошибка",description:j.message,variant:"destructive"})}catch{d({title:"Ошибка",description:"Произошла ошибка. Попробуйте снова.",variant:"destructive"})}finally{l(!1)}},g=()=>{r(""),o("")},S=()=>{g()};return i.jsx(wt,{open:e,onOpenChange:t,children:i.jsxs(ut,{className:"sm:max-w-md",children:[i.jsxs(dt,{children:[i.jsx(ft,{children:"Доступ к аккаунту"}),i.jsx(An,{children:"Войдите или зарегистрируйтесь, чтобы сохранять свои диапазоны в облаке."})]}),i.jsxs(WA,{defaultValue:"login",className:"w-full",onValueChange:S,children:[i.jsxs(fS,{className:"grid w-full grid-cols-2",children:[i.jsx(Kd,{value:"login",children:"Вход"}),i.jsx(Kd,{value:"register",children:"Регистрация"})]}),i.jsx(Gd,{value:"login",children:i.jsxs("form",{onSubmit:f,className:"space-y-4 pt-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(U,{htmlFor:"login-email",children:"Email"}),i.jsx(be,{id:"login-email",type:"email",value:n,onChange:w=>r(w.target.value),placeholder:"Введите ваш email",disabled:a})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(U,{htmlFor:"login-password",children:"Пароль"}),i.jsx(be,{id:"login-password",type:"password",value:s,onChange:w=>o(w.target.value),placeholder:"Введите пароль",disabled:a})]}),i.jsx(Y,{type:"submit",disabled:a,className:"w-full",children:a?"Загрузка...":"Войти"})]})}),i.jsx(Gd,{value:"register",children:i.jsxs("form",{onSubmit:p,className:"space-y-4 pt-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(U,{htmlFor:"register-email",children:"Email"}),i.jsx(be,{id:"register-email",type:"email",value:n,onChange:w=>r(w.target.value),placeholder:"Введите ваш email",disabled:a})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(U,{htmlFor:"register-password",children:"Пароль"}),i.jsx(be,{id:"register-password",type:"password",value:s,onChange:w=>o(w.target.value),placeholder:"Придумайте пароль",disabled:a})]}),i.jsx(Y,{type:"submit",disabled:a,className:"w-full",children:a?"Загрузка...":"Зарегистрироваться"})]})})]})]})})};function zi(e){const t=h.useRef({value:e,previous:e});return h.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Bh="Radio",[eI,gS]=st(Bh),[tI,nI]=eI(Bh),vS=h.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:s=!1,required:o,disabled:a,value:l="on",onCheck:c,form:u,...d}=e,[f,p]=h.useState(null),g=fe(t,j=>p(j)),S=h.useRef(!1),w=f?u||!!f.closest("form"):!0;return i.jsxs(tI,{scope:n,checked:s,disabled:a,children:[i.jsx(se.button,{type:"button",role:"radio","aria-checked":s,"data-state":SS(s),"data-disabled":a?"":void 0,disabled:a,value:l,...d,ref:g,onClick:ne(e.onClick,j=>{s||c==null||c(),w&&(S.current=j.isPropagationStopped(),S.current||j.stopPropagation())})}),w&&i.jsx(wS,{control:f,bubbles:!S.current,name:r,value:l,checked:s,required:o,disabled:a,form:u,style:{transform:"translateX(-100%)"}})]})});vS.displayName=Bh;var xS="RadioIndicator",yS=h.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...s}=e,o=nI(xS,n);return i.jsx(qt,{present:r||o.checked,children:i.jsx(se.span,{"data-state":SS(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:t})})});yS.displayName=xS;var rI="RadioBubbleInput",wS=h.forwardRef(({__scopeRadio:e,control:t,checked:n,bubbles:r=!0,...s},o)=>{const a=h.useRef(null),l=fe(a,o),c=zi(n),u=Ii(t);return h.useEffect(()=>{const d=a.current;if(!d)return;const f=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&g){const S=new Event("click",{bubbles:r});g.call(d,n),d.dispatchEvent(S)}},[c,n,r]),i.jsx(se.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});wS.displayName=rI;function SS(e){return e?"checked":"unchecked"}var sI=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Sc="RadioGroup",[oI,BM]=st(Sc,[po,gS]),bS=po(),jS=gS(),[iI,aI]=oI(Sc),CS=h.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:s,value:o,required:a=!1,disabled:l=!1,orientation:c,dir:u,loop:d=!0,onValueChange:f,...p}=e,g=bS(n),S=ls(u),[w,j]=Dt({prop:o,defaultProp:s??null,onChange:f,caller:Sc});return i.jsx(iI,{scope:n,name:r,required:a,disabled:l,value:w,onValueChange:j,children:i.jsx(gh,{asChild:!0,...g,orientation:c,dir:S,loop:d,children:i.jsx(se.div,{role:"radiogroup","aria-required":a,"aria-orientation":c,"data-disabled":l?"":void 0,dir:S,...p,ref:t})})})});CS.displayName=Sc;var _S="RadioGroupItem",kS=h.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...s}=e,o=aI(_S,n),a=o.disabled||r,l=bS(n),c=jS(n),u=h.useRef(null),d=fe(t,u),f=o.value===s.value,p=h.useRef(!1);return h.useEffect(()=>{const g=w=>{sI.includes(w.key)&&(p.current=!0)},S=()=>p.current=!1;return document.addEventListener("keydown",g),document.addEventListener("keyup",S),()=>{document.removeEventListener("keydown",g),document.removeEventListener("keyup",S)}},[]),i.jsx(vh,{asChild:!0,...l,focusable:!a,active:f,children:i.jsx(vS,{disabled:a,required:o.required,checked:f,...c,...s,name:o.name,ref:d,onCheck:()=>o.onValueChange(s.value),onKeyDown:ne(g=>{g.key==="Enter"&&g.preventDefault()}),onFocus:ne(s.onFocus,()=>{var g;p.current&&((g=u.current)==null||g.click())})})})});kS.displayName=_S;var lI="RadioGroupIndicator",NS=h.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,s=jS(n);return i.jsx(yS,{...s,...r,ref:t})});NS.displayName=lI;var ES=CS,RS=kS,cI=NS;const tt=h.forwardRef(({className:e,...t},n)=>i.jsx(ES,{className:D("grid gap-2",e),...t,ref:n}));tt.displayName=ES.displayName;const de=h.forwardRef(({className:e,...t},n)=>i.jsx(RS,{ref:n,className:D("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:i.jsx(cI,{className:"flex items-center justify-center",children:i.jsx(e0,{className:"h-2.5 w-2.5 fill-current text-current"})})}));de.displayName=RS.displayName;const wn={cellBackgroundColor:{type:"default",customColor:"#374151"},matrixBackgroundColor:{type:"dark",customColor:"#111827"},cellBorderRadius:"md",cellSpacing:"md",font:{size:"m",customSize:"14px",color:"white",weight:"normal",inactiveFontTransparent:!1}},TS=h.createContext(void 0),mn=()=>{const e=h.useContext(TS);if(!e)throw new Error("useRangeContext must be used within a RangeProvider");return e},uI=({children:e})=>{const[t,n]=h.useState(()=>{const f=localStorage.getItem("poker-ranges-folders");return f?JSON.parse(f):[{id:"1",name:"Folder",ranges:[{id:"1",name:"Range",hands:{}}]}]}),[r,s]=h.useState(()=>{const f=localStorage.getItem("poker-ranges-actions");return f?JSON.parse(f).map(g=>g.type?g:{...g,type:"simple"}):[{type:"simple",id:"raise",name:"Raise",color:"#8b5cf6"}]}),[o,a]=h.useState(()=>{try{const f=localStorage.getItem("poker-editor-settings"),p=f?JSON.parse(f):wn,g={...wn,...p};return g.cellBackgroundColor={...wn.cellBackgroundColor,...p.cellBackgroundColor},g.matrixBackgroundColor={...wn.matrixBackgroundColor,...p.matrixBackgroundColor},g.font={...wn.font,...p.font},["s","m","l","xl","custom"].includes(g.font.size)||(g.font.size=wn.font.size),g.font.size==="custom"&&!g.font.customSize&&(g.font.customSize=wn.font.customSize),["normal","bold"].includes(g.font.weight)||(g.font.weight=wn.font.weight),typeof g.font.inactiveFontTransparent>"u"&&(g.font.inactiveFontTransparent=wn.font.inactiveFontTransparent),g}catch{return wn}}),[l,c]=h.useState(()=>{const f=localStorage.getItem("poker-hidden-action-ids");return f?JSON.parse(f):[]}),[u,d]=h.useState("#6b7280");return h.useEffect(()=>{localStorage.setItem("poker-ranges-folders",JSON.stringify(t))},[t]),h.useEffect(()=>{localStorage.setItem("poker-ranges-actions",JSON.stringify(r))},[r]),h.useEffect(()=>{localStorage.setItem("poker-editor-settings",JSON.stringify(o))},[o]),h.useEffect(()=>{localStorage.setItem("poker-hidden-action-ids",JSON.stringify(l))},[l]),h.useEffect(()=>{const f=o.matrixBackgroundColor.type,p=o.cellBackgroundColor.type;let g="#6b7280";f==="dark"&&p==="default"?g="#161b26":f==="white"&&p==="default"?g="#8f949d":f==="white"&&p==="white"&&(g="#ffffff"),d(g)},[o]),i.jsx(TS.Provider,{value:{folders:t,actionButtons:r,editorSettings:o,hiddenActionIds:l,setFolders:n,setActionButtons:s,setEditorSettings:a,setHiddenActionIds:c,foldColor:u},children:e})};var bc="Checkbox",[dI,HM]=st(bc),[fI,Hh]=dI(bc);function hI(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:s,disabled:o,form:a,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[p,g]=Dt({prop:n,defaultProp:s??!1,onChange:c,caller:bc}),[S,w]=h.useState(null),[j,m]=h.useState(null),v=h.useRef(!1),x=S?!!a||!!S.closest("form"):!0,y={checked:p,disabled:o,setChecked:g,control:S,setControl:w,name:l,form:a,value:d,hasConsumerStoppedPropagationRef:v,required:u,defaultChecked:jr(s)?!1:s,isFormControl:x,bubbleInput:j,setBubbleInput:m};return i.jsx(fI,{scope:t,...y,children:pI(f)?f(y):r})}var PS="CheckboxTrigger",AS=h.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},s)=>{const{control:o,value:a,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:p,isFormControl:g,bubbleInput:S}=Hh(PS,e),w=fe(s,d),j=h.useRef(c);return h.useEffect(()=>{const m=o==null?void 0:o.form;if(m){const v=()=>f(j.current);return m.addEventListener("reset",v),()=>m.removeEventListener("reset",v)}},[o,f]),i.jsx(se.button,{type:"button",role:"checkbox","aria-checked":jr(c)?"mixed":c,"aria-required":u,"data-state":LS(c),"data-disabled":l?"":void 0,disabled:l,value:a,...r,ref:w,onKeyDown:ne(t,m=>{m.key==="Enter"&&m.preventDefault()}),onClick:ne(n,m=>{f(v=>jr(v)?!0:!v),S&&g&&(p.current=m.isPropagationStopped(),p.current||m.stopPropagation())})})});AS.displayName=PS;var Vh=h.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:o,required:a,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return i.jsx(hI,{__scopeCheckbox:n,checked:s,defaultChecked:o,disabled:l,required:a,onCheckedChange:u,name:r,form:d,value:c,internal_do_not_use_render:({isFormControl:p})=>i.jsxs(i.Fragment,{children:[i.jsx(AS,{...f,ref:t,__scopeCheckbox:n}),p&&i.jsx(MS,{__scopeCheckbox:n})]})})});Vh.displayName=bc;var IS="CheckboxIndicator",OS=h.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...s}=e,o=Hh(IS,n);return i.jsx(qt,{present:r||jr(o.checked)||o.checked===!0,children:i.jsx(se.span,{"data-state":LS(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});OS.displayName=IS;var DS="CheckboxBubbleInput",MS=h.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:o,defaultChecked:a,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:p,setBubbleInput:g}=Hh(DS,e),S=fe(n,g),w=zi(o),j=Ii(r);h.useEffect(()=>{const v=p;if(!v)return;const x=window.HTMLInputElement.prototype,k=Object.getOwnPropertyDescriptor(x,"checked").set,_=!s.current;if(w!==o&&k){const b=new Event("click",{bubbles:_});v.indeterminate=jr(o),k.call(v,jr(o)?!1:o),v.dispatchEvent(b)}},[p,w,o,s]);const m=h.useRef(jr(o)?!1:o);return i.jsx(se.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??m.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:S,style:{...t.style,...j,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});MS.displayName=DS;function pI(e){return typeof e=="function"}function jr(e){return e==="indeterminate"}function LS(e){return jr(e)?"indeterminate":e?"checked":"unchecked"}const sn=h.forwardRef(({className:e,...t},n)=>i.jsx(Vh,{ref:n,className:D("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:i.jsx(OS,{className:D("flex items-center justify-center text-current"),children:i.jsx(ic,{className:"h-4 w-4"})})}));sn.displayName=Vh.displayName;const Cg=({isOpen:e,onOpenChange:t,isMobileMode:n})=>{const{editorSettings:r,setEditorSettings:s}=mn(),o=(c,u)=>{s(d=>({...d,[c]:u}))},a=(c,u)=>{s(d=>({...d,font:{...d.font,[c]:u}}))},l=c=>{s(u=>({...u,font:{...u.font,customSize:c}}))};return i.jsx(wt,{open:e,onOpenChange:t,children:i.jsxs(ut,{className:D("max-h-[90dvh] overflow-y-auto sm:max-w-sm",n&&"h-full max-h-full"),mobileFullscreen:n,children:[i.jsxs(dt,{children:[i.jsx(ft,{children:"Настройки редактора"}),i.jsx(An,{children:"Настройте внешний вид редактора диапазонов."})]}),i.jsxs("div",{className:"py-0 space-y-1.5",children:[" ",i.jsxs("div",{className:"space-y-1.5",children:[" ",i.jsx("h3",{className:"text-lg font-medium",children:"Фон за матрицей"}),i.jsxs(tt,{value:r.matrixBackgroundColor.type,onValueChange:c=>s(u=>({...u,matrixBackgroundColor:{...u.matrixBackgroundColor,type:c}})),className:"flex flex-wrap gap-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(de,{value:"dark",id:"bg-dark"}),i.jsx(U,{htmlFor:"bg-dark",children:"Темный"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(de,{value:"white",id:"bg-white"}),i.jsx(U,{htmlFor:"bg-white",children:"Белый"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(de,{value:"custom",id:"bg-custom"}),i.jsx(U,{htmlFor:"bg-custom",children:"На выбор"})]})]}),r.matrixBackgroundColor.type==="custom"&&i.jsxs("div",{className:"flex items-center gap-4 pl-6 pt-0.5",children:[" ",i.jsx(U,{htmlFor:"custom-bg-color-picker",className:"sr-only",children:"Выбор цвета"}),i.jsx(be,{id:"custom-bg-color-picker",type:"color",className:"p-0 h-10 w-10 cursor-pointer rounded-md border-none",value:r.matrixBackgroundColor.customColor,onChange:c=>s(u=>({...u,matrixBackgroundColor:{...u.matrixBackgroundColor,customColor:c.target.value}}))}),i.jsx("span",{className:"text-sm text-muted-foreground",children:"Выберите свой цвет фона."})]})]}),i.jsxs("div",{className:"space-y-1.5",children:[" ",i.jsx("h3",{className:"text-lg font-medium",children:"Фон ячеек матрицы"}),i.jsxs(tt,{value:r.cellBackgroundColor.type,onValueChange:c=>s(u=>({...u,cellBackgroundColor:{...u.cellBackgroundColor,type:c}})),className:"flex flex-wrap gap-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(de,{value:"default",id:"color-default"}),i.jsx(U,{htmlFor:"color-default",children:"Темный"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(de,{value:"white",id:"color-white"}),i.jsx(U,{htmlFor:"color-white",children:"Белый"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(de,{value:"custom",id:"color-custom"}),i.jsx(U,{htmlFor:"color-custom",children:"На выбор"})]})]}),r.cellBackgroundColor.type==="custom"&&i.jsxs("div",{className:"flex items-center gap-4 pl-6 pt-0.5",children:[" ",i.jsx(U,{htmlFor:"custom-color-picker",className:"sr-only",children:"Выбор цвета"}),i.jsx(be,{id:"custom-color-picker",type:"color",className:"p-0 h-10 w-10 cursor-pointer rounded-md border-none",value:r.cellBackgroundColor.customColor,onChange:c=>s(u=>({...u,cellBackgroundColor:{...u.cellBackgroundColor,customColor:c.target.value}}))}),i.jsx("span",{className:"text-sm text-muted-foreground",children:"Выберите свой цвет фона."})]})]}),i.jsxs("div",{className:"space-y-1.5",children:[" ",i.jsx("h3",{className:"text-lg font-medium",children:"Скругление ячеек"}),i.jsxs(tt,{value:r.cellBorderRadius,onValueChange:c=>o("cellBorderRadius",c),className:"flex flex-wrap gap-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(de,{value:"none",id:"radius-none"}),i.jsx(U,{htmlFor:"radius-none",children:"Нет"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(de,{value:"sm",id:"radius-sm"}),i.jsx(U,{htmlFor:"radius-sm",children:"S"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(de,{value:"md",id:"radius-md"}),i.jsx(U,{htmlFor:"radius-md",children:"M"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(de,{value:"lg",id:"radius-lg"}),i.jsx(U,{htmlFor:"radius-lg",children:"L"})]})]})]}),i.jsxs("div",{className:"space-y-1.5",children:[" ",i.jsx("h3",{className:"text-lg font-medium",children:"Расстояние между ячейками"}),i.jsxs(tt,{value:r.cellSpacing,onValueChange:c=>o("cellSpacing",c),className:"flex flex-wrap gap-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(de,{value:"none",id:"spacing-none"}),i.jsx(U,{htmlFor:"spacing-none",children:"0"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(de,{value:"sm",id:"spacing-sm"}),i.jsx(U,{htmlFor:"spacing-sm",children:"S"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(de,{value:"md",id:"spacing-md"}),i.jsx(U,{htmlFor:"spacing-md",children:"M"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(de,{value:"lg",id:"spacing-lg"}),i.jsx(U,{htmlFor:"spacing-lg",children:"L"})]})]})]}),i.jsxs("div",{className:"space-y-1.5",children:[" ",i.jsx("h3",{className:"text-lg font-medium",children:"Шрифт ячеек"}),i.jsxs("div",{className:"space-y-1.5",children:[" ",i.jsx(U,{children:"Размер"}),i.jsxs(tt,{value:r.font.size,onValueChange:c=>a("size",c),className:"flex flex-wrap gap-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(de,{value:"s",id:"font-s"}),i.jsx(U,{htmlFor:"font-s",children:"S"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(de,{value:"m",id:"font-m"}),i.jsx(U,{htmlFor:"font-m",children:"M"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(de,{value:"l",id:"font-l"}),i.jsx(U,{htmlFor:"font-l",children:"L"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(de,{value:"xl",id:"font-xl"}),i.jsx(U,{htmlFor:"font-xl",children:"XL"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(de,{value:"custom",id:"font-custom"}),i.jsx(U,{htmlFor:"font-custom",children:"Свой"})]})]}),r.font.size==="custom"&&i.jsxs("div",{className:"flex items-center gap-4 pl-6 pt-0.5",children:[" ",i.jsx(U,{htmlFor:"custom-font-size-input",className:"sr-only",children:"Введите размер шрифта"}),i.jsx(be,{id:"custom-font-size-input",type:"text",className:"w-24",value:r.font.customSize,onChange:c=>l(c.target.value),placeholder:"Например, 16px"}),i.jsx("span",{className:"text-sm text-muted-foreground",children:"Введите свой размер (например, 14px, 1em)."})]})]}),i.jsxs("div",{className:"space-y-0.5",children:[" ",i.jsx(U,{children:"Цвет"}),i.jsxs(tt,{value:r.font.color,onValueChange:c=>a("color",c),className:"flex flex-wrap gap-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(de,{value:"auto",id:"color-auto"}),i.jsx(U,{htmlFor:"color-auto",children:"Авто"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(de,{value:"white",id:"color-white-font"}),i.jsx(U,{htmlFor:"color-white-font",children:"Белый"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(de,{value:"black",id:"color-black-font"}),i.jsx(U,{htmlFor:"color-black-font",children:"Черный"})]})]})]}),i.jsxs("div",{className:"flex items-center space-x-2 pt-1.5",children:[i.jsx(sn,{id:"inactive-font-transparent",checked:r.font.inactiveFontTransparent,onCheckedChange:c=>a("inactiveFontTransparent",c)}),i.jsx(U,{htmlFor:"inactive-font-transparent",children:"50% прозрачности для неактивных"})]}),i.jsxs("div",{className:"space-y-0.5",children:[" ",i.jsx(U,{children:"Насыщенность"}),i.jsxs(tt,{value:r.font.weight,onValueChange:c=>a("weight",c),className:"flex flex-wrap gap-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(de,{value:"normal",id:"weight-normal"}),i.jsx(U,{htmlFor:"weight-normal",children:"Обычный"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(de,{value:"bold",id:"weight-bold"}),i.jsx(U,{htmlFor:"weight-bold",children:"Жирный"})]})]})]})]})]}),i.jsx(pn,{className:D(n?"justify-end":"justify-center sm:justify-center"),children:i.jsx(Y,{type:"button",onClick:()=>t(!1),children:"Сохранить"})})]})})},Cu=768;function In(){const[e,t]=h.useState(void 0);return h.useEffect(()=>{const n=window.matchMedia(`(max-width: ${Cu-1}px)`),r=()=>{t(window.innerWidth<Cu)};return n.addEventListener("change",r),t(window.innerWidth<Cu),()=>n.removeEventListener("change",r)},[]),!!e}function mI(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const $S=X.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),Ui=()=>{const e=X.useContext($S);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};mI(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,-100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(-100%,0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(100%,0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,100%,0)}}@keyframes slideFromTop{from{transform:translate3d(0,-100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,-100%,0)}}@keyframes slideFromLeft{from{transform:translate3d(-100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(-100%,0,0)}}@keyframes slideFromRight{from{transform:translate3d(100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(100%,0,0)}}`);const gI=24,vI=typeof window<"u"?h.useLayoutEffect:h.useEffect;function _g(...e){return(...t)=>{for(let n of e)typeof n=="function"&&n(...t)}}function xI(){return Wh(/^Mac/)}function yI(){return Wh(/^iPhone/)}function kg(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function wI(){return Wh(/^iPad/)||xI()&&navigator.maxTouchPoints>1}function FS(){return yI()||wI()}function Wh(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const _u=typeof document<"u"&&window.visualViewport;function Ng(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function zS(e){for(Ng(e)&&(e=e.parentElement);e&&!Ng(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const SI=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let va=0,ku;function bI(e={}){let{isDisabled:t}=e;vI(()=>{if(!t)return va++,va===1&&FS()&&(ku=jI()),()=>{va--,va===0&&(ku==null||ku())}},[t])}function jI(){let e,t=0,n=f=>{e=zS(f.target),!(e===document.documentElement&&e===document.body)&&(t=f.changedTouches[0].pageY)},r=f=>{if(!e||e===document.documentElement||e===document.body){f.preventDefault();return}let p=f.changedTouches[0].pageY,g=e.scrollTop,S=e.scrollHeight-e.clientHeight;S!==0&&((g<=0&&p>t||g>=S&&p<t)&&f.preventDefault(),t=p)},s=f=>{let p=f.target;qd(p)&&p!==document.activeElement&&(f.preventDefault(),p.style.transform="translateY(-2000px)",p.focus(),requestAnimationFrame(()=>{p.style.transform=""}))},o=f=>{let p=f.target;qd(p)&&(p.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{p.style.transform="",_u&&(_u.height<window.innerHeight?requestAnimationFrame(()=>{Eg(p)}):_u.addEventListener("resize",()=>Eg(p),{once:!0}))}))},a=()=>{window.scrollTo(0,0)},l=window.pageXOffset,c=window.pageYOffset,u=_g(CI(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let d=_g(Ao(document,"touchstart",n,{passive:!1,capture:!0}),Ao(document,"touchmove",r,{passive:!1,capture:!0}),Ao(document,"touchend",s,{passive:!1,capture:!0}),Ao(document,"focus",o,!0),Ao(window,"scroll",a));return()=>{u(),d(),window.scrollTo(l,c)}}function CI(e,t,n){let r=e.style[t];return e.style[t]=n,()=>{e.style[t]=r}}function Ao(e,t,n,r){return e.addEventListener(t,n,r),()=>{e.removeEventListener(t,n,r)}}function Eg(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let n=zS(e);if(n!==document.documentElement&&n!==document.body&&n!==e){let r=n.getBoundingClientRect().top,s=e.getBoundingClientRect().top,o=e.getBoundingClientRect().bottom;const a=n.getBoundingClientRect().bottom+gI;o>a&&(n.scrollTop+=s-r)}e=n.parentElement}}function qd(e){return e instanceof HTMLInputElement&&!SI.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function _I(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function kI(...e){return t=>e.forEach(n=>_I(n,t))}function US(...e){return h.useCallback(kI(...e),e)}const BS=new WeakMap;function Ve(e,t,n=!1){if(!e||!(e instanceof HTMLElement))return;let r={};Object.entries(t).forEach(([s,o])=>{if(s.startsWith("--")){e.style.setProperty(s,o);return}r[s]=e.style[s],e.style[s]=o}),!n&&BS.set(e,r)}function NI(e,t){if(!e||!(e instanceof HTMLElement))return;let n=BS.get(e);n&&(e.style[t]=n[t])}const We=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function xa(e,t){if(!e)return null;const n=window.getComputedStyle(e),r=n.transform||n.webkitTransform||n.mozTransform;let s=r.match(/^matrix3d\((.+)\)$/);return s?parseFloat(s[1].split(", ")[We(t)?13:12]):(s=r.match(/^matrix\((.+)\)$/),s?parseFloat(s[1].split(", ")[We(t)?5:4]):null)}function EI(e){return 8*(Math.log(e+1)-2)}function Nu(e,t){if(!e)return()=>{};const n=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=n}}function RI(...e){return(...t)=>{for(const n of e)typeof n=="function"&&n(...t)}}const Me={DURATION:.5,EASE:[.32,.72,0,1]},HS=.4,TI=.25,PI=100,VS=8,Lr=16,Yd=26,Eu="vaul-dragging";function WS(e){const t=X.useRef(e);return X.useEffect(()=>{t.current=e}),X.useMemo(()=>(...n)=>t.current==null?void 0:t.current.call(t,...n),[])}function AI({defaultProp:e,onChange:t}){const n=X.useState(e),[r]=n,s=X.useRef(r),o=WS(t);return X.useEffect(()=>{s.current!==r&&(o(r),s.current=r)},[r,s,o]),n}function KS({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,s]=AI({defaultProp:t,onChange:n}),o=e!==void 0,a=o?e:r,l=WS(n),c=X.useCallback(u=>{if(o){const f=typeof u=="function"?u(e):u;f!==e&&l(f)}else s(u)},[o,e,s,l]);return[a,c]}function II({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:n,drawerRef:r,overlayRef:s,fadeFromIndex:o,onSnapPointChange:a,direction:l="bottom",container:c,snapToSequentialPoint:u}){const[d,f]=KS({prop:e,defaultProp:n==null?void 0:n[0],onChange:t}),[p,g]=X.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);X.useEffect(()=>{function b(){g({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",b),()=>window.removeEventListener("resize",b)},[]);const S=X.useMemo(()=>d===(n==null?void 0:n[n.length-1])||null,[n,d]),w=X.useMemo(()=>n==null?void 0:n.findIndex(b=>b===d),[n,d]),j=n&&n.length>0&&(o||o===0)&&!Number.isNaN(o)&&n[o]===d||!n,m=X.useMemo(()=>{const b=c?{width:c.getBoundingClientRect().width,height:c.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var C;return(C=n==null?void 0:n.map(N=>{const R=typeof N=="string";let P=0;if(R&&(P=parseInt(N,10)),We(l)){const L=R?P:p?N*b.height:0;return p?l==="bottom"?b.height-L:-b.height+L:L}const T=R?P:p?N*b.width:0;return p?l==="right"?b.width-T:-b.width+T:T}))!=null?C:[]},[n,p,c]),v=X.useMemo(()=>w!==null?m==null?void 0:m[w]:null,[m,w]),x=X.useCallback(b=>{var C;const N=(C=m==null?void 0:m.findIndex(R=>R===b))!=null?C:null;a(N),Ve(r.current,{transition:`transform ${Me.DURATION}s cubic-bezier(${Me.EASE.join(",")})`,transform:We(l)?`translate3d(0, ${b}px, 0)`:`translate3d(${b}px, 0, 0)`}),m&&N!==m.length-1&&N!==o&&N<o?Ve(s.current,{transition:`opacity ${Me.DURATION}s cubic-bezier(${Me.EASE.join(",")})`,opacity:"0"}):Ve(s.current,{transition:`opacity ${Me.DURATION}s cubic-bezier(${Me.EASE.join(",")})`,opacity:"1"}),f(n==null?void 0:n[Math.max(N,0)])},[r.current,n,m,o,s,f]);X.useEffect(()=>{if(d||e){var b;const C=(b=n==null?void 0:n.findIndex(N=>N===e||N===d))!=null?b:-1;m&&C!==-1&&typeof m[C]=="number"&&x(m[C])}},[d,e,n,m,x]);function y({draggedDistance:b,closeDrawer:C,velocity:N,dismissible:R}){if(o===void 0)return;const P=l==="bottom"||l==="right"?(v??0)-b:(v??0)+b,T=w===o-1,L=w===0,F=b>0;if(T&&Ve(s.current,{transition:`opacity ${Me.DURATION}s cubic-bezier(${Me.EASE.join(",")})`}),!u&&N>2&&!F){R?C():x(m[0]);return}if(!u&&N>2&&F&&m&&n){x(m[n.length-1]);return}const V=m==null?void 0:m.reduce((q,I)=>typeof q!="number"||typeof I!="number"?q:Math.abs(I-P)<Math.abs(q-P)?I:q),B=We(l)?window.innerHeight:window.innerWidth;if(N>HS&&Math.abs(b)<B*.4){const q=F?1:-1;if(q>0&&S){x(m[n.length-1]);return}if(L&&q<0&&R&&C(),w===null)return;x(m[w+q]);return}x(V)}function k({draggedDistance:b}){if(v===null)return;const C=l==="bottom"||l==="right"?v-b:v+b;(l==="bottom"||l==="right")&&C<m[m.length-1]||(l==="top"||l==="left")&&C>m[m.length-1]||Ve(r.current,{transform:We(l)?`translate3d(0, ${C}px, 0)`:`translate3d(${C}px, 0, 0)`})}function _(b,C){if(!n||typeof w!="number"||!m||o===void 0)return null;const N=w===o-1;if(w>=o&&C)return 0;if(N&&!C)return 1;if(!j&&!N)return null;const P=N?w+1:w-1,T=N?m[P]-m[P-1]:m[P+1]-m[P],L=b/Math.abs(T);return N?1-L:L}return{isLastSnapPoint:S,activeSnapPoint:d,shouldFade:j,getPercentageDragged:_,setActiveSnapPoint:f,activeSnapPointIndex:w,onRelease:y,onDrag:k,snapPointsOffset:m}}const OI=()=>()=>{};function DI(){const{direction:e,isOpen:t,shouldScaleBackground:n,setBackgroundColorOnScale:r,noBodyStyles:s}=Ui(),o=X.useRef(null),a=h.useMemo(()=>document.body.style.backgroundColor,[]);function l(){return(window.innerWidth-Yd)/window.innerWidth}X.useEffect(()=>{if(t&&n){o.current&&clearTimeout(o.current);const c=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!c)return;RI(r&&!s?Nu(document.body,{background:"black"}):OI,Nu(c,{transformOrigin:We(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${Me.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Me.EASE.join(",")})`}));const u=Nu(c,{borderRadius:`${VS}px`,overflow:"hidden",...We(e)?{transform:`scale(${l()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${l()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{u(),o.current=window.setTimeout(()=>{a?document.body.style.background=a:document.body.style.removeProperty("background")},Me.DURATION*1e3)}}},[t,n,a])}let Io=null;function MI({isOpen:e,modal:t,nested:n,hasBeenOpened:r,preventScrollRestoration:s,noBodyStyles:o}){const[a,l]=X.useState(()=>typeof window<"u"?window.location.href:""),c=X.useRef(0),u=X.useCallback(()=>{if(kg()&&Io===null&&e&&!o){Io={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:f,innerHeight:p}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-c.current}px`,left:`${-f}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const g=p-window.innerHeight;g&&c.current>=p&&(document.body.style.top=`${-(c.current+g)}px`)}),300)}},[e]),d=X.useCallback(()=>{if(kg()&&Io!==null&&!o){const f=-parseInt(document.body.style.top,10),p=-parseInt(document.body.style.left,10);Object.assign(document.body.style,Io),window.requestAnimationFrame(()=>{if(s&&a!==window.location.href){l(window.location.href);return}window.scrollTo(p,f)}),Io=null}},[a]);return X.useEffect(()=>{function f(){c.current=window.scrollY}return f(),window.addEventListener("scroll",f),()=>{window.removeEventListener("scroll",f)}},[]),X.useEffect(()=>{n||!r||(e?(!window.matchMedia("(display-mode: standalone)").matches&&u(),t||window.setTimeout(()=>{d()},500)):d())},[e,r,a,t,n,u,d]),{restorePositionSetting:d}}function LI({open:e,onOpenChange:t,children:n,onDrag:r,onRelease:s,snapPoints:o,shouldScaleBackground:a=!1,setBackgroundColorOnScale:l=!0,closeThreshold:c=TI,scrollLockTimeout:u=PI,dismissible:d=!0,handleOnly:f=!1,fadeFromIndex:p=o&&o.length-1,activeSnapPoint:g,setActiveSnapPoint:S,fixed:w,modal:j=!0,onClose:m,nested:v,noBodyStyles:x,direction:y="bottom",defaultOpen:k=!1,disablePreventScroll:_=!0,snapToSequentialPoint:b=!1,preventScrollRestoration:C=!1,repositionInputs:N=!0,onAnimationEnd:R,container:P,autoFocus:T=!1}){var L,F;const[V=!1,B]=KS({defaultProp:k,prop:e,onChange:ce=>{t==null||t(ce),!ce&&!v&&f1(),setTimeout(()=>{R==null||R(ce)},Me.DURATION*1e3),ce&&!j&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),ce||(document.body.style.pointerEvents="auto")}}),[q,I]=X.useState(!1),[E,O]=X.useState(!1),[z,H]=X.useState(!1),J=X.useRef(null),K=X.useRef(null),he=X.useRef(null),ie=X.useRef(null),Z=X.useRef(null),le=X.useRef(!1),ge=X.useRef(null),pe=X.useRef(0),oe=X.useRef(!1),ue=X.useRef(0),A=X.useRef(null),$=X.useRef(((L=A.current)==null?void 0:L.getBoundingClientRect().height)||0),G=X.useRef(((F=A.current)==null?void 0:F.getBoundingClientRect().width)||0),te=X.useRef(0),M=X.useCallback(ce=>{o&&ce===Ze.length-1&&(K.current=new Date)},[]),{activeSnapPoint:Q,activeSnapPointIndex:ee,setActiveSnapPoint:ae,onRelease:Se,snapPointsOffset:Ze,onDrag:vn,shouldFade:Dn,getPercentageDragged:Pc}=II({snapPoints:o,activeSnapPointProp:g,setActiveSnapPointProp:S,drawerRef:A,fadeFromIndex:p,overlayRef:J,onSnapPointChange:M,direction:y,container:P,snapToSequentialPoint:b});bI({isDisabled:!V||E||!j||z||!q||!N||!_});const{restorePositionSetting:f1}=MI({isOpen:V,modal:j,nested:v,hasBeenOpened:q,preventScrollRestoration:C,noBodyStyles:x});function Bi(){return(window.innerWidth-Yd)/window.innerWidth}function h1(ce){var _e,Re;!d&&!o||A.current&&!A.current.contains(ce.target)||($.current=((_e=A.current)==null?void 0:_e.getBoundingClientRect().height)||0,G.current=((Re=A.current)==null?void 0:Re.getBoundingClientRect().width)||0,O(!0),he.current=new Date,FS()&&window.addEventListener("touchend",()=>le.current=!1,{once:!0}),ce.target.setPointerCapture(ce.pointerId),pe.current=We(y)?ce.pageY:ce.pageX)}function lp(ce,_e){var Re,Ie;let ke=ce;const $t=(Re=window.getSelection())==null?void 0:Re.toString(),ht=A.current?xa(A.current,y):null,Et=new Date;if(ke.hasAttribute("data-vaul-no-drag")||ke.closest("[data-vaul-no-drag]"))return!1;if(y==="right"||y==="left")return!0;if(K.current&&Et.getTime()-K.current.getTime()<500)return!1;if(ht!==null&&(y==="bottom"?ht>0:ht<0))return!0;if($t&&$t.length>0)return!1;if(Et.getTime()-((Ie=Z.current)==null?void 0:Ie.getTime())<u&&ht===0||_e)return Z.current=Et,!1;for(;ke;){if(ke.scrollHeight>ke.clientHeight){if(ke.scrollTop!==0)return Z.current=new Date,!1;if(ke.getAttribute("role")==="dialog")return!0}ke=ke.parentNode}return!0}function p1(ce){if(A.current&&E){const _e=y==="bottom"||y==="right"?1:-1,Re=(pe.current-(We(y)?ce.pageY:ce.pageX))*_e,Ie=Re>0,ke=o&&!d&&!Ie;if(ke&&ee===0)return;const $t=Math.abs(Re),ht=document.querySelector("[data-vaul-drawer-wrapper]"),Et=y==="bottom"||y==="top"?$.current:G.current;let Yt=$t/Et;const Or=Pc($t,Ie);if(Or!==null&&(Yt=Or),ke&&Yt>=1||!le.current&&!lp(ce.target,Ie))return;if(A.current.classList.add(Eu),le.current=!0,Ve(A.current,{transition:"none"}),Ve(J.current,{transition:"none"}),o&&vn({draggedDistance:Re}),Ie&&!o){const xn=EI(Re),Hi=Math.min(xn*-1,0)*_e;Ve(A.current,{transform:We(y)?`translate3d(0, ${Hi}px, 0)`:`translate3d(${Hi}px, 0, 0)`});return}const tr=1-Yt;if((Dn||p&&ee===p-1)&&(r==null||r(ce,Yt),Ve(J.current,{opacity:`${tr}`,transition:"none"},!0)),ht&&J.current&&a){const xn=Math.min(Bi()+Yt*(1-Bi()),1),Hi=8-Yt*8,up=Math.max(0,14-Yt*14);Ve(ht,{borderRadius:`${Hi}px`,transform:We(y)?`scale(${xn}) translate3d(0, ${up}px, 0)`:`scale(${xn}) translate3d(${up}px, 0, 0)`,transition:"none"},!0)}if(!o){const xn=$t*_e;Ve(A.current,{transform:We(y)?`translate3d(0, ${xn}px, 0)`:`translate3d(${xn}px, 0, 0)`})}}}X.useEffect(()=>{var ce;function _e(){if(!A.current||!N)return;const Re=document.activeElement;if(qd(Re)||oe.current){var Ie;const ke=((Ie=window.visualViewport)==null?void 0:Ie.height)||0,$t=window.innerHeight;let ht=$t-ke;const Et=A.current.getBoundingClientRect().height||0,Yt=Et>$t*.8;te.current||(te.current=Et);const Or=A.current.getBoundingClientRect().top;if(Math.abs(ue.current-ht)>60&&(oe.current=!oe.current),o&&o.length>0&&Ze&&ee){const tr=Ze[ee]||0;ht+=tr}if(ue.current=ht,Et>ke||oe.current){const tr=A.current.getBoundingClientRect().height;let xn=tr;tr>ke&&(xn=ke-(Yt?Or:Yd)),w?A.current.style.height=`${tr-Math.max(ht,0)}px`:A.current.style.height=`${Math.max(xn,ke-Or)}px`}else A.current.style.height=`${te.current}px`;o&&o.length>0&&!oe.current?A.current.style.bottom="0px":A.current.style.bottom=`${Math.max(ht,0)}px`}}return(ce=window.visualViewport)==null||ce.addEventListener("resize",_e),()=>{var Re;return(Re=window.visualViewport)==null?void 0:Re.removeEventListener("resize",_e)}},[ee,o,Ze]);function wo(ce){m1(),m==null||m(),ce||B(!1),setTimeout(()=>{o&&ae(o[0])},Me.DURATION*1e3)}function cp(){if(!A.current)return;const ce=document.querySelector("[data-vaul-drawer-wrapper]"),_e=xa(A.current,y);Ve(A.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${Me.DURATION}s cubic-bezier(${Me.EASE.join(",")})`}),Ve(J.current,{transition:`opacity ${Me.DURATION}s cubic-bezier(${Me.EASE.join(",")})`,opacity:"1"}),a&&_e&&_e>0&&V&&Ve(ce,{borderRadius:`${VS}px`,overflow:"hidden",...We(y)?{transform:`scale(${Bi()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${Bi()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${Me.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Me.EASE.join(",")})`},!0)}function m1(){!E||!A.current||(A.current.classList.remove(Eu),le.current=!1,O(!1),ie.current=new Date)}function g1(ce){if(!E||!A.current)return;A.current.classList.remove(Eu),le.current=!1,O(!1),ie.current=new Date;const _e=xa(A.current,y);if(!lp(ce.target,!1)||!_e||Number.isNaN(_e)||he.current===null)return;const Re=ie.current.getTime()-he.current.getTime(),Ie=pe.current-(We(y)?ce.pageY:ce.pageX),ke=Math.abs(Ie)/Re;if(ke>.05&&(H(!0),setTimeout(()=>{H(!1)},200)),o){Se({draggedDistance:Ie*(y==="bottom"||y==="right"?1:-1),closeDrawer:wo,velocity:ke,dismissible:d}),s==null||s(ce,!0);return}if(y==="bottom"||y==="right"?Ie>0:Ie<0){cp(),s==null||s(ce,!0);return}if(ke>HS){wo(),s==null||s(ce,!1);return}var $t;const ht=Math.min(($t=A.current.getBoundingClientRect().height)!=null?$t:0,window.innerHeight);var Et;const Yt=Math.min((Et=A.current.getBoundingClientRect().width)!=null?Et:0,window.innerWidth),Or=y==="left"||y==="right";if(Math.abs(_e)>=(Or?Yt:ht)*c){wo(),s==null||s(ce,!1);return}s==null||s(ce,!0),cp()}X.useEffect(()=>(V&&(Ve(document.documentElement,{scrollBehavior:"auto"}),K.current=new Date),()=>{NI(document.documentElement,"scrollBehavior")}),[V]);function v1(ce){const _e=ce?(window.innerWidth-Lr)/window.innerWidth:1,Re=ce?-Lr:0;ge.current&&window.clearTimeout(ge.current),Ve(A.current,{transition:`transform ${Me.DURATION}s cubic-bezier(${Me.EASE.join(",")})`,transform:`scale(${_e}) translate3d(0, ${Re}px, 0)`}),!ce&&A.current&&(ge.current=setTimeout(()=>{const Ie=xa(A.current,y);Ve(A.current,{transition:"none",transform:We(y)?`translate3d(0, ${Ie}px, 0)`:`translate3d(${Ie}px, 0, 0)`})},500))}function x1(ce,_e){if(_e<0)return;const Re=(window.innerWidth-Lr)/window.innerWidth,Ie=Re+_e*(1-Re),ke=-Lr+_e*Lr;Ve(A.current,{transform:We(y)?`scale(${Ie}) translate3d(0, ${ke}px, 0)`:`scale(${Ie}) translate3d(${ke}px, 0, 0)`,transition:"none"})}function y1(ce,_e){const Re=We(y)?window.innerHeight:window.innerWidth,Ie=_e?(Re-Lr)/Re:1,ke=_e?-Lr:0;_e&&Ve(A.current,{transition:`transform ${Me.DURATION}s cubic-bezier(${Me.EASE.join(",")})`,transform:We(y)?`scale(${Ie}) translate3d(0, ${ke}px, 0)`:`scale(${Ie}) translate3d(${ke}px, 0, 0)`})}return X.createElement(Ah,{defaultOpen:k,onOpenChange:ce=>{!d&&!ce||(ce?I(!0):wo(!0),B(ce))},open:V},X.createElement($S.Provider,{value:{activeSnapPoint:Q,snapPoints:o,setActiveSnapPoint:ae,drawerRef:A,overlayRef:J,onOpenChange:t,onPress:h1,onRelease:g1,onDrag:p1,dismissible:d,handleOnly:f,isOpen:V,isDragging:E,shouldFade:Dn,closeDrawer:wo,onNestedDrag:x1,onNestedOpenChange:v1,onNestedRelease:y1,keyboardIsOpen:oe,modal:j,snapPointsOffset:Ze,direction:y,shouldScaleBackground:a,setBackgroundColorOnScale:l,noBodyStyles:x,container:P,autoFocus:T}},n))}const GS=X.forwardRef(function({...e},t){const{overlayRef:n,snapPoints:r,onRelease:s,shouldFade:o,isOpen:a,modal:l}=Ui(),c=US(t,n),u=r&&r.length>0;return l?X.createElement(lc,{onMouseUp:s,ref:c,"data-vaul-overlay":"","data-vaul-snap-points":a&&u?"true":"false","data-vaul-snap-points-overlay":a&&o?"true":"false",...e}):(typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),null)});GS.displayName="Drawer.Overlay";const qS=X.forwardRef(function({onPointerDownOutside:e,style:t,onOpenAutoFocus:n,...r},s){const{drawerRef:o,onPress:a,onRelease:l,onDrag:c,keyboardIsOpen:u,snapPointsOffset:d,modal:f,isOpen:p,direction:g,snapPoints:S,container:w,handleOnly:j,autoFocus:m}=Ui(),[v,x]=X.useState(!1),y=US(s,o),k=X.useRef(null),_=X.useRef(null),b=X.useRef(!1),C=S&&S.length>0;DI();const N=(P,T,L=0)=>{if(b.current)return!0;const F=Math.abs(P.y),V=Math.abs(P.x),B=V>F,q=["bottom","right"].includes(T)?1:-1;if(T==="left"||T==="right"){if(!(P.x*q<0)&&V>=0&&V<=L)return B}else if(!(P.y*q<0)&&F>=0&&F<=L)return!B;return b.current=!0,!0};X.useEffect(()=>{C&&window.requestAnimationFrame(()=>{x(!0)})},[]);function R(P){k.current=null,b.current=!1,l(P)}return X.createElement(cc,{"data-vaul-drawer-direction":g,"data-vaul-drawer":"","data-vaul-delayed-snap-points":v?"true":"false","data-vaul-snap-points":p&&C?"true":"false","data-vaul-custom-container":w?"true":"false",...r,ref:y,style:d&&d.length>0?{"--snap-point-height":`${d[0]}px`,...t}:t,onPointerDown:P=>{j||(r.onPointerDown==null||r.onPointerDown.call(r,P),k.current={x:P.pageX,y:P.pageY},a(P))},onOpenAutoFocus:P=>{n==null||n(P),m||P.preventDefault()},onPointerDownOutside:P=>{if(e==null||e(P),!f||P.defaultPrevented){P.preventDefault();return}u.current&&(u.current=!1)},onFocusOutside:P=>{if(!f){P.preventDefault();return}},onPointerMove:P=>{if(_.current=P,j||(r.onPointerMove==null||r.onPointerMove.call(r,P),!k.current))return;const T=P.pageY-k.current.y,L=P.pageX-k.current.x,F=P.pointerType==="touch"?10:2;N({x:L,y:T},g,F)?c(P):(Math.abs(L)>F||Math.abs(T)>F)&&(k.current=null)},onPointerUp:P=>{r.onPointerUp==null||r.onPointerUp.call(r,P),k.current=null,b.current=!1,l(P)},onPointerOut:P=>{r.onPointerOut==null||r.onPointerOut.call(r,P),R(_.current)},onContextMenu:P=>{r.onContextMenu==null||r.onContextMenu.call(r,P),R(_.current)}})});qS.displayName="Drawer.Content";const $I=250,FI=120,zI=X.forwardRef(function({preventCycle:e=!1,children:t,...n},r){const{closeDrawer:s,isDragging:o,snapPoints:a,activeSnapPoint:l,setActiveSnapPoint:c,dismissible:u,handleOnly:d,isOpen:f,onPress:p,onDrag:g}=Ui(),S=X.useRef(null),w=X.useRef(!1);function j(){if(w.current){x();return}window.setTimeout(()=>{m()},FI)}function m(){if(o||e||w.current){x();return}if(x(),(!a||a.length===0)&&u){s();return}if(l===a[a.length-1]&&u){s();return}const k=a.findIndex(b=>b===l);if(k===-1)return;const _=a[k+1];c(_)}function v(){S.current=window.setTimeout(()=>{w.current=!0},$I)}function x(){window.clearTimeout(S.current),w.current=!1}return X.createElement("div",{onClick:j,onPointerCancel:x,onPointerDown:y=>{d&&p(y),v()},onPointerMove:y=>{d&&g(y)},ref:r,"data-vaul-drawer-visible":f?"true":"false","data-vaul-handle":"","aria-hidden":"true",...n},X.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});zI.displayName="Drawer.Handle";function UI(e){const t=Ui(),{container:n=t.container,...r}=e;return X.createElement(Ih,{container:n,...r})}const On={Root:LI,Content:qS,Overlay:GS,Portal:UI,Close:Li,Title:uc,Description:dc},YS=({shouldScaleBackground:e=!0,...t})=>i.jsx(On.Root,{shouldScaleBackground:e,...t});YS.displayName="Drawer";const BI=On.Portal,HI=On.Close,JS=h.forwardRef(({className:e,...t},n)=>i.jsx(On.Overlay,{ref:n,className:D("fixed inset-0 z-50 bg-black/80",e),...t}));JS.displayName=On.Overlay.displayName;const XS=h.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(BI,{children:[i.jsx(JS,{}),i.jsxs(On.Content,{ref:r,className:D("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",e),...n,children:[i.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),t]})]}));XS.displayName="DrawerContent";const QS=({className:e,...t})=>i.jsx("div",{className:D("grid gap-1.5 p-4 text-center sm:text-left",e),...t});QS.displayName="DrawerHeader";const ZS=({className:e,...t})=>i.jsx("div",{className:D("mt-auto flex flex-col gap-2 p-4",e),...t});ZS.displayName="DrawerFooter";const eb=h.forwardRef(({className:e,...t},n)=>i.jsx(On.Title,{ref:n,className:D("text-lg font-semibold leading-none tracking-tight",e),...t}));eb.displayName=On.Title.displayName;const tb=h.forwardRef(({className:e,...t},n)=>i.jsx(On.Description,{ref:n,className:D("text-sm text-muted-foreground",e),...t}));tb.displayName=On.Description.displayName;const Rg=({setOpen:e})=>{const{folders:t,actionButtons:n,setFolders:r,setActionButtons:s}=mn(),[o,a]=h.useState([]),[l,c]=h.useState(!0),[u,d]=h.useState({}),[f,p]=h.useState({}),[g,S]=h.useState(null),w=h.useCallback(async()=>{c(!0);const y=await PA();a(y);const k={};y.forEach(_=>{k[_.slot_index]=_.name}),p(k),c(!1)},[]);h.useEffect(()=>{open&&w()},[open,w]);const j=async(y,k)=>{d(_=>({..._,[y]:!0}));try{await k()}catch(_){console.error(`Operation ${y} failed`,_),alert(`Ошибка: ${_ instanceof Error?_.message:"Неизвестная ошибка"}`)}finally{d(_=>({..._,[y]:!1}))}},m=async y=>{var b;const k=((b=o.find(C=>C.slot_index===y))==null?void 0:b.name)||`Слот ${y+1}`,_={folders:t,actionButtons:n};await j(`save-${y}`,async()=>{const C=await AA(y,k,_);if(C.success)alert(`Настройки успешно сохранены в "${k}"`),await w();else throw C.error||new Error("Не удалось сохранить слот.")})},v=async y=>{confirm("Вы уверены, что хотите загрузить этот слот? Текущие несохраненные папки и кнопки будут перезаписаны.")&&await j(`load-${y}`,async()=>{const k=await IA(y);k?(r(k.folders),s(k.actionButtons),alert("Настройки успешно загружены."),e(!1)):alert("Не удалось загрузить данные из слота.")})},x=async y=>{const k=f[y];if(!k||k.trim()===""){alert("Имя слота не может быть пустым.");return}await j(`rename-${y}`,async()=>{const _=await OA(y,k.trim());if(_.success)alert("Слот успешно переименован."),S(null),await w();else throw _.error||new Error("Не удалось переименовать слот.")})};return l?i.jsxs("div",{className:"flex items-center justify-center p-8 h-64",children:[i.jsx(Ds,{className:"h-8 w-8 animate-spin text-muted-foreground"}),i.jsx("p",{className:"ml-4 text-muted-foreground",children:"Загрузка слотов..."})]}):i.jsx("div",{className:"p-4 md:p-0 space-y-4 max-h-[80vh] overflow-y-auto",children:o.map(y=>{const k=!!u[`save-${y.slot_index}`],_=!!u[`load-${y.slot_index}`],b=!!u[`rename-${y.slot_index}`],C=g===y.slot_index;return i.jsxs("div",{className:"p-4 border rounded-lg bg-muted/50 space-y-3",children:[i.jsx("div",{className:"flex items-center justify-between min-h-[32px]",children:C?i.jsxs("div",{className:"flex items-center gap-2 w-full",children:[i.jsx(be,{value:f[y.slot_index]||"",onChange:N=>p(R=>({...R,[y.slot_index]:N.target.value})),className:"h-8",placeholder:"Новое имя слота",onKeyDown:N=>N.key==="Enter"&&x(y.slot_index)}),i.jsx(Y,{size:"icon",variant:"ghost",onClick:()=>x(y.slot_index),disabled:b,className:"h-8 w-8 flex-shrink-0",children:b?i.jsx(Ds,{className:"h-4 w-4 animate-spin"}):i.jsx(ic,{className:"h-4 w-4 text-green-500"})}),i.jsx(Y,{size:"icon",variant:"ghost",onClick:()=>S(null),className:"h-8 w-8 flex-shrink-0",children:i.jsx(t0,{className:"h-4 w-4"})})]}):i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h3",{className:"font-semibold",children:y.name}),i.jsx(Y,{size:"icon",variant:"ghost",onClick:()=>S(y.slot_index),className:"h-6 w-6",children:i.jsx(Nh,{className:"h-4 w-4"})})]})}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(Y,{onClick:()=>m(y.slot_index),disabled:k||_,className:"w-full",children:[k?i.jsx(Ds,{className:"mr-2 h-4 w-4 animate-spin"}):i.jsx(G2,{className:"mr-2 h-4 w-4"}),"Сохранить"]}),i.jsxs(Y,{onClick:()=>v(y.slot_index),disabled:!y.data||_||k,variant:"secondary",className:"w-full",children:[_?i.jsx(Ds,{className:"mr-2 h-4 w-4 animate-spin"}):i.jsx(Od,{className:"mr-2 h-4 w-4"}),"Загрузить"]})]})]},y.slot_index)})})},Tg=({open:e,onOpenChange:t})=>In()?i.jsx(YS,{open:e,onOpenChange:t,children:i.jsxs(XS,{children:[i.jsxs(QS,{className:"text-left",children:[i.jsx(eb,{children:"Слоты памяти"}),i.jsx(tb,{children:"Сохраняйте и загружайте до 5 различных конфигураций папок и кнопок."})]}),e&&i.jsx(Rg,{setOpen:t}),i.jsx(ZS,{className:"pt-2",children:i.jsx(HI,{asChild:!0,children:i.jsx(Y,{variant:"outline",children:"Закрыть"})})})]})}):i.jsx(wt,{open:e,onOpenChange:t,children:i.jsxs(ut,{className:"sm:max-w-md",children:[i.jsxs(dt,{children:[i.jsx(ft,{children:"Слоты памяти"}),i.jsx(An,{children:"Сохраняйте и загружайте до 5 различных конфигураций папок и кнопок."})]}),e&&i.jsx(Rg,{setOpen:t})]})});var nb={exports:{}},rb={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var so=h;function VI(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var WI=typeof Object.is=="function"?Object.is:VI,KI=so.useState,GI=so.useEffect,qI=so.useLayoutEffect,YI=so.useDebugValue;function JI(e,t){var n=t(),r=KI({inst:{value:n,getSnapshot:t}}),s=r[0].inst,o=r[1];return qI(function(){s.value=n,s.getSnapshot=t,Ru(s)&&o({inst:s})},[e,n,t]),GI(function(){return Ru(s)&&o({inst:s}),e(function(){Ru(s)&&o({inst:s})})},[e]),YI(n),n}function Ru(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!WI(e,n)}catch{return!0}}function XI(e,t){return t()}var QI=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?XI:JI;rb.useSyncExternalStore=so.useSyncExternalStore!==void 0?so.useSyncExternalStore:QI;nb.exports=rb;var ZI=nb.exports;function eO(){return ZI.useSyncExternalStore(tO,()=>!0,()=>!1)}function tO(){return()=>{}}var Kh="Avatar",[nO,VM]=st(Kh),[rO,sb]=nO(Kh),ob=h.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[s,o]=h.useState("idle");return i.jsx(rO,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:o,children:i.jsx(se.span,{...r,ref:t})})});ob.displayName=Kh;var ib="AvatarImage",ab=h.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...o}=e,a=sb(ib,n),l=sO(r,o),c=cn(u=>{s(u),a.onImageLoadingStatusChange(u)});return He(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?i.jsx(se.img,{...o,ref:t,src:r}):null});ab.displayName=ib;var lb="AvatarFallback",cb=h.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...s}=e,o=sb(lb,n),[a,l]=h.useState(r===void 0);return h.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),a&&o.imageLoadingStatus!=="loaded"?i.jsx(se.span,{...s,ref:t}):null});cb.displayName=lb;function Pg(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function sO(e,{referrerPolicy:t,crossOrigin:n}){const r=eO(),s=h.useRef(null),o=r?(s.current||(s.current=new window.Image),s.current):null,[a,l]=h.useState(()=>Pg(o,e));return He(()=>{l(Pg(o,e))},[o,e]),He(()=>{const c=f=>()=>{l(f)};if(!o)return;const u=c("loaded"),d=c("error");return o.addEventListener("load",u),o.addEventListener("error",d),t&&(o.referrerPolicy=t),typeof n=="string"&&(o.crossOrigin=n),()=>{o.removeEventListener("load",u),o.removeEventListener("error",d)}},[o,n,t]),a}var ub=ob,db=ab,fb=cb;const La=h.forwardRef(({className:e,...t},n)=>i.jsx(ub,{ref:n,className:D("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));La.displayName=ub.displayName;const oO=h.forwardRef(({className:e,...t},n)=>i.jsx(db,{ref:n,className:D("aspect-square h-full w-full",e),...t}));oO.displayName=db.displayName;const $a=h.forwardRef(({className:e,...t},n)=>i.jsx(fb,{ref:n,className:D("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));$a.displayName=fb.displayName;const Ag=({isMobileMode:e})=>{var w;const{user:t,logout:n,isAuthenticated:r}=zh(),[s,o]=h.useState(!1),[a,l]=h.useState(!1),[c,u]=h.useState(!1),[d,f]=h.useState(!1);if(!r)return i.jsxs(i.Fragment,{children:[i.jsx(Y,{variant:"outline",size:e?"icon":"sm",onClick:()=>o(!0),children:e?i.jsx(Ks,{className:"h-4 w-4"}):i.jsxs(i.Fragment,{children:[i.jsx(La,{className:"h-6 w-6",children:i.jsx($a,{className:"text-xs",children:"?"})}),i.jsx("span",{className:"ml-2",children:"Войти"})]})}),i.jsx(ZA,{open:s,onOpenChange:o})]});const p=((w=t==null?void 0:t.email)==null?void 0:w.charAt(0).toUpperCase())||"?",g=()=>{n(),l(!1)},S=()=>l(!1);return e?i.jsxs(i.Fragment,{children:[i.jsx(Y,{variant:"outline",size:"icon",onClick:()=>l(!0),children:i.jsx(La,{className:"h-6 w-6",children:i.jsx($a,{className:"text-xs",children:p})})}),i.jsx(wt,{open:a,onOpenChange:l,children:i.jsxs(ut,{mobileFullscreen:!0,children:[i.jsx(dt,{children:i.jsx(ft,{children:"Меню"})}),i.jsxs("div",{className:"flex flex-col gap-2 pt-4",children:[i.jsxs("div",{className:"p-2 text-center text-sm text-muted-foreground border-b pb-4 mb-2",children:[i.jsx("p",{children:"Вы вошли как"}),i.jsx("p",{className:"font-semibold truncate",children:t==null?void 0:t.email})]}),i.jsxs(Y,{variant:"outline",onClick:()=>{u(!0),S()},children:[i.jsx(Ks,{className:"mr-2 h-4 w-4"}),"Настройки редактора"]}),i.jsxs(Y,{variant:"outline",onClick:()=>{f(!0),S()},children:[i.jsx(Jm,{className:"mr-2 h-4 w-4"}),"Слоты памяти"]}),i.jsx("hr",{className:"my-2"}),i.jsxs(Y,{variant:"outline",onClick:()=>{qr(),S()},children:[i.jsx(Ym,{className:"mr-2 h-4 w-4"}),"Сохранить в облако"]}),i.jsxs(Y,{variant:"outline",onClick:()=>{Wd(),S()},children:[i.jsx(ha,{className:"mr-2 h-4 w-4"}),"Загрузить из облака"]}),i.jsx("hr",{className:"my-2"}),i.jsxs(Y,{variant:"outline",onClick:()=>{Sg(),S()},children:[i.jsx(eg,{className:"mr-2 h-4 w-4"}),"Импорт из файла"]}),i.jsxs(Y,{variant:"outline",onClick:()=>{wg(),S()},children:[i.jsx(Od,{className:"mr-2 h-4 w-4"}),"Экспорт в файл"]}),i.jsxs(Y,{variant:"outline",onClick:()=>{bg(),S()},children:[i.jsx(ha,{className:"mr-2 h-4 w-4"}),"Скачать бэкап из облака"]}),i.jsx("hr",{className:"my-2"}),i.jsxs(Y,{variant:"destructive",onClick:g,children:[i.jsx(Xm,{className:"mr-2 h-4 w-4"}),"Выйти"]})]})]})}),i.jsx(Cg,{isOpen:c,onOpenChange:u,isMobileMode:e}),i.jsx(Tg,{open:d,onOpenChange:f})]}):i.jsxs(i.Fragment,{children:[i.jsxs(n0,{children:[i.jsx(r0,{asChild:!0,children:i.jsx(Y,{variant:"outline",size:"icon",className:"rounded-full",children:i.jsx(La,{className:"h-8 w-8",children:i.jsx($a,{children:p})})})}),i.jsxs(Eh,{align:"end",className:"w-56",children:[i.jsxs("div",{className:"px-2 py-1.5 text-sm",children:[i.jsx("p",{className:"font-semibold",children:"Вы вошли как"}),i.jsx("p",{className:"text-muted-foreground truncate",children:t==null?void 0:t.email})]}),i.jsx(Fo,{}),i.jsxs(en,{onClick:()=>u(!0),children:[i.jsx(Ks,{className:"mr-2 h-4 w-4"}),i.jsx("span",{children:"Настройки редактора"})]}),i.jsxs(en,{onClick:()=>f(!0),children:[i.jsx(Jm,{className:"mr-2 h-4 w-4"}),i.jsx("span",{children:"Слоты памяти"})]}),i.jsx(Fo,{}),i.jsxs(en,{onClick:()=>qr(),children:[i.jsx(Ym,{className:"mr-2 h-4 w-4"}),i.jsx("span",{children:"Сохранить в облако"})]}),i.jsxs(en,{onClick:()=>Wd(),children:[i.jsx(ha,{className:"mr-2 h-4 w-4"}),i.jsx("span",{children:"Загрузить из облака"})]}),i.jsx(Fo,{}),i.jsxs(en,{onClick:Sg,children:[i.jsx(eg,{className:"mr-2 h-4 w-4"}),i.jsx("span",{children:"Импорт из файла"})]}),i.jsxs(en,{onClick:wg,children:[i.jsx(Od,{className:"mr-2 h-4 w-4"}),i.jsx("span",{children:"Экспорт в файл"})]}),i.jsxs(en,{onClick:bg,children:[i.jsx(ha,{className:"mr-2 h-4 w-4"}),i.jsx("span",{children:"Скачать бэкап из облака"})]}),i.jsx(Fo,{}),i.jsxs(en,{onClick:n,children:[i.jsx(Xm,{className:"mr-2 h-4 w-4"}),i.jsx("span",{children:"Выйти"})]})]})]}),i.jsx(Cg,{isOpen:c,onOpenChange:u,isMobileMode:e}),i.jsx(Tg,{open:d,onOpenChange:f})]})},ya=["A","K","Q","J","T","9","8","7","6","5","4","3","2"],vo=[];for(let e=0;e<ya.length;e++){const t=[];for(let n=0;n<ya.length;n++){const r=ya[e],s=ya[n];e===n?t.push(`${r}${r}`):e<n?t.push(`${r}${s}s`):t.push(`${s}${r}o`)}vo.push(t)}const hb=vo.flat(),Jd=new Map;vo.forEach((e,t)=>{e.forEach((n,r)=>{Jd.set(n,{row:t,col:r})})});const Gh=e=>e.length===2&&e[0]===e[1]?6:e.endsWith("s")?4:e.endsWith("o")?12:0,Ig=hb.flatMap(e=>{const t=Gh(e);return Array(t).fill(e)}),Og=hb.reduce((e,t)=>e+Gh(t),0),Dg=(e,t)=>{const n=[],r=[[-1,0],[1,0],[0,-1],[0,1]];for(const[s,o]of r){const a=e+s,l=t+o;a>=0&&a<13&&l>=0&&l<13&&n.push(vo[a][l])}return n},Mg=(e,t)=>{if(!e||Object.keys(e).length===0)return[];let n=new Set;for(const o in e){const a=Jd.get(o);if(!a)continue;const l=Dg(a.row,a.col);for(const c of l)if(!e.hasOwnProperty(c)){n.add(o);break}}if(t===0)return Array.from(n);let r=new Set(n);const s=new Set(n);for(let o=0;o<t;o++){const a=new Set;for(const l of r){const c=Jd.get(l);if(!c)continue;const u=Dg(c.row,c.col);for(const d of u)a.add(d)}a.forEach(l=>s.add(l)),r=a}return Array.from(s)},iO=e=>({none:"rounded-none",sm:"rounded-sm",md:"rounded-md",lg:"rounded-lg"})[e]||"rounded-md",aO=e=>({none:"gap-0",sm:"gap-px sm:gap-0.5",md:"gap-0.5 sm:gap-1",lg:"gap-1 sm:gap-1.5"})[e]||"gap-0.5 sm:gap-1",lO=e=>{switch(e){case"s":return"text-xs";case"m":return"text-sm";case"l":return"text-base";case"xl":return"text-lg";default:return""}},cO=e=>({normal:"font-normal",bold:"font-bold"})[e]||"font-normal",Yr=({selectedHands:e,onHandSelect:t,activeAction:n,actionButtons:r,readOnly:s=!1,isBackgroundMode:o=!1})=>{const a=In(),{editorSettings:l,foldColor:c}=mn(),[u,d]=h.useState(!1),[f,p]=h.useState(null),g=h.useRef(null),S=h.useRef(!1),w=(T,L)=>{if(T==="fold")return c;const F=L.find(V=>V.id===T);return F&&F.type==="simple"?F.color:"#ffffff"};h.useEffect(()=>{o&&(d(!1),p(null),g.current=null,S.current=!1)},[o]),h.useEffect(()=>{const T=()=>{s||o||(d(!1),p(null),g.current=null,S.current=!1)};return window.addEventListener("mouseup",T),window.addEventListener("touchend",T),window.addEventListener("touchcancel",T),()=>{window.removeEventListener("mouseup",T),window.removeEventListener("touchend",T),window.removeEventListener("touchcancel",T)}},[s,o]);const j=T=>{s||o||!u||!f||(g.current!==T||S.current)&&(S.current=!0,t(T,f))},m=(T,L)=>{if(s||o)return;T.preventDefault(),g.current=L,S.current=!1,d(!0);const V=e[L]===n?"deselect":"select";p(V),t(L,V)},v=T=>{j(T)},x=(T,L)=>{if(s||o)return;T.preventDefault(),g.current=L,S.current=!1,d(!0);const V=e[L]===n?"deselect":"select";p(V),t(L,V)},y=T=>{if(!u||o)return;T.preventDefault();const L=T.touches[0],F=document.elementFromPoint(L.clientX,L.clientY);if(F instanceof HTMLElement&&F.dataset.hand){const V=F.dataset.hand;(g.current!==V||S.current)&&(S.current=!0,j(V))}},k=T=>{const{font:L,cellBackgroundColor:F}=l,V=e[T],B={};L.size==="custom"&&L.customSize&&(B.fontSize=L.customSize);let q=null,I=!1;if(V){const E=r.find(O=>O.id===V);if(E){if(E.type==="simple")q=E.color,B.backgroundColor=q;else if(E.type==="weighted"){I=!0;const O=w(E.action1Id,r),z=w(E.action2Id,r);B.background=`linear-gradient(to right, ${O} ${E.weight}%, ${z} ${E.weight}%)`}}}else F.type==="white"?q="#ffffff":F.type==="custom"?q=F.customColor:q=c,B.backgroundColor=q;return L.color==="white"?B.color="white":L.color==="black"?B.color="black":I?B.color="white":q&&(B.color=Ak(q)?"white":"black"),l.font.inactiveFontTransparent&&!V?B.opacity=.5:B.opacity=1,B},_=T=>{if(e[T])return"";const{cellBackgroundColor:L}=l;return L.type==="default"?"hover:bg-muted/70":""},b=()=>{const{matrixBackgroundColor:T}=l;return(T==null?void 0:T.type)==="custom"&&T.customColor?{backgroundColor:T.customColor}:{}},N=D("space-y-4 rounded-lg",a?"px-[1%] py-[1%]":"p-4",o?"w-full h-full flex items-center justify-center":"w-full",(()=>{const{matrixBackgroundColor:T}=l;if(!T)return"bg-background";switch(T.type){case"white":return"bg-white";case"dark":return"bg-background";case"custom":return"";default:return"bg-background"}})()),R=D("grid grid-cols-13 aspect-square w-full select-none rounded-lg",o?"gap-0.5":aO(l.cellSpacing)),P=D("w-full h-full aspect-square font-mono border transition-all duration-200","hover:ring-2 hover:ring-ring",iO(l.cellBorderRadius),lO(l.font.size),cO(l.font.weight),a?"p-0":"p-0.5");return i.jsx("div",{className:N,style:b(),children:i.jsx("div",{className:R,onTouchMove:a?y:void 0,children:vo.map((T,L)=>T.map((F,V)=>i.jsx(Y,{"data-hand":F,variant:"outline",size:"sm",className:D(P,_(F)),style:k(F),onMouseDown:a?void 0:B=>m(B,F),onMouseEnter:a?void 0:()=>v(F),onTouchStart:a?B=>x(B,F):void 0,children:F},`${L}-${V}`)))})})},pb=e=>e.length===2&&e[0]===e[1]?6:e.endsWith("s")?4:e.endsWith("o")?12:0,Lg=vo.flat().reduce((e,t)=>e+pb(t),0);function wl(e,[t,n]){return Math.min(n,Math.max(t,e))}var mb=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),uO="VisuallyHidden",dO=h.forwardRef((e,t)=>i.jsx(se.span,{...e,ref:t,style:{...mb,...e.style}}));dO.displayName=uO;var fO=[" ","Enter","ArrowUp","ArrowDown"],hO=[" ","Enter"],ss="Select",[jc,Cc,pO]=Pi(ss),[xo,WM]=st(ss,[pO,Zl]),_c=Zl(),[mO,Ar]=xo(ss),[gO,vO]=xo(ss),gb=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:o,value:a,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:p,required:g,form:S}=e,w=_c(t),[j,m]=h.useState(null),[v,x]=h.useState(null),[y,k]=h.useState(!1),_=ls(u),[b,C]=Dt({prop:r,defaultProp:s??!1,onChange:o,caller:ss}),[N,R]=Dt({prop:a,defaultProp:l,onChange:c,caller:ss}),P=h.useRef(null),T=j?S||!!j.closest("form"):!0,[L,F]=h.useState(new Set),V=Array.from(L).map(B=>B.props.value).join(";");return i.jsx(Hy,{...w,children:i.jsxs(mO,{required:g,scope:t,trigger:j,onTriggerChange:m,valueNode:v,onValueNodeChange:x,valueNodeHasChildren:y,onValueNodeHasChildrenChange:k,contentId:Ht(),value:N,onValueChange:R,open:b,onOpenChange:C,dir:_,triggerPointerDownPosRef:P,disabled:p,children:[i.jsx(jc.Provider,{scope:t,children:i.jsx(gO,{scope:e.__scopeSelect,onNativeOptionAdd:h.useCallback(B=>{F(q=>new Set(q).add(B))},[]),onNativeOptionRemove:h.useCallback(B=>{F(q=>{const I=new Set(q);return I.delete(B),I})},[]),children:n})}),T?i.jsxs(zb,{"aria-hidden":!0,required:g,tabIndex:-1,name:d,autoComplete:f,value:N,onChange:B=>R(B.target.value),disabled:p,form:S,children:[N===void 0?i.jsx("option",{value:""}):null,Array.from(L)]},V):null]})})};gb.displayName=ss;var vb="SelectTrigger",xb=h.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,o=_c(n),a=Ar(vb,n),l=a.disabled||r,c=fe(t,a.onTriggerChange),u=Cc(n),d=h.useRef("touch"),[f,p,g]=Bb(w=>{const j=u().filter(x=>!x.disabled),m=j.find(x=>x.value===a.value),v=Hb(j,w,m);v!==void 0&&a.onValueChange(v.value)}),S=w=>{l||(a.onOpenChange(!0),g()),w&&(a.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return i.jsx(Vy,{asChild:!0,...o,children:i.jsx(se.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Ub(a.value)?"":void 0,...s,ref:c,onClick:ne(s.onClick,w=>{w.currentTarget.focus(),d.current!=="mouse"&&S(w)}),onPointerDown:ne(s.onPointerDown,w=>{d.current=w.pointerType;const j=w.target;j.hasPointerCapture(w.pointerId)&&j.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(S(w),w.preventDefault())}),onKeyDown:ne(s.onKeyDown,w=>{const j=f.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&p(w.key),!(j&&w.key===" ")&&fO.includes(w.key)&&(S(),w.preventDefault())})})})});xb.displayName=vb;var yb="SelectValue",wb=h.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:a="",...l}=e,c=Ar(yb,n),{onValueNodeHasChildrenChange:u}=c,d=o!==void 0,f=fe(t,c.onValueNodeChange);return He(()=>{u(d)},[u,d]),i.jsx(se.span,{...l,ref:f,style:{pointerEvents:"none"},children:Ub(c.value)?i.jsx(i.Fragment,{children:a}):o})});wb.displayName=yb;var xO="SelectIcon",Sb=h.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return i.jsx(se.span,{"aria-hidden":!0,...s,ref:t,children:r||"▼"})});Sb.displayName=xO;var yO="SelectPortal",bb=e=>i.jsx(ec,{asChild:!0,...e});bb.displayName=yO;var os="SelectContent",jb=h.forwardRef((e,t)=>{const n=Ar(os,e.__scopeSelect),[r,s]=h.useState();if(He(()=>{s(new DocumentFragment)},[]),!n.open){const o=r;return o?co.createPortal(i.jsx(Cb,{scope:e.__scopeSelect,children:i.jsx(jc.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),o):null}return i.jsx(_b,{...e,ref:t})});jb.displayName=os;var Qt=10,[Cb,Ir]=xo(os),wO="SelectContentImpl",SO=ts("SelectContent.RemoveScroll"),_b=h.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:a,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:g,sticky:S,hideWhenDetached:w,avoidCollisions:j,...m}=e,v=Ar(os,n),[x,y]=h.useState(null),[k,_]=h.useState(null),b=fe(t,Z=>y(Z)),[C,N]=h.useState(null),[R,P]=h.useState(null),T=Cc(n),[L,F]=h.useState(!1),V=h.useRef(!1);h.useEffect(()=>{if(x)return xh(x)},[x]),ih();const B=h.useCallback(Z=>{const[le,...ge]=T().map(ue=>ue.ref.current),[pe]=ge.slice(-1),oe=document.activeElement;for(const ue of Z)if(ue===oe||(ue==null||ue.scrollIntoView({block:"nearest"}),ue===le&&k&&(k.scrollTop=0),ue===pe&&k&&(k.scrollTop=k.scrollHeight),ue==null||ue.focus(),document.activeElement!==oe))return},[T,k]),q=h.useCallback(()=>B([C,x]),[B,C,x]);h.useEffect(()=>{L&&q()},[L,q]);const{onOpenChange:I,triggerPointerDownPosRef:E}=v;h.useEffect(()=>{if(x){let Z={x:0,y:0};const le=pe=>{var oe,ue;Z={x:Math.abs(Math.round(pe.pageX)-(((oe=E.current)==null?void 0:oe.x)??0)),y:Math.abs(Math.round(pe.pageY)-(((ue=E.current)==null?void 0:ue.y)??0))}},ge=pe=>{Z.x<=10&&Z.y<=10?pe.preventDefault():x.contains(pe.target)||I(!1),document.removeEventListener("pointermove",le),E.current=null};return E.current!==null&&(document.addEventListener("pointermove",le),document.addEventListener("pointerup",ge,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",le),document.removeEventListener("pointerup",ge,{capture:!0})}}},[x,I,E]),h.useEffect(()=>{const Z=()=>I(!1);return window.addEventListener("blur",Z),window.addEventListener("resize",Z),()=>{window.removeEventListener("blur",Z),window.removeEventListener("resize",Z)}},[I]);const[O,z]=Bb(Z=>{const le=T().filter(oe=>!oe.disabled),ge=le.find(oe=>oe.ref.current===document.activeElement),pe=Hb(le,Z,ge);pe&&setTimeout(()=>pe.ref.current.focus())}),H=h.useCallback((Z,le,ge)=>{const pe=!V.current&&!ge;(v.value!==void 0&&v.value===le||pe)&&(N(Z),pe&&(V.current=!0))},[v.value]),J=h.useCallback(()=>x==null?void 0:x.focus(),[x]),K=h.useCallback((Z,le,ge)=>{const pe=!V.current&&!ge;(v.value!==void 0&&v.value===le||pe)&&P(Z)},[v.value]),he=r==="popper"?Xd:kb,ie=he===Xd?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:g,sticky:S,hideWhenDetached:w,avoidCollisions:j}:{};return i.jsx(Cb,{scope:n,content:x,viewport:k,onViewportChange:_,itemRefCallback:H,selectedItem:C,onItemLeave:J,itemTextRefCallback:K,focusSelectedItem:q,selectedItemText:R,position:r,isPositioned:L,searchRef:O,children:i.jsx(nc,{as:SO,allowPinchZoom:!0,children:i.jsx(Yl,{asChild:!0,trapped:v.open,onMountAutoFocus:Z=>{Z.preventDefault()},onUnmountAutoFocus:ne(s,Z=>{var le;(le=v.trigger)==null||le.focus({preventScroll:!0}),Z.preventDefault()}),children:i.jsx(ql,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:Z=>Z.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:i.jsx(he,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:Z=>Z.preventDefault(),...m,...ie,onPlaced:()=>F(!0),ref:b,style:{display:"flex",flexDirection:"column",outline:"none",...m.style},onKeyDown:ne(m.onKeyDown,Z=>{const le=Z.ctrlKey||Z.altKey||Z.metaKey;if(Z.key==="Tab"&&Z.preventDefault(),!le&&Z.key.length===1&&z(Z.key),["ArrowUp","ArrowDown","Home","End"].includes(Z.key)){let pe=T().filter(oe=>!oe.disabled).map(oe=>oe.ref.current);if(["ArrowUp","End"].includes(Z.key)&&(pe=pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(Z.key)){const oe=Z.target,ue=pe.indexOf(oe);pe=pe.slice(ue+1)}setTimeout(()=>B(pe)),Z.preventDefault()}})})})})})})});_b.displayName=wO;var bO="SelectItemAlignedPosition",kb=h.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,o=Ar(os,n),a=Ir(os,n),[l,c]=h.useState(null),[u,d]=h.useState(null),f=fe(t,b=>d(b)),p=Cc(n),g=h.useRef(!1),S=h.useRef(!0),{viewport:w,selectedItem:j,selectedItemText:m,focusSelectedItem:v}=a,x=h.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&u&&w&&j&&m){const b=o.trigger.getBoundingClientRect(),C=u.getBoundingClientRect(),N=o.valueNode.getBoundingClientRect(),R=m.getBoundingClientRect();if(o.dir!=="rtl"){const oe=R.left-C.left,ue=N.left-oe,A=b.left-ue,$=b.width+A,G=Math.max($,C.width),te=window.innerWidth-Qt,M=wl(ue,[Qt,Math.max(Qt,te-G)]);l.style.minWidth=$+"px",l.style.left=M+"px"}else{const oe=C.right-R.right,ue=window.innerWidth-N.right-oe,A=window.innerWidth-b.right-ue,$=b.width+A,G=Math.max($,C.width),te=window.innerWidth-Qt,M=wl(ue,[Qt,Math.max(Qt,te-G)]);l.style.minWidth=$+"px",l.style.right=M+"px"}const P=p(),T=window.innerHeight-Qt*2,L=w.scrollHeight,F=window.getComputedStyle(u),V=parseInt(F.borderTopWidth,10),B=parseInt(F.paddingTop,10),q=parseInt(F.borderBottomWidth,10),I=parseInt(F.paddingBottom,10),E=V+B+L+I+q,O=Math.min(j.offsetHeight*5,E),z=window.getComputedStyle(w),H=parseInt(z.paddingTop,10),J=parseInt(z.paddingBottom,10),K=b.top+b.height/2-Qt,he=T-K,ie=j.offsetHeight/2,Z=j.offsetTop+ie,le=V+B+Z,ge=E-le;if(le<=K){const oe=P.length>0&&j===P[P.length-1].ref.current;l.style.bottom="0px";const ue=u.clientHeight-w.offsetTop-w.offsetHeight,A=Math.max(he,ie+(oe?J:0)+ue+q),$=le+A;l.style.height=$+"px"}else{const oe=P.length>0&&j===P[0].ref.current;l.style.top="0px";const A=Math.max(K,V+w.offsetTop+(oe?H:0)+ie)+ge;l.style.height=A+"px",w.scrollTop=le-K+w.offsetTop}l.style.margin=`${Qt}px 0`,l.style.minHeight=O+"px",l.style.maxHeight=T+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[p,o.trigger,o.valueNode,l,u,w,j,m,o.dir,r]);He(()=>x(),[x]);const[y,k]=h.useState();He(()=>{u&&k(window.getComputedStyle(u).zIndex)},[u]);const _=h.useCallback(b=>{b&&S.current===!0&&(x(),v==null||v(),S.current=!1)},[x,v]);return i.jsx(CO,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:_,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:y},children:i.jsx(se.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});kb.displayName=bO;var jO="SelectPopperPosition",Xd=h.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Qt,...o}=e,a=_c(n);return i.jsx(Wy,{...a,...o,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Xd.displayName=jO;var[CO,qh]=xo(os,{}),Qd="SelectViewport",Nb=h.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,o=Ir(Qd,n),a=qh(Qd,n),l=fe(t,o.onViewportChange),c=h.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),i.jsx(jc.Slot,{scope:n,children:i.jsx(se.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ne(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=a;if(p!=null&&p.current&&f){const g=Math.abs(c.current-d.scrollTop);if(g>0){const S=window.innerHeight-Qt*2,w=parseFloat(f.style.minHeight),j=parseFloat(f.style.height),m=Math.max(w,j);if(m<S){const v=m+g,x=Math.min(S,v),y=v-x;f.style.height=x+"px",f.style.bottom==="0px"&&(d.scrollTop=y>0?y:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});Nb.displayName=Qd;var Eb="SelectGroup",[_O,kO]=xo(Eb),NO=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Ht();return i.jsx(_O,{scope:n,id:s,children:i.jsx(se.div,{role:"group","aria-labelledby":s,...r,ref:t})})});NO.displayName=Eb;var Rb="SelectLabel",Tb=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=kO(Rb,n);return i.jsx(se.div,{id:s.id,...r,ref:t})});Tb.displayName=Rb;var Sl="SelectItem",[EO,Pb]=xo(Sl),Ab=h.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...a}=e,l=Ar(Sl,n),c=Ir(Sl,n),u=l.value===r,[d,f]=h.useState(o??""),[p,g]=h.useState(!1),S=fe(t,v=>{var x;return(x=c.itemRefCallback)==null?void 0:x.call(c,v,r,s)}),w=Ht(),j=h.useRef("touch"),m=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(EO,{scope:n,value:r,disabled:s,textId:w,isSelected:u,onItemTextChange:h.useCallback(v=>{f(x=>x||((v==null?void 0:v.textContent)??"").trim())},[]),children:i.jsx(jc.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:i.jsx(se.div,{role:"option","aria-labelledby":w,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:S,onFocus:ne(a.onFocus,()=>g(!0)),onBlur:ne(a.onBlur,()=>g(!1)),onClick:ne(a.onClick,()=>{j.current!=="mouse"&&m()}),onPointerUp:ne(a.onPointerUp,()=>{j.current==="mouse"&&m()}),onPointerDown:ne(a.onPointerDown,v=>{j.current=v.pointerType}),onPointerMove:ne(a.onPointerMove,v=>{var x;j.current=v.pointerType,s?(x=c.onItemLeave)==null||x.call(c):j.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ne(a.onPointerLeave,v=>{var x;v.currentTarget===document.activeElement&&((x=c.onItemLeave)==null||x.call(c))}),onKeyDown:ne(a.onKeyDown,v=>{var y;((y=c.searchRef)==null?void 0:y.current)!==""&&v.key===" "||(hO.includes(v.key)&&m(),v.key===" "&&v.preventDefault())})})})})});Ab.displayName=Sl;var Uo="SelectItemText",Ib=h.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...o}=e,a=Ar(Uo,n),l=Ir(Uo,n),c=Pb(Uo,n),u=vO(Uo,n),[d,f]=h.useState(null),p=fe(t,m=>f(m),c.onItemTextChange,m=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,m,c.value,c.disabled)}),g=d==null?void 0:d.textContent,S=h.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:w,onNativeOptionRemove:j}=u;return He(()=>(w(S),()=>j(S)),[w,j,S]),i.jsxs(i.Fragment,{children:[i.jsx(se.span,{id:c.textId,...o,ref:p}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?co.createPortal(o.children,a.valueNode):null]})});Ib.displayName=Uo;var Ob="SelectItemIndicator",Db=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return Pb(Ob,n).isSelected?i.jsx(se.span,{"aria-hidden":!0,...r,ref:t}):null});Db.displayName=Ob;var Zd="SelectScrollUpButton",Mb=h.forwardRef((e,t)=>{const n=Ir(Zd,e.__scopeSelect),r=qh(Zd,e.__scopeSelect),[s,o]=h.useState(!1),a=fe(t,r.onScrollButtonChange);return He(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;o(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?i.jsx($b,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});Mb.displayName=Zd;var ef="SelectScrollDownButton",Lb=h.forwardRef((e,t)=>{const n=Ir(ef,e.__scopeSelect),r=qh(ef,e.__scopeSelect),[s,o]=h.useState(!1),a=fe(t,r.onScrollButtonChange);return He(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;o(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?i.jsx($b,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});Lb.displayName=ef;var $b=h.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,o=Ir("SelectScrollButton",n),a=h.useRef(null),l=Cc(n),c=h.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return h.useEffect(()=>()=>c(),[c]),He(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),i.jsx(se.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:ne(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:ne(s.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:ne(s.onPointerLeave,()=>{c()})})}),RO="SelectSeparator",Fb=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return i.jsx(se.div,{"aria-hidden":!0,...r,ref:t})});Fb.displayName=RO;var tf="SelectArrow",TO=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=_c(n),o=Ar(tf,n),a=Ir(tf,n);return o.open&&a.position==="popper"?i.jsx(Ky,{...s,...r,ref:t}):null});TO.displayName=tf;var PO="SelectBubbleInput",zb=h.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const s=h.useRef(null),o=fe(r,s),a=zi(t);return h.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[a,t]),i.jsx(se.select,{...n,style:{...mb,...n.style},ref:o,defaultValue:t})});zb.displayName=PO;function Ub(e){return e===""||e===void 0}function Bb(e){const t=cn(e),n=h.useRef(""),r=h.useRef(0),s=h.useCallback(a=>{const l=n.current+a;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),o=h.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function Hb(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let a=AO(e,Math.max(o,0));s.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function AO(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var IO=gb,Vb=xb,OO=wb,DO=Sb,MO=bb,Wb=jb,LO=Nb,Kb=Tb,Gb=Ab,$O=Ib,FO=Db,qb=Mb,Yb=Lb,Jb=Fb;const Vn=IO,Wn=OO,_n=h.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(Vb,{ref:r,className:D("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,i.jsx(DO,{asChild:!0,children:i.jsx(kh,{className:"h-4 w-4 opacity-50"})})]}));_n.displayName=Vb.displayName;const Xb=h.forwardRef(({className:e,...t},n)=>i.jsx(qb,{ref:n,className:D("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(L2,{className:"h-4 w-4"})}));Xb.displayName=qb.displayName;const Qb=h.forwardRef(({className:e,...t},n)=>i.jsx(Yb,{ref:n,className:D("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(kh,{className:"h-4 w-4"})}));Qb.displayName=Yb.displayName;const kn=h.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>i.jsx(MO,{children:i.jsxs(Wb,{ref:s,className:D("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[i.jsx(Xb,{}),i.jsx(LO,{className:D("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),i.jsx(Qb,{})]})}));kn.displayName=Wb.displayName;const zO=h.forwardRef(({className:e,...t},n)=>i.jsx(Kb,{ref:n,className:D("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));zO.displayName=Kb.displayName;const Je=h.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(Gb,{ref:r,className:D("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(FO,{children:i.jsx(ic,{className:"h-4 w-4"})})}),i.jsx($O,{children:t})]}));Je.displayName=Gb.displayName;const UO=h.forwardRef(({className:e,...t},n)=>i.jsx(Jb,{ref:n,className:D("-mx-1 my-1 h-px bg-muted",e),...t}));UO.displayName=Jb.displayName;var Zb=["PageUp","PageDown"],ej=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],tj={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},yo="Slider",[nf,BO,HO]=Pi(yo),[nj,KM]=st(yo,[HO]),[VO,kc]=nj(yo),rj=h.forwardRef((e,t)=>{const{name:n,min:r=0,max:s=100,step:o=1,orientation:a="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[r],value:d,onValueChange:f=()=>{},onValueCommit:p=()=>{},inverted:g=!1,form:S,...w}=e,j=h.useRef(new Set),m=h.useRef(0),x=a==="horizontal"?WO:KO,[y=[],k]=Dt({prop:d,defaultProp:u,onChange:P=>{var L;(L=[...j.current][m.current])==null||L.focus(),f(P)}}),_=h.useRef(y);function b(P){const T=XO(y,P);R(P,T)}function C(P){R(P,m.current)}function N(){const P=_.current[m.current];y[m.current]!==P&&p(y)}function R(P,T,{commit:L}={commit:!1}){const F=tD(o),V=nD(Math.round((P-r)/o)*o+r,F),B=wl(V,[r,s]);k((q=[])=>{const I=YO(q,B,T);if(eD(I,c*o)){m.current=I.indexOf(B);const E=String(I)!==String(q);return E&&L&&p(I),E?I:q}else return q})}return i.jsx(VO,{scope:e.__scopeSlider,name:n,disabled:l,min:r,max:s,valueIndexToChangeRef:m,thumbs:j.current,values:y,orientation:a,form:S,children:i.jsx(nf.Provider,{scope:e.__scopeSlider,children:i.jsx(nf.Slot,{scope:e.__scopeSlider,children:i.jsx(x,{"aria-disabled":l,"data-disabled":l?"":void 0,...w,ref:t,onPointerDown:ne(w.onPointerDown,()=>{l||(_.current=y)}),min:r,max:s,inverted:g,onSlideStart:l?void 0:b,onSlideMove:l?void 0:C,onSlideEnd:l?void 0:N,onHomeKeyDown:()=>!l&&R(r,0,{commit:!0}),onEndKeyDown:()=>!l&&R(s,y.length-1,{commit:!0}),onStepKeyDown:({event:P,direction:T})=>{if(!l){const V=Zb.includes(P.key)||P.shiftKey&&ej.includes(P.key)?10:1,B=m.current,q=y[B],I=o*V*T;R(q+I,B,{commit:!0})}}})})})})});rj.displayName=yo;var[sj,oj]=nj(yo,{startEdge:"left",endEdge:"right",size:"width",direction:1}),WO=h.forwardRef((e,t)=>{const{min:n,max:r,dir:s,inverted:o,onSlideStart:a,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...d}=e,[f,p]=h.useState(null),g=fe(t,x=>p(x)),S=h.useRef(void 0),w=ls(s),j=w==="ltr",m=j&&!o||!j&&o;function v(x){const y=S.current||f.getBoundingClientRect(),k=[0,y.width],b=Yh(k,m?[n,r]:[r,n]);return S.current=y,b(x-y.left)}return i.jsx(sj,{scope:e.__scopeSlider,startEdge:m?"left":"right",endEdge:m?"right":"left",direction:m?1:-1,size:"width",children:i.jsx(ij,{dir:w,"data-orientation":"horizontal",...d,ref:g,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:x=>{const y=v(x.clientX);a==null||a(y)},onSlideMove:x=>{const y=v(x.clientX);l==null||l(y)},onSlideEnd:()=>{S.current=void 0,c==null||c()},onStepKeyDown:x=>{const k=tj[m?"from-left":"from-right"].includes(x.key);u==null||u({event:x,direction:k?-1:1})}})})}),KO=h.forwardRef((e,t)=>{const{min:n,max:r,inverted:s,onSlideStart:o,onSlideMove:a,onSlideEnd:l,onStepKeyDown:c,...u}=e,d=h.useRef(null),f=fe(t,d),p=h.useRef(void 0),g=!s;function S(w){const j=p.current||d.current.getBoundingClientRect(),m=[0,j.height],x=Yh(m,g?[r,n]:[n,r]);return p.current=j,x(w-j.top)}return i.jsx(sj,{scope:e.__scopeSlider,startEdge:g?"bottom":"top",endEdge:g?"top":"bottom",size:"height",direction:g?1:-1,children:i.jsx(ij,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:w=>{const j=S(w.clientY);o==null||o(j)},onSlideMove:w=>{const j=S(w.clientY);a==null||a(j)},onSlideEnd:()=>{p.current=void 0,l==null||l()},onStepKeyDown:w=>{const m=tj[g?"from-bottom":"from-top"].includes(w.key);c==null||c({event:w,direction:m?-1:1})}})})}),ij=h.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:s,onSlideEnd:o,onHomeKeyDown:a,onEndKeyDown:l,onStepKeyDown:c,...u}=e,d=kc(yo,n);return i.jsx(se.span,{...u,ref:t,onKeyDown:ne(e.onKeyDown,f=>{f.key==="Home"?(a(f),f.preventDefault()):f.key==="End"?(l(f),f.preventDefault()):Zb.concat(ej).includes(f.key)&&(c(f),f.preventDefault())}),onPointerDown:ne(e.onPointerDown,f=>{const p=f.target;p.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(p)?p.focus():r(f)}),onPointerMove:ne(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&s(f)}),onPointerUp:ne(e.onPointerUp,f=>{const p=f.target;p.hasPointerCapture(f.pointerId)&&(p.releasePointerCapture(f.pointerId),o(f))})})}),aj="SliderTrack",lj=h.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,s=kc(aj,n);return i.jsx(se.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...r,ref:t})});lj.displayName=aj;var rf="SliderRange",cj=h.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,s=kc(rf,n),o=oj(rf,n),a=h.useRef(null),l=fe(t,a),c=s.values.length,u=s.values.map(p=>fj(p,s.min,s.max)),d=c>1?Math.min(...u):0,f=100-Math.max(...u);return i.jsx(se.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...r,ref:l,style:{...e.style,[o.startEdge]:d+"%",[o.endEdge]:f+"%"}})});cj.displayName=rf;var sf="SliderThumb",uj=h.forwardRef((e,t)=>{const n=BO(e.__scopeSlider),[r,s]=h.useState(null),o=fe(t,l=>s(l)),a=h.useMemo(()=>r?n().findIndex(l=>l.ref.current===r):-1,[n,r]);return i.jsx(GO,{...e,ref:o,index:a})}),GO=h.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:s,...o}=e,a=kc(sf,n),l=oj(sf,n),[c,u]=h.useState(null),d=fe(t,v=>u(v)),f=c?a.form||!!c.closest("form"):!0,p=Ii(c),g=a.values[r],S=g===void 0?0:fj(g,a.min,a.max),w=JO(r,a.values.length),j=p==null?void 0:p[l.size],m=j?QO(j,S,l.direction):0;return h.useEffect(()=>{if(c)return a.thumbs.add(c),()=>{a.thumbs.delete(c)}},[c,a.thumbs]),i.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${S}% + ${m}px)`},children:[i.jsx(nf.ItemSlot,{scope:e.__scopeSlider,children:i.jsx(se.span,{role:"slider","aria-label":e["aria-label"]||w,"aria-valuemin":a.min,"aria-valuenow":g,"aria-valuemax":a.max,"aria-orientation":a.orientation,"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,tabIndex:a.disabled?void 0:0,...o,ref:d,style:g===void 0?{display:"none"}:e.style,onFocus:ne(e.onFocus,()=>{a.valueIndexToChangeRef.current=r})})}),f&&i.jsx(dj,{name:s??(a.name?a.name+(a.values.length>1?"[]":""):void 0),form:a.form,value:g},r)]})});uj.displayName=sf;var qO="RadioBubbleInput",dj=h.forwardRef(({__scopeSlider:e,value:t,...n},r)=>{const s=h.useRef(null),o=fe(s,r),a=zi(t);return h.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==t&&d){const f=new Event("input",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[a,t]),i.jsx(se.input,{style:{display:"none"},...n,ref:o,defaultValue:t})});dj.displayName=qO;function YO(e=[],t,n){const r=[...e];return r[n]=t,r.sort((s,o)=>s-o)}function fj(e,t,n){const o=100/(n-t)*(e-t);return wl(o,[0,100])}function JO(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function XO(e,t){if(e.length===1)return 0;const n=e.map(s=>Math.abs(s-t)),r=Math.min(...n);return n.indexOf(r)}function QO(e,t,n){const r=e/2,o=Yh([0,50],[0,r]);return(r-o(t)*n)*n}function ZO(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function eD(e,t){if(t>0){const n=ZO(e);return Math.min(...n)>=t}return!0}function Yh(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function tD(e){return(String(e).split(".")[1]||"").length}function nD(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var hj=rj,rD=lj,sD=cj,oD=uj;const Jh=h.forwardRef(({className:e,...t},n)=>i.jsxs(hj,{ref:n,className:D("relative flex w-full touch-none select-none items-center",e),...t,children:[i.jsx(rD,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:i.jsx(sD,{className:"absolute h-full bg-primary"})}),i.jsx(oD,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Jh.displayName=hj.displayName;const Tu=["#cfb912","#bf792d","#bd3636","#ce3298","#4248c0","#128caa","#9b24be","#b2275a","#2bb04a","#137d64"],iD=({open:e,onOpenChange:t,onSave:n})=>{const{actionButtons:r}=mn(),s=In(),[o,a]=h.useState("simple"),[l,c]=h.useState(""),[u,d]=h.useState(Tu[0]),[f,p]=h.useState("fold"),[g,S]=h.useState(""),[w,j]=h.useState(50),m=h.useMemo(()=>{const k={id:"fold",name:"Fold",color:"#6b7280",type:"simple"},_=r.filter(b=>b.type==="simple");return[k,..._]},[r]),v=()=>{if(!l.trim())return;let k;if(o==="simple")k={id:Date.now().toString(),type:"simple",name:l.trim(),color:u};else{if(!f||!g)return;k={id:Date.now().toString(),type:"weighted",name:l.trim(),action1Id:f,action2Id:g,weight:w}}n(k),x()},x=()=>{c(""),a("simple"),d(Tu[0]),p("fold"),S(""),j(50),t(!1)},y=!l.trim()||o==="weighted"&&(!f||!g);return i.jsx(wt,{open:e,onOpenChange:t,children:i.jsxs(ut,{className:"sm:max-w-[480px]",children:[i.jsxs(dt,{children:[i.jsx(ft,{children:"Создать кнопку действия"}),i.jsx(An,{children:"Настройте простую или взвешенную кнопку для вашей стратегии."})]}),i.jsxs("div",{className:"space-y-6 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(U,{htmlFor:"action-name",children:"Название кнопки"}),i.jsx(be,{id:"action-name",value:l,onChange:k=>c(k.target.value),placeholder:"например, 3-bet"})]}),i.jsxs(tt,{value:o,onValueChange:k=>a(k),className:"flex gap-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(de,{value:"simple",id:"simple"}),i.jsx(U,{htmlFor:"simple",children:"Простой цвет"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(de,{value:"weighted",id:"weighted"}),i.jsx(U,{htmlFor:"weighted",children:"Взвешенный"})]})]}),o==="simple"&&i.jsxs("div",{className:"space-y-3",children:[i.jsx(U,{children:"Цвет"}),i.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[Tu.map(k=>i.jsx("button",{type:"button",className:D("w-8 h-8 rounded-full border-2 transition-all",u===k?"border-ring":"border-transparent"),style:{backgroundColor:k},onClick:()=>d(k)},k)),!s&&i.jsx("input",{type:"color",value:u,onChange:k=>d(k.target.value),className:"w-8 h-8 rounded-full border-2 cursor-pointer"})]})]}),o==="weighted"&&i.jsxs("div",{className:"space-y-4 rounded-md border p-4",children:[i.jsx("h4",{className:"font-medium",children:"Веса"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(U,{children:"Действие 1"}),i.jsxs(Vn,{value:f,onValueChange:p,children:[i.jsx(_n,{children:i.jsx(Wn,{placeholder:"Выберите"})}),i.jsx(kn,{children:m.map(k=>i.jsx(Je,{value:k.id,children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:k.color}}),i.jsx("span",{children:k.name})]})},k.id))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(U,{children:"Действие 2"}),i.jsxs(Vn,{value:g,onValueChange:S,children:[i.jsx(_n,{children:i.jsx(Wn,{placeholder:"Выберите"})}),i.jsx(kn,{children:m.map(k=>i.jsx(Je,{value:k.id,children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:k.color}}),i.jsx("span",{children:k.name})]})},k.id))})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx(U,{children:"Соотношение"}),i.jsxs("span",{children:[w,"% / ",100-w,"%"]})]}),i.jsx(Jh,{value:[w],onValueChange:k=>j(k[0]),min:0,max:100,step:1})]})]})]}),i.jsxs(pn,{children:[i.jsx(Y,{variant:"outline",onClick:x,children:"Отмена"}),i.jsx(Y,{onClick:v,disabled:y,children:"Сохранить"})]})]})})},aD=(e,t)=>{if(e.type==="simple")return{backgroundColor:e.color};if(e.type==="weighted"){const n=o=>{const a=t.find(l=>l.id===o);return a&&a.type==="simple"?a.color:"#cccccc"},r=n(e.action1Id),s=n(e.action2Id);return{background:`linear-gradient(to right, ${r} ${e.weight}%, ${s} ${e.weight}%)`}}return{}},lD=({open:e,onOpenChange:t})=>{const n=In(),{actionButtons:r,hiddenActionIds:s,setHiddenActionIds:o}=mn(),a=d=>{o(f=>f.includes(d)?f.filter(p=>p!==d):[...f,d])},l=r.filter(d=>!s.includes(d.id)),c=r.filter(d=>s.includes(d.id)),u=(d,f)=>i.jsxs("div",{className:"space-y-2",children:[d.map(p=>i.jsxs("div",{className:"flex items-center justify-between gap-2 p-2 rounded-md bg-muted/50",children:[i.jsx("div",{className:"px-3 py-1 text-sm rounded text-primary-foreground flex-1 text-center truncate",style:aD(p,r),children:p.name}),i.jsx(Y,{variant:"ghost",size:"icon",onClick:()=>a(p.id),className:"h-8 w-8",children:f?i.jsx(H2,{className:"h-4 w-4"}):i.jsx(V2,{className:"h-4 w-4"})})]},p.id)),d.length===0&&i.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Список пуст"})]});return i.jsx(wt,{open:e,onOpenChange:t,children:i.jsxs(ut,{mobileFullscreen:n,className:D("sm:max-w-[640px]",n&&"flex flex-col h-full"),children:[i.jsxs(dt,{children:[i.jsx(ft,{children:"Настройки кнопок действий"}),i.jsx(An,{children:"Скройте или покажите кнопки, чтобы настроить рабочее пространство."})]}),i.jsxs("div",{className:D("grid grid-cols-1 md:grid-cols-2 gap-6 py-4",n&&"flex-1 overflow-y-auto"),children:[i.jsxs("div",{className:"space-y-3",children:[i.jsx("h4",{className:"font-medium text-center",children:"Видимые кнопки"}),i.jsx("div",{className:D("p-3 rounded-lg border",!n&&"h-64 overflow-y-auto"),children:u(l,!0)})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h4",{className:"font-medium text-center",children:"Скрытые кнопки"}),i.jsx("div",{className:D("p-3 rounded-lg border",!n&&"h-64 overflow-y-auto"),children:u(c,!1)})]})]}),i.jsx(pn,{className:D(n&&"mt-auto border-t pt-4"),children:i.jsx(Y,{onClick:()=>t(!1),className:D(n&&"w-full"),children:"Закрыть"})})]})})};var Nc="Switch",[cD,GM]=st(Nc),[uD,dD]=cD(Nc),pj=h.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:o,required:a,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[p,g]=h.useState(null),S=fe(t,x=>g(x)),w=h.useRef(!1),j=p?d||!!p.closest("form"):!0,[m,v]=Dt({prop:s,defaultProp:o??!1,onChange:u,caller:Nc});return i.jsxs(uD,{scope:n,checked:m,disabled:l,children:[i.jsx(se.button,{type:"button",role:"switch","aria-checked":m,"aria-required":a,"data-state":xj(m),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:S,onClick:ne(e.onClick,x=>{v(y=>!y),j&&(w.current=x.isPropagationStopped(),w.current||x.stopPropagation())})}),j&&i.jsx(vj,{control:p,bubbles:!w.current,name:r,value:c,checked:m,required:a,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});pj.displayName=Nc;var mj="SwitchThumb",gj=h.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,s=dD(mj,n);return i.jsx(se.span,{"data-state":xj(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t})});gj.displayName=mj;var fD="SwitchBubbleInput",vj=h.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...s},o)=>{const a=h.useRef(null),l=fe(a,o),c=zi(n),u=Ii(t);return h.useEffect(()=>{const d=a.current;if(!d)return;const f=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&g){const S=new Event("click",{bubbles:r});g.call(d,n),d.dispatchEvent(S)}},[c,n,r]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});vj.displayName=fD;function xj(e){return e?"checked":"unchecked"}var yj=pj,hD=gj;const wj=h.forwardRef(({className:e,...t},n)=>i.jsx(yj,{className:D("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:i.jsx(hD,{className:D("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));wj.displayName=yj.displayName;const pD=({open:e,onOpenChange:t,range:n,onSave:r})=>{const[s,o]=h.useState(!1),[a,l]=h.useState(""),[c,u]=h.useState(20),[d,f]=h.useState("center");h.useEffect(()=>{n&&(o(n.showTitle??!1),l(n.titleText??"Пользовательский заголовок"),u(n.titleFontSize??20),f(n.titleAlignment??"center"))},[n]);const p=()=>{r({showTitle:s,titleText:a,titleFontSize:c,titleAlignment:d}),t(!1)};return n?i.jsx(wt,{open:e,onOpenChange:t,children:i.jsxs(ut,{children:[i.jsx(dt,{children:i.jsxs(ft,{children:['Настроить заголовок для "',n.name,'"']})}),i.jsxs("div",{className:"space-y-6 py-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(U,{htmlFor:"show-title",className:"text-base",children:"Показывать заголовок"}),i.jsx(wj,{id:"show-title",checked:s,onCheckedChange:o})]}),s&&i.jsxs("div",{className:"space-y-4 animate-in fade-in-0 duration-300",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(U,{htmlFor:"title-text",children:"Текст заголовка"}),i.jsx(be,{id:"title-text",value:a,onChange:g=>l(g.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(U,{children:["Размер шрифта: ",c,"px"]}),i.jsx(Jh,{value:[c],onValueChange:g=>u(g[0]),min:12,max:48,step:1})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(U,{children:"Выравнивание"}),i.jsxs(tt,{value:d,onValueChange:g=>f(g),className:"flex gap-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(de,{value:"left",id:"align-left"}),i.jsx(U,{htmlFor:"align-left",children:"Слева"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(de,{value:"center",id:"align-center"}),i.jsx(U,{htmlFor:"align-center",children:"По центру"})]})]})]})]})]}),i.jsxs(pn,{children:[i.jsx(fT,{asChild:!0,children:i.jsx(Y,{variant:"outline",children:"Отмена"})}),i.jsx(Y,{onClick:p,children:"Сохранить"})]})]})}):null};var Sj="AlertDialog",[mD,qM]=st(Sj,[o0]),er=o0(),bj=e=>{const{__scopeAlertDialog:t,...n}=e,r=er(t);return i.jsx(Ah,{...r,...n,modal:!0})};bj.displayName=Sj;var gD="AlertDialogTrigger",jj=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=er(n);return i.jsx(S0,{...s,...r,ref:t})});jj.displayName=gD;var vD="AlertDialogPortal",Cj=e=>{const{__scopeAlertDialog:t,...n}=e,r=er(t);return i.jsx(Ih,{...r,...n})};Cj.displayName=vD;var xD="AlertDialogOverlay",_j=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=er(n);return i.jsx(lc,{...s,...r,ref:t})});_j.displayName=xD;var Gs="AlertDialogContent",[yD,wD]=mD(Gs),SD=J_("AlertDialogContent"),kj=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...s}=e,o=er(n),a=h.useRef(null),l=fe(t,a),c=h.useRef(null);return i.jsx(aT,{contentName:Gs,titleName:Nj,docsSlug:"alert-dialog",children:i.jsx(yD,{scope:n,cancelRef:c,children:i.jsxs(cc,{role:"alertdialog",...o,...s,ref:l,onOpenAutoFocus:ne(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[i.jsx(SD,{children:r}),i.jsx(jD,{contentRef:a})]})})})});kj.displayName=Gs;var Nj="AlertDialogTitle",Ej=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=er(n);return i.jsx(uc,{...s,...r,ref:t})});Ej.displayName=Nj;var Rj="AlertDialogDescription",Tj=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=er(n);return i.jsx(dc,{...s,...r,ref:t})});Tj.displayName=Rj;var bD="AlertDialogAction",Pj=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=er(n);return i.jsx(Li,{...s,...r,ref:t})});Pj.displayName=bD;var Aj="AlertDialogCancel",Ij=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:s}=wD(Aj,n),o=er(n),a=fe(t,s);return i.jsx(Li,{...o,...r,ref:a})});Ij.displayName=Aj;var jD=({contentRef:e})=>{const t=`\`${Gs}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Gs}\` by passing a \`${Rj}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Gs}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return h.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},CD=bj,_D=jj,kD=Cj,Oj=_j,Dj=kj,Mj=Pj,Lj=Ij,$j=Ej,Fj=Tj;const of=CD,$g=_D,ND=kD,zj=h.forwardRef(({className:e,...t},n)=>i.jsx(Oj,{className:D("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));zj.displayName=Oj.displayName;const bl=h.forwardRef(({className:e,...t},n)=>i.jsxs(ND,{children:[i.jsx(zj,{}),i.jsx(Dj,{ref:n,className:D("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));bl.displayName=Dj.displayName;const jl=({className:e,...t})=>i.jsx("div",{className:D("flex flex-col space-y-2 text-center sm:text-left",e),...t});jl.displayName="AlertDialogHeader";const Cl=({className:e,...t})=>i.jsx("div",{className:D("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Cl.displayName="AlertDialogFooter";const _l=h.forwardRef(({className:e,...t},n)=>i.jsx($j,{ref:n,className:D("text-lg font-semibold",e),...t}));_l.displayName=$j.displayName;const kl=h.forwardRef(({className:e,...t},n)=>i.jsx(Fj,{ref:n,className:D("text-sm text-muted-foreground",e),...t}));kl.displayName=Fj.displayName;const Nl=h.forwardRef(({className:e,...t},n)=>i.jsx(Mj,{ref:n,className:D(Gl(),e),...t}));Nl.displayName=Mj.displayName;const El=h.forwardRef(({className:e,...t},n)=>i.jsx(Lj,{ref:n,className:D(Gl({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));El.displayName=Lj.displayName;var Ec="Collapsible",[ED,Uj]=st(Ec),[RD,Xh]=ED(Ec),Bj=h.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:s,disabled:o,onOpenChange:a,...l}=e,[c,u]=Dt({prop:r,defaultProp:s??!1,onChange:a,caller:Ec});return i.jsx(RD,{scope:n,disabled:o,contentId:Ht(),open:c,onOpenToggle:h.useCallback(()=>u(d=>!d),[u]),children:i.jsx(se.div,{"data-state":Zh(c),"data-disabled":o?"":void 0,...l,ref:t})})});Bj.displayName=Ec;var Hj="CollapsibleTrigger",Vj=h.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,s=Xh(Hj,n);return i.jsx(se.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":Zh(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...r,ref:t,onClick:ne(e.onClick,s.onOpenToggle)})});Vj.displayName=Hj;var Qh="CollapsibleContent",Wj=h.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Xh(Qh,e.__scopeCollapsible);return i.jsx(qt,{present:n||s.open,children:({present:o})=>i.jsx(TD,{...r,ref:t,present:o})})});Wj.displayName=Qh;var TD=h.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:s,...o}=e,a=Xh(Qh,n),[l,c]=h.useState(r),u=h.useRef(null),d=fe(t,u),f=h.useRef(0),p=f.current,g=h.useRef(0),S=g.current,w=a.open||l,j=h.useRef(w),m=h.useRef(void 0);return h.useEffect(()=>{const v=requestAnimationFrame(()=>j.current=!1);return()=>cancelAnimationFrame(v)},[]),He(()=>{const v=u.current;if(v){m.current=m.current||{transitionDuration:v.style.transitionDuration,animationName:v.style.animationName},v.style.transitionDuration="0s",v.style.animationName="none";const x=v.getBoundingClientRect();f.current=x.height,g.current=x.width,j.current||(v.style.transitionDuration=m.current.transitionDuration,v.style.animationName=m.current.animationName),c(r)}},[a.open,r]),i.jsx(se.div,{"data-state":Zh(a.open),"data-disabled":a.disabled?"":void 0,id:a.contentId,hidden:!w,...o,ref:d,style:{"--radix-collapsible-content-height":p?`${p}px`:void 0,"--radix-collapsible-content-width":S?`${S}px`:void 0,...e.style},children:w&&s})});function Zh(e){return e?"open":"closed"}var PD=Bj,AD=Vj,ID=Wj,gn="Accordion",OD=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[ep,DD,MD]=Pi(gn),[Rc,YM]=st(gn,[MD,Uj]),tp=Uj(),Kj=X.forwardRef((e,t)=>{const{type:n,...r}=e,s=r,o=r;return i.jsx(ep.Provider,{scope:e.__scopeAccordion,children:n==="multiple"?i.jsx(zD,{...o,ref:t}):i.jsx(FD,{...s,ref:t})})});Kj.displayName=gn;var[Gj,LD]=Rc(gn),[qj,$D]=Rc(gn,{collapsible:!1}),FD=X.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},collapsible:o=!1,...a}=e,[l,c]=Dt({prop:n,defaultProp:r??"",onChange:s,caller:gn});return i.jsx(Gj,{scope:e.__scopeAccordion,value:X.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:X.useCallback(()=>o&&c(""),[o,c]),children:i.jsx(qj,{scope:e.__scopeAccordion,collapsible:o,children:i.jsx(Yj,{...a,ref:t})})})}),zD=X.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},...o}=e,[a,l]=Dt({prop:n,defaultProp:r??[],onChange:s,caller:gn}),c=X.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=X.useCallback(d=>l((f=[])=>f.filter(p=>p!==d)),[l]);return i.jsx(Gj,{scope:e.__scopeAccordion,value:a,onItemOpen:c,onItemClose:u,children:i.jsx(qj,{scope:e.__scopeAccordion,collapsible:!0,children:i.jsx(Yj,{...o,ref:t})})})}),[UD,Tc]=Rc(gn),Yj=X.forwardRef((e,t)=>{const{__scopeAccordion:n,disabled:r,dir:s,orientation:o="vertical",...a}=e,l=X.useRef(null),c=fe(l,t),u=DD(n),f=ls(s)==="ltr",p=ne(e.onKeyDown,g=>{var C;if(!OD.includes(g.key))return;const S=g.target,w=u().filter(N=>{var R;return!((R=N.ref.current)!=null&&R.disabled)}),j=w.findIndex(N=>N.ref.current===S),m=w.length;if(j===-1)return;g.preventDefault();let v=j;const x=0,y=m-1,k=()=>{v=j+1,v>y&&(v=x)},_=()=>{v=j-1,v<x&&(v=y)};switch(g.key){case"Home":v=x;break;case"End":v=y;break;case"ArrowRight":o==="horizontal"&&(f?k():_());break;case"ArrowDown":o==="vertical"&&k();break;case"ArrowLeft":o==="horizontal"&&(f?_():k());break;case"ArrowUp":o==="vertical"&&_();break}const b=v%m;(C=w[b].ref.current)==null||C.focus()});return i.jsx(UD,{scope:n,disabled:r,direction:s,orientation:o,children:i.jsx(ep.Slot,{scope:n,children:i.jsx(se.div,{...a,"data-orientation":o,ref:c,onKeyDown:r?void 0:p})})})}),Rl="AccordionItem",[BD,np]=Rc(Rl),Jj=X.forwardRef((e,t)=>{const{__scopeAccordion:n,value:r,...s}=e,o=Tc(Rl,n),a=LD(Rl,n),l=tp(n),c=Ht(),u=r&&a.value.includes(r)||!1,d=o.disabled||e.disabled;return i.jsx(BD,{scope:n,open:u,disabled:d,triggerId:c,children:i.jsx(PD,{"data-orientation":o.orientation,"data-state":n1(u),...l,...s,ref:t,disabled:d,open:u,onOpenChange:f=>{f?a.onItemOpen(r):a.onItemClose(r)}})})});Jj.displayName=Rl;var Xj="AccordionHeader",Qj=X.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,s=Tc(gn,n),o=np(Xj,n);return i.jsx(se.h3,{"data-orientation":s.orientation,"data-state":n1(o.open),"data-disabled":o.disabled?"":void 0,...r,ref:t})});Qj.displayName=Xj;var af="AccordionTrigger",Zj=X.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,s=Tc(gn,n),o=np(af,n),a=$D(af,n),l=tp(n);return i.jsx(ep.ItemSlot,{scope:n,children:i.jsx(AD,{"aria-disabled":o.open&&!a.collapsible||void 0,"data-orientation":s.orientation,id:o.triggerId,...l,...r,ref:t})})});Zj.displayName=af;var e1="AccordionContent",t1=X.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,s=Tc(gn,n),o=np(e1,n),a=tp(n);return i.jsx(ID,{role:"region","aria-labelledby":o.triggerId,"data-orientation":s.orientation,...a,...r,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});t1.displayName=e1;function n1(e){return e?"open":"closed"}var HD=Kj,VD=Jj,WD=Qj,r1=Zj,s1=t1;const o1=HD,rp=h.forwardRef(({className:e,...t},n)=>i.jsx(VD,{ref:n,className:D("border-b",e),...t}));rp.displayName="AccordionItem";const sp=h.forwardRef(({className:e,children:t,...n},r)=>i.jsx(WD,{className:"flex",children:i.jsxs(r1,{ref:r,className:D("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...n,children:[t,i.jsx(kh,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));sp.displayName=r1.displayName;const op=h.forwardRef(({className:e,children:t,...n},r)=>i.jsx(s1,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:i.jsx("div",{className:D("pb-4 pt-0",e),children:t})}));op.displayName=s1.displayName;const Fg=({folders:e,selectedRange:t,setSelectedRange:n,editingFolderId:r,setEditingFolderId:s,editingButton:o,setEditingButton:a,updateFolderName:l,updateRangeName:c,addRange:u,deleteFolder:d,deleteRange:f,cloneRange:p,onOpenTitleSettings:g,isMobileMode:S,inDialog:w,totalFoldersCount:j,openFolderId:m,setOpenFolderId:v})=>i.jsx(o1,{type:"single",collapsible:!0,value:m||void 0,onValueChange:v,children:e.map(x=>i.jsxs(rp,{value:x.id,children:[i.jsxs(sp,{className:D("flex items-center justify-between mb-1 hover:no-underline",S?"py-2":"py-[0.28125rem]"),children:[r===x.id?i.jsx(be,{value:x.name,onChange:y=>l(x.id,y.target.value),onBlur:()=>s(null),onKeyDown:y=>{y.key==="Enter"&&s(null)},className:D("h-6 text-sm border-none bg-transparent p-0 focus:bg-background",S&&"max-w-[50vw]"),autoFocus:!0,onClick:y=>y.stopPropagation()}):i.jsx("span",{onDoubleClick:()=>s(x.id),className:D("cursor-text text-sm flex-1 truncate text-left",S&&"max-w-[50vw]"),children:x.name}),i.jsxs("div",{className:"flex items-center gap-1 ml-auto",children:[i.jsx(Y,{size:"sm",variant:"ghost",onClick:y=>{y.stopPropagation(),u(x.id)},className:"h-6 w-6 p-0",children:i.jsx(Wr,{className:"h-3 w-3"})}),j>1&&i.jsxs(of,{children:[i.jsx($g,{asChild:!0,children:i.jsx(Y,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0",onClick:y=>y.stopPropagation(),children:i.jsx(no,{className:"h-3 w-3"})})}),i.jsxs(bl,{children:[i.jsxs(jl,{children:[i.jsx(_l,{children:"Вы уверены?"}),i.jsxs(kl,{children:['Это действие безвозвратно удалит папку "',x.name,'" и все содержащиеся в ней ренжи.']})]}),i.jsxs(Cl,{children:[i.jsx(El,{children:"Отмена"}),i.jsx(Nl,{onClick:()=>d(x.id),children:"Удалить"})]})]})]})]})]}),i.jsx(op,{className:"pb-0 pt-0",children:i.jsx("div",{className:"space-y-1 ml-4",children:x.ranges.map(y=>i.jsxs("div",{className:D("flex items-center justify-between rounded cursor-pointer",S?"p-2":"p-[0.28125rem]",t===y.id?"bg-primary/10":"hover:bg-muted/50"),onClick:()=>{n(y.id)},children:[i.jsx("span",{onDoubleClick:k=>{k.stopPropagation(),a(y.id)},className:D("cursor-text text-xs flex-1 truncate",S&&"max-w-[50vw]"),children:o===y.id?i.jsx(be,{value:y.name,onChange:k=>c(y.id,k.target.value),onBlur:()=>a(null),onKeyDown:k=>{k.key==="Enter"&&a(null)},className:"h-5 text-xs border-none bg-transparent p-0 focus:bg-background",autoFocus:!0,onClick:k=>k.stopPropagation()}):y.name}),i.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[i.jsx(Y,{size:"sm",variant:"ghost",onClick:k=>{k.stopPropagation(),p(x.id,y)},className:"h-6 w-6 p-0",children:i.jsx(z2,{className:"h-3 w-3"})}),i.jsxs(of,{children:[i.jsxs(n0,{children:[i.jsx(r0,{asChild:!0,children:i.jsx(Y,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0",onClick:k=>k.stopPropagation(),children:i.jsx(U2,{className:"h-4 w-4"})})}),i.jsxs(Eh,{onClick:k=>k.stopPropagation(),side:"bottom",align:"end",children:[i.jsx(en,{onClick:()=>g(y),children:"Настроить заголовок"}),x.ranges.length>1&&i.jsx($g,{asChild:!0,children:i.jsx(en,{className:"text-red-500 focus:text-red-500 focus:bg-red-500/10",children:"Удалить ренж"})})]})]}),i.jsxs(bl,{children:[i.jsxs(jl,{children:[i.jsx(_l,{children:"Вы уверены?"}),i.jsxs(kl,{children:['Это действие безвозвратно удалит ренж "',y.name,'".']})]}),i.jsxs(Cl,{children:[i.jsx(El,{children:"Отмена"}),i.jsx(Nl,{onClick:()=>f(y.id),children:"Удалить"})]})]})]})]})]},y.id))})})]},x.id))}),zg=({isMobileMode:e=!1})=>{var pe,oe,ue;const[t,n]=h.useState(null),[r,s]=h.useState(null),{folders:o,setFolders:a,actionButtons:l,setActionButtons:c,foldColor:u,hiddenActionIds:d}=mn(),[f,p]=h.useState(((oe=(pe=o[0])==null?void 0:pe.ranges[0])==null?void 0:oe.id)||""),[g,S]=h.useState(((ue=l[0])==null?void 0:ue.id)||"raise"),[w,j]=h.useState(!1),[m,v]=h.useState(null),[x,y]=h.useState(!1),[k,_]=h.useState(!1),[b,C]=h.useState(null),N=l.filter(A=>!d.includes(A.id));h.useEffect(()=>{var $;const A=o.find(G=>G.ranges.some(te=>te.id===f));A?v(A.id):o.length>0?(v(o[0].id),p((($=o[0].ranges[0])==null?void 0:$.id)||"")):v(null)},[f,o]);const R=()=>{for(const A of o){const $=A.ranges.find(G=>G.id===f);if($)return{folder:A,range:$}}return o.length>0&&o[0].ranges.length>0?{folder:o[0],range:o[0].ranges[0]}:{folder:null,range:null}},P=(A,$)=>{a(G=>G.map(te=>({...te,ranges:te.ranges.map(M=>M.id===A?{...M,name:$}:M)})))},T=(A,$)=>{a(G=>G.map(te=>te.id===A?{...te,name:$}:te))},L=()=>{const A={id:Date.now().toString(),name:"Новая папка",ranges:[{id:Date.now().toString()+"-range",name:"Новый ренж",hands:{}}]};a($=>[...$,A]),p(A.ranges[0].id)},F=A=>{a($=>{var te;const G=$.filter(M=>M.id!==A);if(G.length===0){const M={id:Date.now().toString(),name:"Папка",ranges:[{id:Date.now().toString()+"-range",name:"Ренж",hands:{}}]};return p(M.ranges[0].id),[M]}else G.some(M=>M.ranges.some(Q=>Q.id===f))||p(((te=G[0].ranges[0])==null?void 0:te.id)||"");return G})},V=A=>{const $={id:Date.now().toString(),name:"Новый ренж",hands:{}};a(G=>G.map(te=>te.id===A?{...te,ranges:[...te.ranges,$]}:te)),p($.id)},B=(A,$)=>{const G={id:Date.now().toString(),name:`${$.name} +clone`,hands:{...$.hands},showTitle:$.showTitle,titleText:$.titleText,titleFontSize:$.titleFontSize,titleAlignment:$.titleAlignment};a(te=>te.map(M=>M.id===A?{...M,ranges:[...M.ranges,G]}:M)),p(G.id)},q=A=>{a($=>{let G=f;const te=$.map(M=>{const Q=M.ranges.filter(ee=>ee.id!==A);return Q.length===0&&M.id!=="1"?null:{...M,ranges:Q}}).filter(Boolean);if(G===A){let M=!1;for(const Q of te)if(Q.ranges.length>0){G=Q.ranges[0].id,M=!0;break}if(!M){const Q={id:Date.now().toString(),name:"Папка",ranges:[{id:Date.now().toString()+"-range",name:"Ренж",hands:{}}]};return G=Q.ranges[0].id,[Q]}}return p(G),te})},I=A=>{c($=>[...$,A]),S(A.id)},E=(A,$,G)=>{c(te=>te.map(M=>M.id===A&&M.type==="simple"?{...M,[$]:G}:M))},O=A=>{if(l.length<=1)return;const $=l.find(te=>te.id===A);if(!$)return;const G=new Set([A]);$.type==="simple"&&l.forEach(te=>{te.type==="weighted"&&(te.action1Id===A||te.action2Id===A)&&G.add(te.id)}),a(te=>te.map(M=>({...M,ranges:M.ranges.map(Q=>{const ee={...Q.hands};return Object.entries(ee).forEach(([ae,Se])=>{G.has(Se)&&delete ee[ae]}),{...Q,hands:ee}})}))),c(te=>{var Q;const M=te.filter(ee=>!G.has(ee.id));return G.has(g)&&S(((Q=M[0])==null?void 0:Q.id)||""),M})},z=(A,$)=>{const{range:G}=R();if(!G)return;const te={...G.hands};$==="select"?te[A]=g:te[A]===g&&delete te[A],a(M=>M.map(Q=>({...Q,ranges:Q.ranges.map(ee=>ee.id===G.id?{...ee,hands:te}:ee)})))},H=A=>{b&&(a($=>$.map(G=>({...G,ranges:G.ranges.map(te=>te.id===b.id?{...te,...A}:te)}))),C(null))},{folder:J,range:K}=R(),he=()=>{if(!K||!K.hands)return 0;let A=0;return Object.entries(K.hands).forEach(([$,G])=>{const te=pb($);G&&G!=="fold"&&typeof te=="number"&&!isNaN(te)&&(A+=te)}),A},ie=()=>{const A=he();return Lg>0?Math.round(A/Lg*100):0},Z=(A=!1)=>i.jsxs("div",{className:D("space-y-4",A?"flex-1 flex flex-col":""),children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-lg font-semibold",children:e||A?"Создать папку":"Создать"}),i.jsx(Y,{size:"sm",onClick:L,variant:e||A?"outline":"ghost",className:D(!(e||A)&&"h-6 w-6 p-0"),children:i.jsx(Wr,{className:"h-4 w-4"})})]}),i.jsx("div",{className:D("space-y-2 overflow-y-auto",!A&&e&&"max-h-64",A?"flex-1 min-h-0":"",!e&&!A&&"max-h-[calc(100vh-416px)]"),children:i.jsx(Fg,{folders:o,selectedRange:f,setSelectedRange:p,editingFolderId:r,setEditingFolderId:s,editingButton:t,setEditingButton:n,updateFolderName:T,updateRangeName:P,addRange:V,deleteFolder:F,deleteRange:q,cloneRange:B,onOpenTitleSettings:$=>C($),isMobileMode:e,inDialog:A,totalFoldersCount:o.length,openFolderId:m,setOpenFolderId:v})})]}),le=(A,$)=>{if(A==="fold")return u;const G=$.find(te=>te.id===A);return G&&G.type==="simple"?G.color:"#ffffff"},ge=A=>{if(A.type==="simple")return{backgroundColor:A.color};if(A.type==="weighted"){const $=le(A.action1Id,l),G=le(A.action2Id,l);return{background:`linear-gradient(to right, ${$} ${A.weight}%, ${G} ${A.weight}%)`}}return{}};return i.jsxs("div",{className:D("bg-background",e?"h-full flex flex-col":"flex h-screen"),children:[i.jsx(iD,{open:x,onOpenChange:y,onSave:I}),i.jsx(lD,{open:k,onOpenChange:_}),i.jsx(pD,{open:!!b,onOpenChange:A=>!A&&C(null),range:b,onSave:H}),e?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"flex-1 overflow-y-auto py-4",children:i.jsxs("div",{className:"mx-auto max-w-full",children:[i.jsxs("div",{className:"flex justify-between items-end mb-4 px-4",children:[i.jsxs("div",{className:"text-left",children:[J&&i.jsx("h2",{className:"text-base font-bold text-muted-foreground mb-px",children:J.name}),K&&i.jsx("h1",{className:"text-sm font-normal ml-1",children:K.name})]}),K&&i.jsxs("div",{className:"bg-background/80 px-2 py-1 rounded text-xs font-mono flex items-center gap-1 z-10",children:[i.jsxs("span",{className:"text-primary font-bold",children:[ie(),"%"]}),i.jsxs("span",{className:"text-muted-foreground",children:["(",he(),")"]})]})]}),K&&i.jsx("div",{className:"overflow-x-auto",children:i.jsx(Yr,{selectedHands:K.hands,onHandSelect:z,activeAction:g,actionButtons:l})}),i.jsx("div",{className:"bg-card rounded-lg p-3 mt-4 mx-4",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-sm font-medium",children:"Действия"}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Y,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0",onClick:()=>_(!0),children:i.jsx(Ks,{className:"h-4 w-4"})}),i.jsx(Y,{size:"sm",variant:"outline",onClick:()=>y(!0),children:i.jsx(Wr,{className:"h-3 w-3"})})]})]}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:N.map(A=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Y,{size:"sm",onClick:()=>S(A.id),style:ge(A),className:D("flex-1 min-w-0 text-primary-foreground border-transparent hover:opacity-90 transition-opacity text-center whitespace-normal",g===A.id&&"ring-2 ring-offset-2 ring-offset-card ring-primary","h-auto min-h-[1.5rem] py-1"),children:t===A.id?i.jsx(be,{value:A.name,onChange:$=>E(A.id,"name",$.target.value),onBlur:()=>n(null),onKeyDown:$=>{$.key==="Enter"&&n(null)},className:"h-5 text-xs border-none bg-transparent p-0 focus:bg-background text-center w-full",autoFocus:!0,onClick:$=>$.stopPropagation()}):i.jsx("span",{onDoubleClick:$=>{$.stopPropagation(),n(A.id)},className:"cursor-text px-1",children:A.name})}),i.jsxs("div",{className:"flex gap-1",children:[A.type==="simple"?i.jsx("input",{type:"color",value:A.color,onChange:$=>E(A.id,"color",$.target.value),className:"w-6 h-6 rounded border cursor-pointer"}):i.jsx("div",{className:"w-6 h-6 flex items-center justify-center",children:i.jsx(Qm,{className:"h-4 w-4 text-muted-foreground"})}),l.length>1&&i.jsx(Y,{size:"sm",variant:"ghost",onClick:()=>O(A.id),children:i.jsx(no,{className:"h-3 w-3"})})]})]},A.id))})]})})]})}),i.jsx("div",{className:"bg-card border-t p-3 pb-[calc(env(safe-area-inset-bottom)+0.75rem)]",children:i.jsxs(wt,{open:w,onOpenChange:j,children:[i.jsx(b0,{asChild:!0,children:i.jsx(Y,{variant:"outline",className:"w-full",children:"Выбрать ренж"})}),i.jsxs(ut,{mobileFullscreen:!0,className:"flex flex-col",children:[i.jsx(dt,{className:"p-4 pb-0",children:i.jsx(ft,{children:"Выбрать ренж"})}),i.jsxs("div",{className:"flex-1 flex flex-col p-4 pt-2 min-h-0",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h2",{className:"text-lg font-semibold",children:"Создать папку"}),i.jsx(Y,{size:"sm",onClick:L,variant:"outline",children:i.jsx(Wr,{className:"h-4 w-4"})})]}),i.jsx("div",{className:"flex-1 overflow-y-auto min-h-0",children:i.jsx(Fg,{folders:o,selectedRange:f,setSelectedRange:p,editingFolderId:r,setEditingFolderId:s,editingButton:t,setEditingButton:n,updateFolderName:T,updateRangeName:P,addRange:V,deleteFolder:F,deleteRange:q,cloneRange:B,onOpenTitleSettings:A=>C(A),isMobileMode:!0,inDialog:!0,totalFoldersCount:o.length,openFolderId:m,setOpenFolderId:v})})]}),i.jsx(pn,{className:"mt-auto p-4 border-t",children:i.jsx(Y,{onClick:()=>j(!1),className:"w-full",children:"Выбрать"})})]})]})})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"bg-card w-80 border-r flex flex-col p-4",children:[i.jsx("div",{className:"space-y-4 order-1",children:Z()}),i.jsxs("div",{className:"space-y-3 border-t order-2 pt-4 mt-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-sm font-medium",children:"Действия"}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Y,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0",onClick:()=>_(!0),children:i.jsx(Ks,{className:"h-4 w-4"})}),i.jsx(Y,{size:"sm",variant:"outline",onClick:()=>y(!0),children:i.jsx(Wr,{className:"h-3 w-3"})})]})]}),i.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto pr-2",children:N.map(A=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Y,{size:"sm",onClick:()=>S(A.id),style:ge(A),className:D("flex-1 min-w-0 text-primary-foreground border-transparent hover:opacity-90 transition-opacity text-center whitespace-normal",g===A.id&&"ring-2 ring-offset-2 ring-offset-card ring-primary","h-auto min-h-[1.75rem] py-1"),children:t===A.id?i.jsx(be,{value:A.name,onChange:$=>E(A.id,"name",$.target.value),onBlur:()=>n(null),onKeyDown:$=>{$.key==="Enter"&&n(null)},className:"h-5 text-xs border-none bg-transparent p-0 focus:bg-background text-center w-full",autoFocus:!0,onClick:$=>$.stopPropagation()}):i.jsx("span",{onDoubleClick:$=>{$.stopPropagation(),n(A.id)},className:"cursor-text px-1",children:A.name})}),i.jsxs("div",{className:"flex gap-1",children:[A.type==="simple"?i.jsx("input",{type:"color",value:A.color,onChange:$=>E(A.id,"color",$.target.value),className:"w-6 h-6 rounded border cursor-pointer"}):i.jsx("div",{className:"w-6 h-6 flex items-center justify-center",children:i.jsx(Qm,{className:"h-4 w-4 text-muted-foreground"})}),l.length>1&&i.jsx(Y,{size:"sm",variant:"ghost",onClick:()=>O(A.id),children:i.jsx(no,{className:"h-3 w-3"})})]})]},A.id))})]})]}),i.jsx("div",{className:"flex-1 p-6",children:i.jsx("div",{className:"mx-auto max-w-4xl",children:i.jsxs("div",{className:"space-y-4 lg:w-[63%] mx-auto",children:[i.jsxs("div",{className:"flex justify-between items-end",children:[i.jsxs("div",{className:"text-left",children:[J&&i.jsx("h2",{className:"text-base font-bold text-muted-foreground mb-px",children:J.name}),K&&i.jsx("h1",{className:"text-sm font-normal ml-1",children:K.name})]}),K&&i.jsxs("div",{className:"bg-background/80 px-2 py-1 rounded text-xs font-mono flex items-center gap-1 z-10",children:[i.jsxs("span",{className:"text-primary font-bold",children:[ie(),"%"]}),i.jsxs("span",{className:"text-muted-foreground",children:["(",he(),")"]})]})]}),K&&i.jsx("div",{className:D(e&&"overflow-x-auto"),children:i.jsx(Yr,{selectedHands:K.hands,onHandSelect:z,activeAction:g,actionButtons:l})})]})})})]})]})},mt=h.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:D("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));mt.displayName="Card";const lf=h.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:D("flex flex-col space-y-1.5 p-6",e),...t}));lf.displayName="CardHeader";const cf=h.forwardRef(({className:e,...t},n)=>i.jsx("h3",{ref:n,className:D("text-2xl font-semibold leading-none tracking-tight",e),...t}));cf.displayName="CardTitle";const i1=h.forwardRef(({className:e,...t},n)=>i.jsx("p",{ref:n,className:D("text-sm text-muted-foreground",e),...t}));i1.displayName="CardDescription";const ip=h.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:D("p-6 pt-0",e),...t}));ip.displayName="CardContent";const KD=h.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:D("flex items-center p-6 pt-0",e),...t}));KD.displayName="CardFooter";const GD=({open:e,onOpenChange:t,onCreateTraining:n})=>{const r=In(),[s,o]=h.useState(""),[a,l]=h.useState("classic"),[c,u]=h.useState("all-hands"),[d,f]=h.useState(0),[p,g]=h.useState("sequential"),[S,w]=h.useState([]),{folders:j}=mn(),m=j.some(y=>y.ranges.length>0),v=y=>{w(k=>k.includes(y)?k.filter(_=>_!==y):[...k,y])},x=()=>{if(!s.trim()||S.length===0||!m)return;const y={id:Date.now().toString(),name:s.trim(),type:a,subtype:a==="classic"?c:void 0,borderExpansionLevel:a==="classic"&&c==="border-check"?d:void 0,rangeSelectionOrder:a==="border-repeat"?p:void 0,ranges:S,createdAt:new Date,stats:null};n(y),o(""),l("classic"),u("all-hands"),f(0),g("sequential"),w([]),t(!1)};return i.jsx(wt,{open:e,onOpenChange:t,children:i.jsxs(ut,{mobileFullscreen:r,className:D("flex flex-col",!r&&"max-h-[90vh]"),children:[i.jsx(dt,{className:"relative -top-2 flex-shrink-0",children:i.jsx(ft,{children:"Создать тренировку"})}),i.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[i.jsx("div",{className:"space-y-2 mt-1 flex-shrink-0",children:i.jsx(be,{id:"training-name",value:s,onChange:y=>o(y.target.value),placeholder:"Введите название тренировки",className:"h-8"})}),i.jsxs("div",{className:"flex-1 flex flex-col min-h-0 overflow-y-auto py-2 pr-2",children:[i.jsx(U,{className:"block w-full text-center flex-shrink-0 mb-3",children:"Вид тренировки"}),i.jsxs(tt,{value:a,onValueChange:y=>l(y),className:"grid grid-cols-2 gap-x-6",children:[i.jsx("div",{className:"flex flex-col space-y-4",children:i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(de,{value:"classic",id:"classic"}),i.jsx(U,{htmlFor:"classic",className:"font-medium cursor-pointer",children:"Классическая"})]}),a==="classic"&&i.jsx("div",{className:"space-y-3 pl-8 pt-3",children:i.jsxs(tt,{value:c,onValueChange:y=>u(y),children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(de,{value:"all-hands",id:"all-hands"}),i.jsx(U,{htmlFor:"all-hands",children:"Все руки"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(de,{value:"border-check",id:"border-check"}),i.jsx(U,{htmlFor:"border-check",children:"Граница ренжа"})]}),c==="border-check"&&i.jsxs("div",{className:"pl-8 pt-2",children:[i.jsx(U,{className:"text-xs font-normal text-muted-foreground",children:"Уровень расширения"}),i.jsxs(tt,{value:String(d),onValueChange:y=>f(Number(y)),className:"flex items-center gap-x-4 pt-2",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(de,{value:"0",id:"level-0"}),i.jsx(U,{htmlFor:"level-0",className:"font-normal cursor-pointer",children:"0"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(de,{value:"1",id:"level-1"}),i.jsx(U,{htmlFor:"level-1",className:"font-normal cursor-pointer",children:"+1"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(de,{value:"2",id:"level-2"}),i.jsx(U,{htmlFor:"level-2",className:"font-normal cursor-pointer",children:"+2"})]})]})]})]})]})})]})}),i.jsx("div",{className:"flex flex-col space-y-4",children:i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(de,{value:"border-repeat",id:"border-repeat"}),i.jsx(U,{htmlFor:"border-repeat",className:"font-medium cursor-pointer",children:"Повторение границ"})]}),a==="border-repeat"&&i.jsxs("div",{className:"pl-8 pt-3",children:[i.jsx(U,{className:"text-xs font-normal text-muted-foreground",children:"Порядок ренжей"}),i.jsxs(tt,{value:p,onValueChange:y=>g(y),className:"flex flex-col gap-y-3 pt-2",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(de,{value:"sequential",id:"sequential"}),i.jsx(U,{htmlFor:"sequential",className:"font-normal cursor-pointer",children:"По порядку"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(de,{value:"random",id:"random"}),i.jsx(U,{htmlFor:"random",className:"font-normal cursor-pointer",children:"Случайно"})]})]})]})]})})]}),i.jsxs("div",{className:"space-y-3 pt-4 flex-1 flex flex-col min-h-0",children:[i.jsx(U,{children:"Выберите ренжи для тренировки"}),m?i.jsx(o1,{type:"multiple",className:"w-full flex-1 overflow-y-auto -mr-2 pr-2",children:j.map(y=>y.ranges.length>0?i.jsxs(rp,{value:y.id,children:[i.jsx(sp,{className:"py-2 hover:no-underline",children:y.name}),i.jsx(op,{children:i.jsx("div",{className:"space-y-2 pt-2 pl-4",children:y.ranges.map(k=>i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(sn,{id:k.id,checked:S.includes(k.id),onCheckedChange:()=>v(k.id)}),i.jsx(U,{htmlFor:k.id,className:"text-sm font-normal cursor-pointer",children:k.name})]},k.id))})})]},y.id):null)}):i.jsx(mt,{className:"p-4 text-center",children:i.jsx("p",{className:"text-sm text-muted-foreground",children:"Создайте хотя бы 1 ренж чтобы создать тренировку"})})]})]}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4 mt-auto flex-shrink-0",children:[i.jsx(Y,{variant:"outline",onClick:()=>t(!1),children:"Отмена"}),i.jsx(Y,{onClick:x,disabled:!s.trim()||S.length===0||!m,variant:"poker",children:"Создать тренировку"})]})]})]})})},a1=h.forwardRef(({className:e,...t},n)=>i.jsx("div",{className:"relative w-full overflow-auto",children:i.jsx("table",{ref:n,className:D("w-full caption-bottom text-sm",e),...t})}));a1.displayName="Table";const l1=h.forwardRef(({className:e,...t},n)=>i.jsx("thead",{ref:n,className:D("[&_tr]:border-b",e),...t}));l1.displayName="TableHeader";const c1=h.forwardRef(({className:e,...t},n)=>i.jsx("tbody",{ref:n,className:D("[&_tr:last-child]:border-0",e),...t}));c1.displayName="TableBody";const qD=h.forwardRef(({className:e,...t},n)=>i.jsx("tfoot",{ref:n,className:D("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));qD.displayName="TableFooter";const uf=h.forwardRef(({className:e,...t},n)=>i.jsx("tr",{ref:n,className:D("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));uf.displayName="TableRow";const Bo=h.forwardRef(({className:e,...t},n)=>i.jsx("th",{ref:n,className:D("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Bo.displayName="TableHead";const Ho=h.forwardRef(({className:e,...t},n)=>i.jsx("td",{ref:n,className:D("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Ho.displayName="TableCell";const YD=h.forwardRef(({className:e,...t},n)=>i.jsx("caption",{ref:n,className:D("mt-4 text-sm text-muted-foreground",e),...t}));YD.displayName="TableCaption";const Ug=["spades","hearts","diamonds","clubs"],JD=({hand:e,className:t,fixedCards:n})=>{const r=In(),o=n||(u=>{const d=()=>Ug[Math.floor(Math.random()*Ug.length)],f=()=>{let p=d(),g=d();for(;p===g;)g=d();return[p,g]};if(u.length===2&&u[0]===u[1]){const[p,g]=f();return[{rank:u[0],suit:p},{rank:u[1],suit:g}]}else if(u.length===3)if(u[2]==="s"){const g=d();return[{rank:u[0],suit:g},{rank:u[1],suit:g}]}else{const[g,S]=f();return[{rank:u[0],suit:g},{rank:u[1],suit:S}]}else if(u.length===2){const[p,g]=f();return[{rank:u[0],suit:p},{rank:u[1],suit:g}]}return[{rank:"A",suit:"spades"},{rank:"A",suit:"hearts"}]})(e),a=u=>{switch(u){case"hearts":return"♥";case"diamonds":return"♦";case"clubs":return"♣";case"spades":default:return"♠"}},l=u=>{switch(u){case"hearts":return"bg-red-700";case"diamonds":return"bg-blue-700";case"clubs":return"bg-green-700";case"spades":default:return"bg-gray-800"}},c=u=>u;return i.jsx("div",{className:D("flex gap-1",t),children:o.map((u,d)=>i.jsxs("div",{className:D(l(u.suit),"text-white rounded-md shadow-lg w-12 h-16 sm:w-16 sm:h-20 relative font-bold flex items-center justify-center"),children:[i.jsxs("div",{className:"absolute top-[0.15rem] left-1.5 flex flex-col items-center leading-none",children:[i.jsx("span",{className:D(r?"text-[13.863px] translate-y-[10%]":"text-[14.292px] sm:text-[17.86px] translate-y-[20%]"),children:c(u.rank)}),i.jsx("span",{className:D(r?"text-[11.647px] -mt-1.5 translate-y-[75%]":"text-[10.719px] sm:text-[13.89px] -mt-1.5 translate-y-[65%]"),children:a(u.suit)})]}),i.jsx("div",{className:"text-4xl sm:text-5xl translate-x-[15%] translate-y-[20%]",children:c(u.rank)})]},d))})},XD=({open:e,onClose:t,results:n})=>{const r=c=>{const u=Math.floor(c/6e4),d=Math.floor(c%6e4/1e3);return`${u}:${d.toString().padStart(2,"0")}`},s=c=>new Date(c).toLocaleString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),a=(c=>c>=90?{level:"Отлично!",color:"text-green-600",icon:Y2}:c>=75?{level:"Хорошо!",color:"text-blue-600",icon:Zm}:c>=60?{level:"Неплохо",color:"text-yellow-600",icon:$2}:{level:"Нужна практика",color:"text-red-600",icon:Zm})(n.accuracy),l=a.icon;return i.jsx(wt,{open:e,onOpenChange:t,children:i.jsxs(ut,{className:"sm:max-w-md",children:[i.jsxs(dt,{className:"text-center",children:[i.jsx("div",{className:"mx-auto mb-4 w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center",children:i.jsx(l,{className:`w-8 h-8 ${a.color}`})}),i.jsx(ft,{className:"text-xl",children:"Тренировка завершена!"}),i.jsxs(An,{children:[i.jsx("p",{className:"text-base",children:n.trainingName}),i.jsxs("p",{className:"text-sm text-muted-foreground flex items-center justify-center gap-1.5 mt-1",children:[i.jsx(I2,{className:"w-3.5 h-3.5"}),s(n.timestamp)]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx(mt,{className:"p-4",children:i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:`text-2xl font-bold ${a.color}`,children:[n.accuracy.toFixed(1),"%"]}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Точность"}),i.jsx("div",{className:`text-sm font-medium ${a.color}`,children:a.level})]}),i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-1 text-2xl font-bold text-primary",children:[i.jsx(F2,{className:"w-5 h-5"}),r(n.duration)]}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Время"})]})]})}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[i.jsxs(mt,{className:"p-3",children:[i.jsx("div",{className:"text-lg font-bold text-green-600",children:n.correctAnswers}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Правильно"})]}),i.jsxs(mt,{className:"p-3",children:[i.jsx("div",{className:"text-lg font-bold text-red-600",children:n.totalQuestions-n.correctAnswers}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Ошибок"})]})]}),i.jsxs(mt,{className:"p-3 text-center",children:[i.jsx("div",{className:"text-lg font-bold text-primary",children:n.totalQuestions}),i.jsx("div",{className:"text-sm text-muted-foreground",children:n.type==="classic"?"Всего рук":"Всего ренжей"})]})]}),i.jsx(pn,{className:"mt-6",children:i.jsx(Y,{onClick:t,className:"w-full",size:"lg",children:"Закрыть"})})]})})},Bg=["spades","hearts","diamonds","clubs"],Fa=()=>Bg[Math.floor(Math.random()*Bg.length)],Pu=()=>{let e=Fa(),t=Fa();for(;e===t;)t=Fa();return[e,t]},Au=e=>{let t;if(e.length===2&&e[0]===e[1]){const[n,r]=Pu();t=[{rank:e[0],suit:n},{rank:e[1],suit:r}]}else if(e.length===3)if(e[2]==="s"){const r=Fa();t=[{rank:e[0],suit:r},{rank:e[1],suit:r}]}else{const[r,s]=Pu();t=[{rank:e[0],suit:r},{rank:e[1],suit:s}]}else if(e.length===2){const[n,r]=Pu();t=[{rank:e[0],suit:n},{rank:e[1],suit:r}]}else t=[{rank:"A",suit:"spades"},{rank:"A",suit:"hearts"}];return{hand:e,cards:t}},QD=({training:e,onStop:t})=>{const{folders:n,actionButtons:r,foldColor:s}=mn(),{toast:o}=mS(),a=In(),[l,c]=h.useState(""),[u,d]=h.useState(null),[f,p]=h.useState([]),[g,S]=h.useState(0),[w,j]=h.useState(null),[m,v]=h.useState({startTime:Date.now(),hands:[],accuracy:0}),[x,y]=h.useState(null),[k,_]=h.useState(!1),[b,C]=h.useState({}),[N,R]=h.useState(!1),[P,T]=h.useState(!1),[L,F]=h.useState(()=>{var M;return((M=r[0])==null?void 0:M.id)||""}),[V,B]=h.useState(!1),[q,I]=h.useState(null),E=h.useRef(null),O=(M,Q)=>{if(M==="fold")return s;const ee=Q.find(ae=>ae.id===M);return ee&&ee.type==="simple"?ee.color:"#ffffff"},z=(M,Q)=>{if(M.type==="simple")return{backgroundColor:M.color,color:"white"};if(M.type==="weighted"){const ee=O(M.action1Id,Q),ae=O(M.action2Id,Q);return{background:`linear-gradient(to right, ${ee} ${M.weight}%, ${ae} ${M.weight}%)`,color:"white"}}return{}},H=h.useMemo(()=>{const M=[];if(!e.ranges)return[];for(const Q of e.ranges)for(const ee of n){const ae=ee.ranges.find(Se=>Se.id===Q);ae&&M.push({...ae,folderName:ee.name})}if(e.type==="border-repeat"&&e.rangeSelectionOrder==="random")for(let Q=M.length-1;Q>0;Q--){const ee=Math.floor(Math.random()*(Q+1));[M[Q],M[ee]]=[M[ee],M[Q]]}return M},[n,e.ranges,e.type,e.rangeSelectionOrder]),J=H[g],K=e.type==="classic"?w:J,he=()=>{if(!b)return 0;let M=0;return Object.entries(b).forEach(([Q,ee])=>{const ae=Gh(Q);ee&&ee!=="fold"&&typeof ae=="number"&&!isNaN(ae)&&(M+=ae)}),M},ie=()=>{const M=he();return Og>0?Math.round(M/Og*100):0},Z=()=>{const M=Math.floor(Math.random()*Ig.length),Q=Ig[M];c(Q),d(Au(Q))};h.useEffect(()=>{if(H.length!==0){if(e.type==="classic"){const M=Math.floor(Math.random()*H.length),Q=H[M];if(j(Q),e.subtype==="all-hands")Z();else if(e.subtype==="border-check"){if(!Q)return;const ee=Mg(Q.hands,e.borderExpansionLevel);if(p(ee),ee.length>0){const ae=Math.floor(Math.random()*ee.length),Se=ee[ae];c(Se),d(Au(Se))}else o({title:"Не удалось определить границу ренжа",description:"Ренж может быть пустым, занимать всю матрицу или не содержать граничных рук.",variant:"warning"}),c(""),d(null)}}return()=>{E.current&&clearTimeout(E.current)}}},[e.type,e.subtype,e.borderExpansionLevel,H]);const le=M=>!K||!M?"fold":K.hands[M]||"fold",ge=r.filter(M=>!K||!K.hands?!1:new Set(Object.values(K.hands)).has(M.id)),pe=M=>{if(x||!l)return;const Q=le(l),ee=M===Q;y(ee?"correct":"incorrect");const ae={hand:l,correct:ee,userAction:M,correctAction:Q};v(Se=>{const Ze=[...Se.hands,ae],Dn=Ze.filter(Pc=>Pc.correct).length/Ze.length*100;return{...Se,hands:Ze,accuracy:Dn}}),ee?E.current=setTimeout(()=>{A()},1500):(T(!0),_(!0))},oe=(M,Q)=>{if(N)return;if(!L){o({title:"Действие не выбрано",description:"Пожалуйста, сначала создайте кнопки действий в редакторе.",variant:"destructive"});return}const ee={...b};Q==="select"?ee[M]=L:ee[M]===L&&delete ee[M],C(ee)},ue=()=>{if(!J)return;const M=J.hands,Q=Object.keys(M).every(ae=>b[ae]===M[ae])&&Object.keys(b).every(ae=>M[ae]===b[ae]);R(!0),T(!0),y(Q?"correct":"incorrect"),Q||_(!0);const ee={hand:J.name,correct:Q,userAction:"matrix",correctAction:"matrix"};v(ae=>{const Se=[...ae.hands,ee],vn=Se.filter(Dn=>Dn.correct).length/Se.length*100;return{...ae,hands:Se,accuracy:vn}})},A=()=>{var M;if(E.current&&(clearTimeout(E.current),E.current=null),e.type==="classic"){const Q=Math.floor(Math.random()*H.length),ee=H[Q];if(j(ee),e.subtype==="all-hands")Z();else if(e.subtype==="border-check"){if(!ee){$();return}const ae=Mg(ee.hands,e.borderExpansionLevel);if(p(ae),ae.length>0){const Se=Math.floor(Math.random()*ae.length),Ze=ae[Se];c(Ze),d(Au(Ze))}else{o({title:"Тренировка завершена",description:"Не удалось найти подходящие руки в одном из ренжей.",variant:"info"}),$();return}}}else if(g<H.length-1)S(Q=>Q+1),C({});else{$();return}y(null),_(!1),T(!1),R(!1),F(((M=r[0])==null?void 0:M.id)||"")},$=()=>{E.current&&(clearTimeout(E.current),E.current=null);const M=Date.now(),Q=M-m.startTime,ee=m.hands.filter(vn=>vn.correct).length,ae=m.hands.length,Se=ae>0?ee/ae*100:0;if(ae>0){const vn={trainingId:e.id,timestamp:M,duration:Q,totalQuestions:ae,correctAnswers:ee},Dn=JSON.parse(localStorage.getItem("training-statistics")||"[]");Dn.push(vn),localStorage.setItem("training-statistics",JSON.stringify(Dn))}const Ze={trainingName:e.name,type:e.type,duration:Q,accuracy:Se,totalQuestions:ae,correctAnswers:ee,timestamp:M};I(Ze),B(!0)},G=()=>{B(!1),t()},te=()=>{const M=Date.now()-m.startTime,Q=Math.floor(M/6e4),ee=Math.floor(M%6e4/1e3);return`${Q}:${ee.toString().padStart(2,"0")}`};return H.length===0?i.jsx("div",{className:"h-full bg-background flex items-center justify-center",children:i.jsxs(mt,{className:"p-6 text-center",children:[i.jsx("p",{className:"text-lg text-muted-foreground",children:"Ренжи для тренировки не найдены"}),i.jsx(Y,{onClick:t,className:"mt-4",children:"Вернуться"})]})}):i.jsxs("div",{className:"h-full bg-background flex flex-col sm:flex-row",children:[i.jsxs("div",{className:"hidden sm:block w-80 bg-card border-r p-4 space-y-4",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("h2",{className:"text-lg font-semibold",children:["Статистика: ",e.name]})}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-primary",children:te()}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Время"})]}),i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"text-2xl font-bold text-primary",children:[m.accuracy.toFixed(1),"%"]}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Точность"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-primary",children:m.hands.length}),i.jsx("div",{className:"text-sm text-muted-foreground",children:e.type==="classic"?"Рук сыграно":"Ренжей проверено"})]})]}),i.jsxs("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:[i.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"История"}),m.hands.map((M,Q)=>i.jsx("div",{className:D("p-2 rounded text-sm",M.correct?"bg-green-500/20 text-green-700 dark:text-green-300":"bg-red-500/20 text-red-700 dark:text-red-300"),children:M.hand},Q))]})]}),i.jsxs("div",{className:"flex-1 flex flex-col",children:[i.jsx("div",{className:"sm:hidden px-4 py-2 border-b bg-card",children:i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{className:"text-lg font-semibold",children:[K==null?void 0:K.folderName," - ",K==null?void 0:K.name]})})}),i.jsx("div",{className:"flex-1 p-4 sm:p-6 overflow-y-auto",children:i.jsx("div",{className:"max-w-4xl mx-auto space-y-6",children:e.type==="classic"?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"hidden sm:block text-center",children:[i.jsxs("h1",{className:"text-2xl font-bold mb-2",children:[K==null?void 0:K.folderName," - ",K==null?void 0:K.name]}),i.jsxs("p",{className:"text-muted-foreground",children:["Текущая рука: ",l]})]}),i.jsxs("div",{className:"relative mx-auto w-full max-w-2xl",children:[i.jsxs("div",{className:D("relative bg-poker-felt rounded-full border-8 border-poker-table shadow-2xl transition-all duration-300","w-full aspect-[3/2] max-w-lg mx-auto",x==="correct"&&"shadow-green-500/50",x==="incorrect"&&"shadow-red-500/50"),children:[i.jsx("div",{className:"absolute inset-4 rounded-full bg-gradient-to-br from-poker-felt to-poker-green opacity-90"}),i.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:i.jsx("div",{className:"bg-black rounded-full p-4 shadow-xl border-4 border-gray-800",children:i.jsx(JD,{hand:l,fixedCards:u==null?void 0:u.cards,className:"scale-90 sm:scale-100"})})}),P&&i.jsx("div",{className:"absolute top-1/2 right-8 sm:right-12 transform -translate-y-1/2",children:i.jsx(Y,{onClick:A,className:"bg-gray-500 hover:bg-gray-600 text-white w-[45px] h-[45px] sm:w-[55px] sm:h-[55px] rounded-lg shadow-xl border-2 border-gray-700",size:"icon",children:i.jsx(Ws,{className:"h-5 w-5 sm:h-6 sm:w-6"})})}),i.jsx("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2",children:i.jsx("div",{className:"text-white/60 text-sm font-semibold",children:"DEALER"})})]}),i.jsx("div",{className:"sm:hidden text-center mt-4",children:i.jsxs("p",{className:"text-muted-foreground text-sm",children:["Рука ",m.hands.length+1,": ",i.jsx("span",{className:"font-bold text-primary",children:l})]})})]}),i.jsxs("div",{className:"flex justify-center gap-2 sm:gap-3 flex-wrap px-4",children:[i.jsx(Y,{variant:"secondary",size:"sm",onClick:()=>pe("fold"),disabled:P,style:{backgroundColor:s},className:D("text-white hover:opacity-80 text-xs sm:text-sm px-3 sm:px-4",x==="incorrect"&&le(l)==="fold"&&"ring-2 ring-green-500"),children:"FOLD"}),ge.map(M=>i.jsx(Y,{size:"sm",onClick:()=>pe(M.id),disabled:P,style:z(M,r),className:D("text-white hover:opacity-80 text-xs sm:text-sm px-3 sm:px-4",x==="incorrect"&&le(l)===M.id&&"ring-2 ring-green-500"),children:M.name},M.id))]}),k&&K&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-center text-lg font-semibold",children:"Правильный ренж:"}),i.jsx("div",{className:"overflow-x-auto",children:i.jsx(Yr,{selectedHands:K.hands,onHandSelect:()=>{},activeAction:"",actionButtons:r,readOnly:!0})})]}),i.jsx("div",{className:"text-center mt-6",children:i.jsx(Y,{onClick:$,variant:"destructive",size:"lg",children:"Завершить"})})]}):i.jsx(i.Fragment,{children:a?i.jsxs("div",{className:"space-y-2 sm:space-y-2",children:[i.jsx("div",{className:"overflow-x-auto pb-1",children:i.jsx(Yr,{selectedHands:k?J.hands:b,onHandSelect:oe,activeAction:L,actionButtons:r,readOnly:N})}),i.jsx("div",{className:"flex justify-center gap-2 sm:gap-3 flex-wrap px-2 sm:px-4",children:ge.map(M=>i.jsx(Y,{size:"sm",onClick:()=>F(M.id),disabled:N,style:z(M,r),className:D("text-white hover:opacity-80 text-xs sm:text-sm px-2 sm:px-4 h-7 py-1",L===M.id&&"ring-2 ring-white"),children:M.name},M.id))}),i.jsxs("div",{className:"flex justify-center items-center gap-2 sm:gap-4 px-4",children:[i.jsx(Y,{onClick:ue,disabled:N,variant:x==="correct"?"default":x==="incorrect"?"destructive":"poker",className:D("h-7 py-1",x==="correct"?"bg-green-600 hover:bg-green-700":""),size:"sm",children:"Проверить"}),P&&i.jsx(Y,{onClick:A,className:"bg-gray-500 hover:bg-gray-600 text-white w-8 h-8 rounded-lg shadow-lg border-2 border-gray-700",size:"icon",children:i.jsx(Ws,{className:"h-3 w-3"})}),i.jsx(Y,{onClick:$,variant:"destructive",size:"sm",className:"h-7 py-1",children:"Завершить"})]})]}):i.jsxs("div",{className:"flex flex-col items-center w-full",children:[i.jsx("div",{className:"w-full max-w-[600px] px-4",children:i.jsxs("div",{className:"flex justify-between items-end",children:[i.jsxs("div",{className:"text-left",children:[i.jsx("h2",{className:"text-base font-bold text-muted-foreground mb-px",children:J==null?void 0:J.folderName}),i.jsx("h1",{className:"text-sm font-normal ml-1",children:J==null?void 0:J.name})]}),i.jsxs("div",{className:"bg-background/80 px-2 py-1 rounded text-xs font-mono flex items-center gap-1 z-10",children:[i.jsxs("span",{className:"text-primary font-bold",children:[ie(),"%"]}),i.jsxs("span",{className:"text-muted-foreground",children:["(",he(),")"]})]})]})}),i.jsx("div",{className:"w-full flex justify-center mt-1",children:i.jsxs("div",{className:"w-[87%] max-w-[522px]",children:[i.jsx(Yr,{selectedHands:k?J.hands:b,onHandSelect:oe,activeAction:L,actionButtons:r,readOnly:N}),i.jsxs("div",{className:"mt-3 space-y-3",children:[i.jsx("div",{className:"flex justify-center gap-2 sm:gap-3 flex-wrap px-2 sm:px-4",children:ge.map(M=>i.jsx(Y,{size:"sm",onClick:()=>F(M.id),disabled:N,style:z(M,r),className:D("text-white hover:opacity-80 text-xs sm:text-sm px-2 sm:px-4 h-7 py-1",L===M.id&&"ring-2 ring-white"),children:M.name},M.id))}),i.jsxs("div",{className:"flex justify-center items-center gap-2 sm:gap-4 px-4",children:[i.jsx(Y,{onClick:ue,disabled:N,variant:x==="correct"?"default":x==="incorrect"?"destructive":"poker",className:D("h-7 py-1",x==="correct"?"bg-green-600 hover:bg-green-700":""),size:"sm",children:"Проверить"}),P&&i.jsx(Y,{onClick:A,className:"bg-gray-500 hover:bg-gray-600 text-white w-8 h-8 rounded-lg shadow-lg border-2 border-gray-700",size:"icon",children:i.jsx(Ws,{className:"h-3 w-3"})}),i.jsx(Y,{onClick:$,variant:"destructive",size:"sm",className:"h-7 py-1",children:"Завершить"})]})]})]})})]})})})}),i.jsx("div",{className:"sm:hidden p-0 border-t bg-card",children:i.jsxs("div",{className:"grid grid-cols-3 gap-1 text-center",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-bold text-primary",children:te()}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Время"})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"text-sm font-bold text-primary",children:[m.accuracy.toFixed(1),"%"]}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Точность"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-bold text-primary",children:m.hands.length}),i.jsx("div",{className:"text-xs text-muted-foreground",children:e.type==="classic"?"Рук":"Ренжей"})]})]})})]}),q&&i.jsx(XD,{open:V,onClose:G,results:q})]})},ZD=({isMobileMode:e=!1})=>{const t=In(),n=e||t,[r,s]=h.useState(()=>{const E=localStorage.getItem("training-sessions");try{const O=E?JSON.parse(E):[];return Array.isArray(O)?O:[]}catch(O){return console.error("Failed to parse training sessions from localStorage",O),[]}}),[o]=h.useState(()=>{const E=localStorage.getItem("poker-ranges-folders");try{const O=E?JSON.parse(E):[];return Array.isArray(O)?O:[]}catch(O){return console.error("Failed to parse folders from localStorage",O),[]}}),[a,l]=h.useState(null),[c,u]=h.useState(!1),[d,f]=h.useState(null),[p,g]=h.useState([]),[S,w]=h.useState(0),[j,m]=h.useState(null),[v,x]=h.useState([]),[y,k]=h.useState(null),_=r.find(E=>E.id===j);h.useEffect(()=>{!n&&r.length>0&&!a&&l(r[0].id)},[n,r,a]),h.useEffect(()=>{localStorage.setItem("training-sessions",JSON.stringify(r))},[r]),h.useEffect(()=>{if(a){const E=localStorage.getItem("training-statistics");let O=[];try{const H=E?JSON.parse(E):[];O=Array.isArray(H)?H:[]}catch(H){console.error("Failed to parse training statistics",H)}const z=O.filter(H=>H.trainingId===a).sort((H,J)=>J.timestamp-H.timestamp);g(z)}else g([])},[a,S]),h.useEffect(()=>{if(j){const E=localStorage.getItem("training-statistics");let O=[];try{const H=E?JSON.parse(E):[];O=Array.isArray(H)?H:[]}catch(H){console.error("Failed to parse training statistics",H)}const z=O.filter(H=>H.trainingId===j).sort((H,J)=>J.timestamp-H.timestamp);x(z)}else x([])},[j]);const b=E=>{const O=localStorage.getItem("training-statistics");let z=[];try{const oe=O?JSON.parse(O):[];z=Array.isArray(oe)?oe:[]}catch(oe){console.error("Failed to parse training statistics from localStorage",oe),z=[]}const H=z.filter(oe=>oe.trainingId===E);if(H.length===0)return null;const J=H.length,K=H.reduce((oe,ue)=>oe+ue.totalQuestions,0),he=H.reduce((oe,ue)=>oe+ue.correctAnswers,0),ie=H.reduce((oe,ue)=>oe+ue.duration,0),Z=K>0?he/K*100:0,le=J>0?ie/J:0,ge=Math.floor(le/6e4),pe=Math.floor(le%6e4/1e3);return{accuracy:Z.toFixed(1),hands:K,time:`${ge}:${pe.toString().padStart(2,"0")}`,sessions:J}},C=E=>{if(E.type==="classic"){if(!E.subtype)return null;if(E.subtype==="all-hands")return"Все руки";if(E.subtype==="border-check")return E.borderExpansionLevel===void 0?"Граница ренжа (+0)":`Граница ренжа (+${E.borderExpansionLevel})`}else if(E.type==="border-repeat")return E.rangeSelectionOrder==="random"?"Случайный порядок":"По порядку";return null},N=E=>{s(O=>[E,...O])},R=E=>{s(J=>J.filter(K=>K.id!==E)),a===E&&l(null);const O=localStorage.getItem("training-statistics");let z=[];try{const J=O?JSON.parse(O):[];z=Array.isArray(J)?J:[]}catch{}const H=z.filter(J=>J.trainingId!==E);localStorage.setItem("training-statistics",JSON.stringify(H)),w(J=>J+1)},P=()=>{y&&(R(y),k(null))},T=E=>{const O=r.find(z=>z.id===E);O&&f(O)},L=()=>{f(null),w(E=>E+1)},F=E=>{const O=Math.floor(E/1e3),z=Math.floor(O/3600),H=Math.floor(O%3600/60),J=O%60,K=[];return z>0&&K.push(`${z}ч`),H>0&&K.push(`${H}м`),(J>0||O===0)&&K.push(`${J}с`),K.join(" ")||"0с"},V=E=>{const O=Math.floor(E/6e4),z=Math.floor(E%6e4/1e3);return`${O}:${z.toString().padStart(2,"0")}`},B=E=>new Date(E).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"}),q=(E,O)=>O===0?"0.0":(E/O*100).toFixed(1),I=h.useMemo(()=>{if(v.length===0)return{totalDuration:0,totalAccuracy:0};const E=v.reduce((J,K)=>J+K.duration,0),O=v.reduce((J,K)=>J+K.correctAnswers,0),z=v.reduce((J,K)=>J+K.totalQuestions,0),H=z>0?O/z*100:0;return{totalDuration:E,totalAccuracy:H}},[v]);return d?i.jsx(QD,{training:d,onStop:L}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:D("bg-background flex h-full",n?"flex-col":""),children:[i.jsxs("div",{className:D("bg-card p-4 space-y-4",n?"order-2 flex-1 flex flex-col":"w-80 border-r"),children:[i.jsx("div",{children:i.jsx("h2",{className:"text-lg font-semibold",children:"Тренировки"})}),i.jsxs("div",{className:D("space-y-2 overflow-y-auto","flex-1"),children:[i.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Созданные тренировки"}),r.length===0?i.jsx(mt,{className:"p-4 text-center",children:i.jsx("p",{className:"text-sm text-muted-foreground",children:"Не создано ни одной тренировки"})}):r.map(E=>{const O=b(E.id),z=a===E.id,H=C(E);return i.jsx(mt,{className:D("cursor-pointer transition-all duration-300",n?"py-1 px-2":z?"p-3":"py-1 px-3",z?"bg-primary/10 border-primary":"hover:bg-muted/50"),onClick:()=>l(J=>J===E.id?null:E.id),children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1 overflow-hidden",children:[i.jsx("h4",{className:"font-medium truncate my-0",children:E.name}),i.jsxs("div",{className:D("transition-all duration-300 ease-in-out overflow-hidden",z?"max-h-40 opacity-100 mt-1":"max-h-0 opacity-0"),children:[i.jsxs("div",{className:"text-xs text-muted-foreground",children:[E.type==="classic"?"Классическая":"Повторение границ",H&&` • ${H}`]}),O&&i.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Точность: ",O.accuracy,"% • Сессий: ",O.sessions]})]})]}),i.jsxs("div",{className:"flex items-center",children:[n&&i.jsxs(i.Fragment,{children:[i.jsx(Y,{size:"sm",variant:"ghost",className:"h-6 px-1",onClick:J=>{J.stopPropagation(),m(E.id)},children:i.jsx(D2,{className:"h-3.5 w-3.5"})}),i.jsx(Y,{size:"sm",variant:"ghost",className:"h-6 px-1",onClick:J=>{J.stopPropagation(),T(E.id)},children:i.jsx(Ws,{className:"h-3.5 w-3.5"})})]}),i.jsx(Y,{size:"sm",variant:"ghost",className:n?"h-6 px-1":"",onClick:J=>{J.stopPropagation(),k(E.id)},children:i.jsx(no,{className:D(n?"h-3.5 w-3.5":"h-4 w-4")})})]})]})},E.id)})]}),i.jsx(Y,{className:"w-full",variant:"poker",onClick:()=>u(!0),children:"Создать тренировку"})]}),!n&&i.jsx("div",{className:D("p-6",n?"order-1 flex-1":"flex-1 overflow-y-auto"),children:i.jsx("div",{className:D("mx-auto space-y-6",n?"max-w-full":"max-w-4xl"),children:a?i.jsx("div",{children:(()=>{var he;const E=r.find(ie=>ie.id===a);if(!E)return null;const O=b(E.id),z=C(E),H=o.find(ie=>ie.id===E.folderId),J=H?H.name:null,K=(he=E.rangeIds)==null?void 0:he.map(ie=>{const Z=H==null?void 0:H.ranges.find(le=>le.id===ie);return Z?Z.name:null}).filter(Boolean).join(", ");return i.jsxs("div",{className:"space-y-4",children:[i.jsx(mt,{children:i.jsxs(lf,{className:"p-2",children:[i.jsx(cf,{className:"text-center text-lg",children:E.name}),i.jsxs(i1,{className:"text-center text-xs",children:[E.type==="classic"?"Классическая тренировка":"Тренировка повторения границ",z&&` • ${z}`]}),(J||K)&&i.jsxs("div",{className:"text-xs text-muted-foreground text-center pt-1 border-t mt-1",children:[J&&i.jsxs("p",{children:[i.jsx("strong",{children:"Папка:"})," ",J]}),K&&i.jsxs("p",{className:"truncate",title:K,children:[i.jsx("strong",{children:"Ренжи:"})," ",K]})]})]})}),O?i.jsxs(mt,{className:"p-6",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Статистика всех сессий"}),i.jsxs("div",{className:D("gap-4 text-center",n?"grid grid-cols-2 space-y-2":"grid grid-cols-4"),children:[i.jsxs("div",{children:[i.jsxs("div",{className:"text-2xl font-bold text-primary",children:[O.accuracy,"%"]}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Точность"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold text-primary",children:O.hands}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Рук сыграно"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold text-primary",children:O.time}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Среднее время"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold text-primary",children:O.sessions}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Сессий"})]})]})]}):i.jsx(mt,{className:"p-6 text-center text-muted-foreground",children:"Начните тренировку, чтобы собрать статистику."}),i.jsx("div",{className:"text-center",children:i.jsxs(Y,{size:"lg",variant:"poker",onClick:()=>T(E.id),children:[i.jsx(Ws,{className:"h-5 w-5 mr-2"}),"Запустить тренировку"]})}),!n&&i.jsxs(mt,{children:[i.jsx(lf,{children:i.jsx(cf,{children:"История сессий"})}),i.jsx(ip,{children:p.length>0?i.jsxs(a1,{children:[i.jsx(l1,{children:i.jsxs(uf,{children:[i.jsx(Bo,{className:"w-[100px]",children:"Сессия"}),i.jsx(Bo,{children:"Дата"}),i.jsx(Bo,{children:"Время"}),i.jsx(Bo,{className:"text-right",children:"Точность"})]})}),i.jsx(c1,{children:p.map((ie,Z)=>i.jsxs(uf,{children:[i.jsx(Ho,{className:"font-medium",children:p.length-Z}),i.jsx(Ho,{children:B(ie.timestamp)}),i.jsx(Ho,{children:V(ie.duration)}),i.jsxs(Ho,{className:"text-right",children:[q(ie.correctAnswers,ie.totalQuestions),"%"]})]},ie.timestamp))})]}):i.jsx("div",{className:"text-center text-muted-foreground py-8",children:"Нет данных о сессиях для этой тренировки."})})]})]})})()}):!n&&i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsxs("div",{className:"text-center text-muted-foreground",children:[i.jsx("h2",{className:"text-xl font-semibold",children:"Тренировка ренжей"}),i.jsx("p",{children:"Выберите тренировку из списка слева или создайте новую."})]})})})})]}),i.jsx(GD,{open:c,onOpenChange:u,onCreateTraining:N}),n&&i.jsx(wt,{open:!!j,onOpenChange:E=>{E||m(null)},children:i.jsxs(ut,{mobileFullscreen:!0,className:"flex flex-col",children:[i.jsxs(dt,{className:"flex-shrink-0",children:[i.jsx(ft,{children:_==null?void 0:_.name}),i.jsx(An,{children:"История сессий"})]}),i.jsx("div",{className:"flex-1 overflow-y-auto -mx-6 px-6",children:v.length>0?i.jsx("div",{className:"space-y-2 py-4",children:v.map((E,O)=>i.jsx(mt,{className:"p-3",children:i.jsxs("div",{className:"grid grid-cols-3 items-center gap-4 text-sm",children:[i.jsxs("div",{className:"font-medium",children:[i.jsxs("p",{children:["Сессия ",v.length-O]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:B(E.timestamp)})]}),i.jsx("div",{className:"text-center text-muted-foreground",children:V(E.duration)}),i.jsxs("div",{className:"text-right font-semibold",children:[q(E.correctAnswers,E.totalQuestions),"%"]})]})},E.timestamp))}):i.jsx("div",{className:"flex items-center justify-center h-full text-center text-muted-foreground",children:"Нет данных о сессиях для этой тренировки."})}),v.length>0&&i.jsx("div",{className:"flex-shrink-0 border-t mt-auto p-4 bg-card/50",children:i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Общее время"}),i.jsx("div",{className:"text-lg font-bold",children:F(I.totalDuration)})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Общая точность"}),i.jsxs("div",{className:"text-lg font-bold",children:[I.totalAccuracy.toFixed(1),"%"]})]})]})})]})}),i.jsx(of,{open:!!y,onOpenChange:E=>{E||k(null)},children:i.jsxs(bl,{children:[i.jsxs(jl,{children:[i.jsx(_l,{children:"Вы уверены?"}),i.jsx(kl,{children:"Это действие невозможно отменить. Это приведет к необратимому удалению тренировки и всей связанной с ней статистики."})]}),i.jsxs(Cl,{children:[i.jsx(El,{children:"Отмена"}),i.jsx(Nl,{onClick:P,className:Gl({variant:"destructive"}),children:"Удалить"})]})]})})]})},eM=({isOpen:e,onOpenChange:t,chart:n})=>{const[r,s]=h.useState([]),[o,a]=h.useState(!0),[l,c]=h.useState(!1),u=()=>{if(!(!e||!n)){a(!0);try{const p=localStorage.getItem("poker-range-access-statistics"),g=p?JSON.parse(p):{},S=localStorage.getItem("poker-ranges-folders"),w=S?JSON.parse(S):[],j=new Map;w.forEach(y=>{y.ranges.forEach(k=>{j.set(k.id,{folderName:y.name,rangeName:k.name})})});const m=new Set;n.buttons.forEach(y=>{y.type==="normal"&&y.linkedItem&&y.linkedItem!=="label-only"&&y.linkedItem!=="exit"&&m.add(y.linkedItem),y.linkButtons&&y.linkButtons.forEach(k=>{k.enabled&&k.targetRangeId&&m.add(k.targetRangeId)})});const x=Array.from(m).map(y=>{const k=Number(g[y])||0,_=j.get(y);return{id:y,folderName:_?_.folderName:"Удаленная папка",rangeName:_?_.rangeName:"(Ренж не найден)",count:k}}).sort((y,k)=>k.count-y.count).slice(0,10);s(x)}catch(p){console.error("Ошибка при обработке статистики чарта:",p),s([])}finally{a(!1)}}};h.useEffect(()=>{e&&u()},[e,n]);const d=async()=>{if(window.confirm("Вы уверены, что хотите сбросить всю статистику обращений к ренджам? Это действие необратимо и затронет данные в облаке, если вы авторизованы.")){c(!0);try{await zA(),u()}catch(p){console.error("Failed to reset stats:",p)}finally{c(!1)}}},f=r.filter(p=>p.count>0).length>0;return i.jsx(wt,{open:e,onOpenChange:t,children:i.jsxs(ut,{className:"max-w-md",children:[i.jsxs(dt,{children:[i.jsxs(ft,{children:['Статистика для "',n==null?void 0:n.name,'"']}),i.jsx(An,{children:"10 самых популярных ренджей в этом чарте."})]}),i.jsx("div",{className:"py-4 max-h-[60vh] overflow-y-auto",children:o?i.jsx("div",{className:"flex justify-center items-center h-24",children:i.jsx(Ds,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):f?i.jsx("ol",{className:"list-decimal list-inside space-y-2",children:r.filter(p=>p.count>0).map(p=>i.jsxs("li",{className:"text-sm",children:[i.jsxs("span",{className:"font-medium",children:[p.folderName," - ",p.rangeName,":"]}),i.jsxs("span",{className:"text-muted-foreground ml-2",children:[p.count," обращений"]})]},p.id))}):i.jsx("div",{className:"text-center text-muted-foreground py-8",children:i.jsx("p",{children:"Нет данных об обращениях к ренджам в этом чарте."})})}),i.jsxs(pn,{className:"flex-col-reverse gap-2 sm:flex-row sm:justify-between sm:space-x-2",children:[i.jsxs(Y,{variant:"destructive",onClick:d,disabled:l||o||!f,className:"w-full sm:w-auto",children:[l?i.jsx(Ds,{className:"mr-2 h-4 w-4 animate-spin"}):i.jsx(no,{className:"mr-2 h-4 w-4"}),"Сбросить статистику"]}),i.jsx(Y,{onClick:()=>t(!1),className:"w-full sm:w-auto",children:"Закрыть"})]})]})})},tM=e=>{const t=e%10,n=e%100;return n>=11&&n<=19?"кнопок":t===1?"кнопка":t>=2&&t<=4?"кнопки":"кнопок"},nM=({isMobileMode:e,charts:t,onCreateChart:n,onDeleteChart:r,onEditChart:s,onPlayChart:o})=>{const[a,l]=h.useState(!1),[c,u]=h.useState(""),[d,f]=h.useState(!1),[p,g]=h.useState(null),S=()=>{c.trim()&&(n(c.trim()),u(""),l(!1))},w=j=>{g(j),f(!0)};return i.jsxs("div",{className:"p-4 sm:p-6",children:[i.jsxs("div",{className:"max-w-4xl mx-auto",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Чарты"}),i.jsxs(wt,{open:a,onOpenChange:l,children:[i.jsx(b0,{asChild:!0,children:i.jsxs(Y,{children:[i.jsx(Wr,{className:"mr-2 h-4 w-4"})," Создать чарт"]})}),i.jsxs(ut,{children:[i.jsxs(dt,{children:[i.jsx(ft,{children:"Создать новый чарт"}),i.jsx(An,{children:"Введите название для вашего нового чарта."})]}),i.jsx(be,{value:c,onChange:j=>u(j.target.value),placeholder:"Название чарта",onKeyDown:j=>j.key==="Enter"&&S()}),i.jsx(pn,{children:i.jsx(Y,{onClick:S,disabled:!c.trim(),children:"Создать"})})]})]})]}),i.jsx("div",{className:D("space-y-3",e&&"max-h-[calc(70vh)] overflow-y-auto pr-1"),children:t.length>0?t.map(j=>i.jsx(mt,{className:"transition-all hover:bg-muted/50",children:i.jsxs(ip,{className:"p-3 flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1 overflow-hidden mr-2",children:[i.jsx("h3",{className:"font-semibold truncate",children:j.name}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[j.buttons.length," ",tM(j.buttons.length)]})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Y,{variant:"ghost",size:"icon",onClick:m=>{m.stopPropagation(),w(j)},children:i.jsx(O2,{className:"h-4 w-4"})}),i.jsx(Y,{variant:"ghost",size:"icon",onClick:m=>{m.stopPropagation(),o(j)},children:i.jsx(Ws,{className:"h-4 w-4"})}),i.jsx(Y,{variant:"ghost",size:"icon",onClick:m=>{m.stopPropagation(),s(j)},children:i.jsx(Nh,{className:"h-4 w-4"})}),i.jsx(Y,{variant:"destructive",size:"icon",onClick:m=>{m.stopPropagation(),r(j.id)},children:i.jsx(no,{className:"h-4 w-4"})})]})]})},j.id)):i.jsxs("div",{className:"text-center py-12 border-2 border-dashed rounded-lg",children:[i.jsx("h3",{className:"text-lg font-medium",children:"Чарты не найдены"}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"Создайте свой первый чарт, чтобы начать."})]})})]}),i.jsx(eM,{isOpen:d,onOpenChange:f,chart:p})]})},Oe=5,rM=({buttons:e,setButtons:t,canvasRef:n,isMoveMode:r})=>{const[s,o]=h.useState(null),[a,l]=h.useState(!1),[c,u]=h.useState(!1),[d,f]=h.useState({x:0,y:0}),[p,g]=h.useState(null);h.useEffect(()=>{r||o(null)},[r]),h.useEffect(()=>{const _=n.current;if(!_)return;const b=C=>{C.target===_&&o(null)};return _.addEventListener("mousedown",b),()=>{_.removeEventListener("mousedown",b)}},[n]);const S=h.useCallback((_,b)=>{var F;const C=_.target.getBoundingClientRect(),N=((F=_.touches)==null?void 0:F[0])||_,R=N.clientX-C.left,P=N.clientY-C.top,T=8;let L=null;return R<T&&P<T?L="nw":R>C.width-T&&P<T?L="ne":R<T&&P>C.height-T?L="sw":R>C.width-T&&P>C.height-T?L="se":R<T?L="w":R>C.width-T?L="e":P<T?L="n":P>C.height-T&&(L="s"),L},[]),w=h.useCallback((_,b)=>{if(_.target.closest(".settings-icon"))return;_.stopPropagation(),o(b.id);const C=S(_,b);!r&&C?(u(!0),g(C)):l(!0);const N=_.currentTarget.getBoundingClientRect();f({x:_.clientX-N.left,y:_.clientY-N.top})},[S,r]),j=h.useCallback((_,b)=>{if(_.target.closest(".settings-icon"))return;_.stopPropagation(),o(b.id);const C=S(_,b);!r&&C?(u(!0),g(C)):l(!0);const N=_.currentTarget.getBoundingClientRect(),R=_.touches[0];f({x:R.clientX-N.left,y:R.clientY-N.top})},[S,r]),m=h.useCallback(_=>{if(!s||!n.current)return;const b=n.current.getBoundingClientRect(),C=e.find(N=>N.id===s);if(C){if(a){let N=_.clientX-d.x-b.left,R=_.clientY-d.y-b.top;N=Math.max(0,Math.min(N,b.width-C.width)),R=Math.max(0,Math.min(R,b.height-C.height)),t(P=>P.map(T=>T.id===s?{...T,x:N,y:R}:T))}else if(c&&p){let N=C.width,R=C.height,P=C.x,T=C.y;switch(p){case"e":N=Math.max(Oe,_.clientX-(C.x+b.left));break;case"s":R=Math.max(Oe,_.clientY-(C.y+b.top));break;case"w":const L=_.clientX-(C.x+b.left);N=Math.max(Oe,C.width-L),P=C.x+L;break;case"n":const F=_.clientY-(C.y+b.top);R=Math.max(Oe,C.height-F),T=C.y+F;break;case"se":N=Math.max(Oe,_.clientX-(C.x+b.left)),R=Math.max(Oe,_.clientY-(C.y+b.top));break;case"sw":const V=_.clientX-(C.x+b.left);N=Math.max(Oe,C.width-V),P=C.x+V,R=Math.max(Oe,_.clientY-(C.y+b.top));break;case"ne":N=Math.max(Oe,_.clientX-(C.x+b.left));const B=_.clientY-(C.y+b.top);R=Math.max(Oe,C.height-B),T=C.y+B;break;case"nw":const q=_.clientX-(C.x+b.left);N=Math.max(Oe,C.width-q),P=C.x+q;const I=_.clientY-(C.y+b.top);R=Math.max(Oe,C.height-I),T=C.y+I;break}P=Math.max(0,Math.min(P,b.width-N)),T=Math.max(0,Math.min(T,b.height-R)),N=Math.min(N,b.width-P),R=Math.min(R,b.height-T),t(L=>L.map(F=>F.id===s?{...F,x:P,y:T,width:N,height:R}:F))}}},[s,a,c,d,p,e,t,n]),v=h.useCallback(_=>{if(!s||!n.current)return;_.preventDefault();const b=_.touches[0];if(!b)return;const C=n.current.getBoundingClientRect(),N=e.find(R=>R.id===s);if(N){if(a){let R=b.clientX-d.x-C.left,P=b.clientY-d.y-C.top;R=Math.max(0,Math.min(R,C.width-N.width)),P=Math.max(0,Math.min(P,C.height-N.height)),t(T=>T.map(L=>L.id===s?{...L,x:R,y:P}:L))}else if(c&&p){let R=N.width,P=N.height,T=N.x,L=N.y;switch(p){case"e":R=Math.max(Oe,b.clientX-(N.x+C.left));break;case"s":P=Math.max(Oe,b.clientY-(N.y+C.top));break;case"w":const F=b.clientX-(N.x+C.left);R=Math.max(Oe,N.width-F),T=N.x+F;break;case"n":const V=b.clientY-(N.y+C.top);P=Math.max(Oe,N.height-V),L=N.y+V;break;case"se":R=Math.max(Oe,b.clientX-(N.x+C.left)),P=Math.max(Oe,b.clientY-(N.y+C.top));break;case"sw":const B=b.clientX-(N.x+C.left);R=Math.max(Oe,N.width-B),T=N.x+B,P=Math.max(Oe,b.clientY-(N.y+C.top));break;case"ne":R=Math.max(Oe,b.clientX-(N.x+C.left));const q=b.clientY-(N.y+C.top);P=Math.max(Oe,N.height-q),L=N.y+q;break;case"nw":const I=b.clientX-(N.x+C.left);R=Math.max(Oe,N.width-I),T=N.x+I;const E=b.clientY-(N.y+C.top);P=Math.max(Oe,N.height-E),L=N.y+E;break}T=Math.max(0,Math.min(T,C.width-R)),L=Math.max(0,Math.min(L,C.height-P)),R=Math.min(R,C.width-T),P=Math.min(P,C.height-L),t(F=>F.map(V=>V.id===s?{...V,x:T,y:L,width:R,height:P}:V))}}},[s,a,c,d,p,e,t,n]),x=h.useCallback(()=>{l(!1),u(!1),g(null),r||o(null)},[r]),y=h.useCallback((_,b)=>{if(a||c)return;if(r){_.currentTarget.style.cursor="grab";return}const C=S(_,b);C?_.currentTarget.style.cursor=`${C}-resize`:_.currentTarget.style.cursor="grab"},[a,c,S,r]),k=h.useCallback(_=>{a||c||(_.currentTarget.style.cursor="default")},[a,c]);return h.useEffect(()=>(a||c?(window.addEventListener("mousemove",m),window.addEventListener("mouseup",x),window.addEventListener("touchmove",v,{passive:!1}),window.addEventListener("touchend",x)):(window.removeEventListener("mousemove",m),window.removeEventListener("mouseup",x),window.removeEventListener("touchmove",v),window.removeEventListener("touchend",x)),()=>{window.removeEventListener("mousemove",m),window.removeEventListener("mouseup",x),window.removeEventListener("touchmove",v),window.removeEventListener("touchend",x)}),[a,c,m,x,v]),{activeButtonId:s,handleMouseDown:w,handleTouchStart:j,handleButtonMouseMove:y,handleButtonMouseLeave:k}},Hg=5,sM=({canvasRef:e,width:t,height:n,buttons:r,activeButtonId:s,onButtonMouseDown:o,onButtonTouchStart:a,onButtonMouseMove:l,onButtonMouseLeave:c,onSettingsClick:u})=>i.jsxs("div",{ref:e,className:"relative border-2 border-dashed border-muted-foreground rounded-lg bg-card flex items-center justify-center overflow-hidden",style:{width:t,height:n},children:[r.length===0&&i.jsx("p",{className:"text-muted-foreground",children:"Рабочая область (холст)"}),r.map(d=>{const f={backgroundColor:d.color,position:"absolute",left:d.x,top:d.y,width:Math.max(Hg,d.width||0),height:Math.max(Hg,d.height||0),zIndex:s===d.id?100:1,color:d.isFontAdaptive===!1&&d.fontColor?d.fontColor:"white",display:"flex",flexDirection:"column",alignItems:d.textAlign==="left"?"flex-start":d.textAlign==="right"?"flex-end":"center",justifyContent:"center",padding:"0 8px",textAlign:d.textAlign};return d.isFontAdaptive===!1&&d.fontSize&&(f.fontSize=`${d.fontSize}px`),i.jsxs("div",{style:f,className:D("relative rounded-md shadow-md font-semibold group",{"whitespace-nowrap":!d.textWrap,"overflow-hidden":!d.textWrap,"text-ellipsis":!d.textWrap}),onMouseDown:p=>o(p,d),onTouchStart:p=>a(p,d),onMouseMove:p=>l(p,d),onMouseLeave:c,children:[i.jsx("span",{style:{lineHeight:"0.9em"},children:d.name}),d.showNameLine2&&d.nameLine2&&i.jsx("span",{style:{lineHeight:"0.9em"},children:d.nameLine2}),d.showNameLine3&&d.nameLine3&&i.jsx("span",{style:{lineHeight:"0.9em"},children:d.nameLine3}),i.jsx(Y,{variant:"ghost",size:"icon",className:"absolute top-1 right-1 h-6 w-6 p-0 opacity-0 group-hover:opacity-100 transition-opacity settings-icon",onClick:p=>u(p,d),title:"Настройки кнопки",children:i.jsx(Ks,{className:"h-4 w-4"})})]},d.id)})]}),oM=({isMobileMode:e,canvasWidth:t,canvasHeight:n,onAddButton:r,onMaximizeCanvas:s,onDimensionChange:o,onDimensionBlur:a,isMoveMode:l,onToggleMoveMode:c})=>i.jsxs("div",{className:D("flex flex-col",e?"p-4 mb-2 gap-2":"mb-6 gap-4"),children:[i.jsxs("div",{className:D("flex items-center",e?"gap-2":"gap-4"),children:[i.jsxs(Y,{onClick:r,className:"flex items-center gap-2 h-7",children:[i.jsx(Wr,{className:"h-4 w-4"}),"Создать кнопку"]}),i.jsx(Y,{variant:"ghost",size:"icon",onClick:s,title:"Развернуть на весь экран",children:i.jsx(B2,{className:"h-5 w-5"})}),i.jsx(Y,{variant:l?"secondary":"ghost",size:"icon",onClick:c,title:"Режим перемещения (отключает изменение размера)",children:i.jsx(K2,{className:"h-5 w-5"})})]}),i.jsxs("div",{className:D("flex items-center gap-1 flex-wrap",e?"grid grid-cols-[auto_1fr] gap-x-1 gap-y-1 w-full":""),children:[i.jsx(U,{htmlFor:"canvasWidth",className:D("text-right",e&&"text-left"),children:"Ширина"}),i.jsx(be,{id:"canvasWidth",type:"number",value:isNaN(t)?"":t,onChange:u=>o(u.target.value,"width"),onBlur:()=>a(t,"width"),className:"w-20 h-7",min:"100",maxLength:4}),i.jsx(U,{htmlFor:"canvasHeight",className:D("text-right",e&&"text-left"),children:"Высота"}),i.jsx(be,{id:"canvasHeight",type:"number",value:isNaN(n)?"":n,onChange:u=>o(u.target.value,"height"),onBlur:()=>a(n,"height"),className:"w-20 h-7",min:"100",maxLength:4})]})]}),iM=({isOpen:e,onOpenChange:t,isMobileMode:n,editingButton:r,setEditingButton:s,onSave:o,onCancel:a,onDuplicate:l,onDelete:c,allRanges:u,folders:d,onOpenLegendPreview:f,isCreatingNewButton:p})=>{var k;const[g,S]=h.useState(null),w=[{name:"Красный",hex:"#FF0000"},{name:"Зеленый",hex:"#2FCA2F"},{name:"Синий",hex:"#0000FF"},{name:"Оранжевый",hex:"#FFA500"},{name:"Фиолетовый",hex:"#800080"}];h.useEffect(()=>{if(r&&r.type==="normal"&&r.linkedItem){const _=u.find(b=>b.id===r.linkedItem);if(_){const b=d.find(C=>C.ranges.some(N=>N.id===_.id));S(b?b.id:null)}else S(null)}else S(null)},[r,d,u]);const j=_=>{s(b=>{if(!b)return null;let C=b.linkedItem;return _==="label"?C="label-only":_==="exit"?C="exit-chart-placeholder":_==="normal"&&b.type!=="normal"&&(u.length>0?C=u[0].id:C=""),{...b,type:_,linkedItem:C}})},m=_=>{S(_);const b=d.find(N=>N.id===_),C=b==null?void 0:b.ranges[0];s(N=>N?{...N,linkedItem:C?C.id:""}:null)},v=_=>{s(b=>b?{...b,linkedItem:_}:null)},x=g?((k=d.find(_=>_.id===g))==null?void 0:k.ranges)||[]:[],y=(r==null?void 0:r.type)==="normal"?r.linkedItem:"";return r?i.jsx(wt,{open:e,onOpenChange:_=>{_?t(!0):a()},children:i.jsxs(ut,{mobileFullscreen:n,onInteractOutside:_=>{p&&!n&&_.preventDefault()},children:[i.jsx(dt,{children:i.jsx(ft,{children:"Настройка кнопки"})}),i.jsxs("div",{className:D("grid",n?"gap-3 py-3":"gap-3.5 py-3.5"),children:[i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(U,{htmlFor:"buttonName",className:"text-right",children:"Название"}),i.jsx(be,{id:"buttonName",value:(r==null?void 0:r.name)||"",onChange:_=>s(b=>b?{...b,name:_.target.value}:null),className:"col-span-3 h-7"})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(U,{className:"text-right whitespace-nowrap",children:"Доп. строки"}),i.jsxs("div",{className:"col-span-3 flex items-center gap-x-4",children:[" ",i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(sn,{id:"showNameLine2",checked:(r==null?void 0:r.showNameLine2)??!1,onCheckedChange:_=>{s(b=>b?{...b,showNameLine2:!!_}:null)}}),i.jsx(U,{htmlFor:"showNameLine2",className:"font-normal",children:"Вторая строка"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(sn,{id:"showNameLine3",checked:(r==null?void 0:r.showNameLine3)??!1,onCheckedChange:_=>{s(b=>b?{...b,showNameLine3:!!_}:null)}}),i.jsx(U,{htmlFor:"showNameLine3",className:"font-normal",children:"Третья строка"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-4 items-start gap-4 -mt-2",children:[" ",i.jsxs("div",{className:"col-start-2 col-span-3 flex flex-col gap-1.5",children:[" ",(r==null?void 0:r.showNameLine2)&&i.jsx(be,{id:"nameLine2",value:(r==null?void 0:r.nameLine2)||"",onChange:_=>s(b=>b?{...b,nameLine2:_.target.value}:null),className:"w-full h-7",placeholder:"Текст второй строки"}),(r==null?void 0:r.showNameLine3)&&i.jsx(be,{id:"nameLine3",value:(r==null?void 0:r.nameLine3)||"",onChange:_=>s(b=>b?{...b,nameLine3:_.target.value}:null),className:"w-full h-7",placeholder:"Текст третьей строки"})]})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(U,{htmlFor:"buttonColor",className:"text-right",children:"Цвет"}),i.jsxs("div",{className:"col-span-3 flex items-center gap-2",children:[w.map(_=>i.jsx("div",{className:"w-8 h-8 rounded-md cursor-pointer border border-gray-700",style:{backgroundColor:_.hex},onClick:()=>s(b=>b?{...b,color:_.hex}:null),title:_.name},_.hex)),i.jsx(be,{id:"buttonColor",type:"color",value:(r==null?void 0:r.color)||"#000000",onChange:_=>s(b=>b?{...b,color:_.target.value}:null),className:"w-10 h-10 p-0 border-none cursor-pointer"})]})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(U,{className:"text-right",children:"Тип кнопки"}),i.jsxs(tt,{value:(r==null?void 0:r.type)||"normal",onValueChange:j,className:"col-span-3 flex gap-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(de,{value:"normal",id:"typeNormal"}),i.jsx(U,{htmlFor:"typeNormal",className:"font-normal",children:"Обычная"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(de,{value:"label",id:"typeLabel"}),i.jsx(U,{htmlFor:"typeLabel",className:"font-normal",children:"Только текст"})]}),!n&&i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(de,{value:"exit",id:"typeExit"}),i.jsx(U,{htmlFor:"typeExit",className:"font-normal",children:"Выход"})]})]})]}),r.type==="normal"&&i.jsx(i.Fragment,{children:n?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(U,{className:"font-bold whitespace-nowrap",children:"Привязать"}),i.jsxs(Vn,{value:g||"",onValueChange:m,disabled:d.length===0,children:[i.jsx(_n,{className:"flex-1",children:i.jsx(Wn,{placeholder:"Папка"})}),i.jsx(kn,{children:d.length===0?i.jsx(Je,{value:"no-folders-available",disabled:!0,children:"Нет доступных папок"}):d.map(_=>i.jsx(Je,{value:_.id,children:_.name},_.id))})]}),i.jsxs(Vn,{value:y,onValueChange:v,disabled:!g||x.length===0,children:[i.jsx(_n,{className:"flex-1",children:i.jsx(Wn,{placeholder:"Диапазон"})}),i.jsx(kn,{children:g?x.length===0?i.jsx(Je,{value:"no-ranges-in-folder",disabled:!0,children:"Нет диапазонов в этой папке"}):x.map(_=>i.jsx(Je,{value:_.id,children:_.name},_.id)):i.jsx(Je,{value:"select-folder-first",disabled:!0,children:"Сначала выберите папку"})})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(U,{htmlFor:"linkedFolder",className:"text-right",children:"Папка"}),i.jsxs(Vn,{value:g||"",onValueChange:m,disabled:d.length===0,children:[i.jsx(_n,{className:"col-span-3",children:i.jsx(Wn,{placeholder:"Выберите папку"})}),i.jsx(kn,{children:d.length===0?i.jsx(Je,{value:"no-folders-available",disabled:!0,children:"Нет доступных папок"}):d.map(_=>i.jsx(Je,{value:_.id,children:_.name},_.id))})]})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(U,{htmlFor:"linkedRange",className:"text-right",children:"Диапазон"}),i.jsxs(Vn,{value:y,onValueChange:v,disabled:!g||x.length===0,children:[i.jsx(_n,{className:"col-span-3",children:i.jsx(Wn,{placeholder:"Выберите диапазон"})}),i.jsx(kn,{children:g?x.length===0?i.jsx(Je,{value:"no-ranges-in-folder",disabled:!0,children:"Нет диапазонов в этой папке"}):x.map(_=>i.jsx(Je,{value:_.id,children:_.name},_.id)):i.jsx(Je,{value:"select-folder-first",disabled:!0,children:"Сначала выберите папку"})})]})]})]})}),i.jsxs("div",{className:D("grid grid-cols-4 items-center gap-4 border-t",n?"pt-3 mt-1":"pt-3.5 mt-1.5"),children:[i.jsx(U,{className:"text-right",children:"Шрифт"}),i.jsxs("div",{className:D("col-span-3 flex flex-wrap items-center gap-x-4",n?"gap-y-1.5":"gap-y-2"),children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(sn,{id:"adaptiveFont",checked:(r==null?void 0:r.isFontAdaptive)??!0,onCheckedChange:_=>{s(b=>b?{...b,isFontAdaptive:!!_}:null)}}),i.jsx(U,{htmlFor:"adaptiveFont",className:"font-normal",children:"Адаптивный"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(be,{id:"fontSize",type:"number",value:(r==null?void 0:r.fontSize)||16,onChange:_=>s(b=>b?{...b,fontSize:parseInt(_.target.value)||16}:null),className:"w-16 h-8",min:"1",disabled:(r==null?void 0:r.isFontAdaptive)??!0}),i.jsx(U,{htmlFor:"fontSize",className:"font-normal text-sm text-muted-foreground",children:"px"})]}),i.jsxs(tt,{value:(r==null?void 0:r.fontColor)||"white",onValueChange:_=>{s(b=>b?{...b,fontColor:_}:null)},className:"flex gap-4",disabled:(r==null?void 0:r.isFontAdaptive)??!0,children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(de,{value:"white",id:"fontWhite"}),i.jsx(U,{htmlFor:"fontWhite",className:"font-normal",children:"Белый"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(de,{value:"black",id:"fontBlack"}),i.jsx(U,{htmlFor:"fontBlack",className:"font-normal",children:"Черный"})]})]})]})]}),i.jsxs("div",{className:D("grid grid-cols-4 items-center gap-4 border-t",n?"pt-3 mt-1":"pt-3.5 mt-1.5"),children:[i.jsx(U,{className:"text-right",children:"Размер"}),i.jsxs("div",{className:"col-span-3 grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(U,{htmlFor:"buttonWidth",className:"font-normal w-6 text-right",children:"W:"}),i.jsx(be,{id:"buttonWidth",type:"number",value:(r==null?void 0:r.width)||0,onChange:_=>{const b=parseInt(_.target.value,10);s(C=>C?{...C,width:isNaN(b)?0:b}:null)},className:"w-20 h-8"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(U,{htmlFor:"buttonHeight",className:"font-normal w-6 text-right",children:"H:"}),i.jsx(be,{id:"buttonHeight",type:"number",value:(r==null?void 0:r.height)||0,onChange:_=>{const b=parseInt(_.target.value,10);s(C=>C?{...C,height:isNaN(b)?0:b}:null)},className:"w-20 h-8"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(U,{className:"text-right",children:"Позиция"}),i.jsxs("div",{className:"col-span-3 grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(U,{htmlFor:"buttonX",className:"font-normal w-6 text-right",children:"X: "}),i.jsx(be,{id:"buttonX",type:"number",value:(r==null?void 0:r.x)||0,onChange:_=>{const b=parseInt(_.target.value,10);s(C=>C?{...C,x:isNaN(b)?0:b}:null)},className:"w-20 h-8"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(U,{htmlFor:"buttonY",className:"font-normal w-6 text-right",children:"Y:"}),i.jsx(be,{id:"buttonY",type:"number",value:(r==null?void 0:r.y)||0,onChange:_=>{const b=parseInt(_.target.value,10);s(C=>C?{...C,y:isNaN(b)?0:b}:null)},className:"w-20 h-8"})]})]})]}),i.jsxs("div",{className:D("grid grid-cols-4 items-start gap-4 border-t",n?"pt-3 mt-1":"pt-3.5 mt-1.5"),children:[i.jsx(U,{className:"text-right col-start-1 pt-2",children:"Опции"}),i.jsxs("div",{className:"col-span-3 flex flex-col gap-2",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(sn,{id:"showLegend",checked:(r==null?void 0:r.showLegend)??!1,onCheckedChange:_=>{s(b=>b?{...b,showLegend:!!_}:null)},disabled:(r==null?void 0:r.type)==="label"||(r==null?void 0:r.type)==="exit"}),i.jsx(U,{htmlFor:"showLegend",className:"font-normal",children:"Показать легенду"}),(r==null?void 0:r.showLegend)&&(r==null?void 0:r.type)==="normal"&&i.jsx(Y,{variant:"outline",size:"sm",className:"h-7 ml-2",onClick:f,children:"Предпросмотр"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(sn,{id:"showRandomizer",checked:(r==null?void 0:r.showRandomizer)??!1,onCheckedChange:_=>{s(b=>b?{...b,showRandomizer:!!_}:null)},disabled:(r==null?void 0:r.type)==="label"||(r==null?void 0:r.type)==="exit"}),i.jsx(U,{htmlFor:"showRandomizer",className:"font-normal",children:"Показывать рандомайзер"})]})]})]})]}),i.jsxs(pn,{children:[i.jsx(Y,{variant:"destructive",onClick:c,children:"Удалить"}),i.jsx(Y,{variant:"outline",onClick:l,children:"Копировать"}),i.jsx(Y,{onClick:o,children:"Сохранить"})]})]})}):null},Vg=(e,t)=>{if(e==="fold")return"#6b7280";const n=t.find(r=>r.id===e);return n&&n.type==="simple"?n.color:"#ffffff"},aM=(e,t)=>{if(e.type==="simple")return{backgroundColor:e.color};if(e.type==="weighted"){const n=Vg(e.action1Id,t),r=Vg(e.action2Id,t);return{background:`linear-gradient(to right, ${n} ${e.weight}%, ${r} ${e.weight}%)`}}return{}},lM=({config:e,onConfigChange:t,folders:n,buttonIndex:r})=>{const[s,o]=h.useState("");h.useEffect(()=>{if(e.targetRangeId){const c=n.find(u=>u.ranges.some(d=>d.id===e.targetRangeId));o((c==null?void 0:c.id)||"")}else n.length>0&&o(n[0].id)},[e.targetRangeId,n]);const a=h.useMemo(()=>{const c=n.find(u=>u.id===s);return c?c.ranges:[]},[s,n]),l=c=>{var d,f;o(c);const u=((f=(d=n.find(p=>p.id===c))==null?void 0:d.ranges[0])==null?void 0:f.id)||"";t({...e,targetRangeId:u})};return i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{children:[i.jsx(U,{htmlFor:`link-button-text-${r}`,children:"Текст на кнопке"}),i.jsx(be,{id:`link-button-text-${r}`,value:e.text,onChange:c=>t({...e,text:c.target.value}),placeholder:"Напр. vs 3-bet"})]}),r===0&&i.jsxs("div",{children:[i.jsx(U,{htmlFor:"link-button-position",children:"Расположение группы кнопок"}),i.jsxs(Vn,{value:e.position,onValueChange:c=>t({...e,position:c}),children:[i.jsx(_n,{id:"link-button-position",children:i.jsx(Wn,{placeholder:"Выберите расположение"})}),i.jsxs(kn,{children:[i.jsx(Je,{value:"left",children:"Слева"}),i.jsx(Je,{value:"center",children:"По центру"}),i.jsx(Je,{value:"right",children:"Справа"})]})]})]}),i.jsxs("div",{children:[i.jsx(U,{children:"Целевой ренж"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(Vn,{value:s,onValueChange:l,children:[i.jsx(_n,{children:i.jsx(Wn,{placeholder:"Выберите папку"})}),i.jsx(kn,{children:n.map(c=>i.jsx(Je,{value:c.id,children:c.name},c.id))})]}),i.jsxs(Vn,{value:e.targetRangeId,onValueChange:c=>t({...e,targetRangeId:c}),disabled:!s,children:[i.jsx(_n,{children:i.jsx(Wn,{placeholder:"Выберите ренж"})}),i.jsx(kn,{children:a.map(c=>i.jsx(Je,{value:c.id,children:c.name},c.id))})]})]})]})]})},cM=({isOpen:e,onOpenChange:t,linkedRange:n,actionButtons:r,editingButton:s,onSave:o,folders:a})=>{const[l,c]=h.useState({}),[u,d]=h.useState([]),[f,p]=h.useState({showTitle:!1,titleText:"",titleFontSize:20,titleAlignment:"center"}),[g,S]=h.useState(!0),w=In();h.useEffect(()=>{if(e){c((s==null?void 0:s.legendOverrides)||{});const k=(s==null?void 0:s.linkButtons)||[],_=Array(6).fill(null).map((b,C)=>({...k[C]||{enabled:!1,text:"",position:"center",targetRangeId:""}}));d(_),p({showTitle:(n==null?void 0:n.showTitle)||!1,titleText:(n==null?void 0:n.titleText)||(n==null?void 0:n.name)||"",titleFontSize:(n==null?void 0:n.titleFontSize)||20,titleAlignment:(n==null?void 0:n.titleAlignment)||"center"}),S((s==null?void 0:s.legendIsMultiLine)??!0)}},[e,s,n]);const j=()=>{const k={};for(const _ in l)l[_]&&l[_].trim()!==""&&(k[_]=l[_].trim());o({overrides:k,linkButtonsConfig:u,titleConfig:f,legendIsMultiLine:g}),t(!1)},m=(k,_)=>{const b=[...u];if(b[k]=_,k===0){const C=_.position;for(let N=1;N<b.length;N++)b[N]={...b[N],position:C}}d(b)},v=h.useMemo(()=>{if(!n)return[];const k=new Set(Object.values(n.hands));return r.filter(_=>k.has(_.id))},[n,r]),x=h.useMemo(()=>{var _;const k=((_=u[0])==null?void 0:_.position)||"center";return{left:"justify-start",center:"justify-center",right:"justify-end"}[k]},[u]),y=h.useMemo(()=>u.filter(k=>k.enabled&&k.text.trim()!==""),[u]);return i.jsx(wt,{open:e,onOpenChange:t,children:i.jsxs(ut,{className:"max-w-4xl sm:max-h-[90vh] overflow-y-auto",onInteractOutside:k=>k.preventDefault(),mobileFullscreen:w,children:[i.jsx(dt,{children:i.jsx(ft,{children:"Предпросмотр и редактирование"})}),n&&i.jsxs("div",{children:[i.jsx(Yr,{selectedHands:n.hands,onHandSelect:()=>{},activeAction:"",actionButtons:r,readOnly:!0,isBackgroundMode:!1,sizeVariant:"editorPreview"}),i.jsxs("div",{className:"mt-4 space-y-3",children:[i.jsx("h4",{className:"font-semibold",children:"Редактировать названия в легенде:"}),i.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[i.jsx(sn,{id:"legend-multiline",checked:g,onCheckedChange:k=>S(!!k)}),i.jsx(U,{htmlFor:"legend-multiline",children:"С новой строки"})]}),v.map(k=>i.jsxs("div",{className:"grid grid-cols-[auto_1fr] items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2 whitespace-nowrap",children:[i.jsx("div",{className:"w-4 h-4 rounded-sm border flex-shrink-0",style:aM(k,r)}),i.jsxs(U,{htmlFor:`legend-override-${k.id}`,children:[k.name,":"]})]}),i.jsx(be,{id:`legend-override-${k.id}`,value:l[k.id]||"",onChange:_=>c(b=>({...b,[k.id]:_.target.value})),placeholder:`По умолчанию: ${k.name}`})]},k.id))]}),i.jsxs("div",{className:"mt-6 pt-4 border-t",children:[i.jsx("h4",{className:"font-semibold mb-3",children:"Заголовок над матрицей"}),i.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[i.jsx(sn,{id:"show-title",checked:f.showTitle,onCheckedChange:k=>p(_=>({..._,showTitle:!!k}))}),i.jsx(U,{htmlFor:"show-title",children:"Показывать заголовок"})]}),f.showTitle&&i.jsxs("div",{className:"space-y-4 pl-6",children:[i.jsxs("div",{children:[i.jsx(U,{htmlFor:"title-text",children:"Текст заголовка"}),i.jsx(be,{id:"title-text",value:f.titleText,onChange:k=>p(_=>({..._,titleText:k.target.value})),placeholder:"Напр. Open Raise BTN"})]}),i.jsxs("div",{className:"flex gap-4 items-end",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx(U,{htmlFor:"title-font-size",children:"Размер шрифта (px)"}),i.jsx(be,{id:"title-font-size",type:"number",value:f.titleFontSize,onChange:k=>p(_=>({..._,titleFontSize:Number(k.target.value)||20}))})]}),i.jsxs("div",{children:[i.jsx(U,{children:"Выравнивание"}),i.jsxs(tt,{value:f.titleAlignment,onValueChange:k=>p(_=>({..._,titleAlignment:k})),className:"flex gap-4 mt-2",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(de,{value:"left",id:"align-left"}),i.jsx(U,{htmlFor:"align-left",children:"Слева"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(de,{value:"center",id:"align-center"}),i.jsx(U,{htmlFor:"align-center",children:"По центру"})]})]})]})]})]})]}),i.jsxs("div",{className:"mt-6 pt-4 border-t",children:[i.jsx("h4",{className:"font-semibold mb-3",children:"Кнопки-ссылки на другой ренж"}),y.length>0&&i.jsxs("div",{className:"space-y-2 mb-6",children:[i.jsx(U,{children:"Предпросмотр кнопок"}),i.jsx("div",{className:`p-4 border rounded-lg bg-muted/40 flex ${x}`,children:i.jsx("div",{className:"grid grid-cols-1 gap-2",children:y.map((k,_)=>i.jsx(Y,{variant:"outline",size:"sm",className:"pointer-events-none",children:k.text},_))})})]}),i.jsx(U,{children:"Настройки кнопок"}),i.jsx("div",{className:"grid grid-cols-1 gap-2 mt-2",children:u.map((k,_)=>i.jsxs("div",{className:"p-2 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[i.jsx(sn,{id:`enable-link-button-${_}`,checked:k.enabled,onCheckedChange:b=>m(_,{...k,enabled:!!b})}),i.jsxs(U,{htmlFor:`enable-link-button-${_}`,className:"font-semibold",children:["Кнопка-ссылка #",_+1]})]}),k.enabled&&i.jsx(lM,{config:k,onConfigChange:b=>m(_,b),folders:a,buttonIndex:_})]},_))})]})]}),i.jsxs(pn,{children:[i.jsx(Y,{variant:"outline",onClick:()=>t(!1),children:"Отмена"}),i.jsx(Y,{onClick:j,children:"Сохранить"})]})]})})},uM=({isMobileMode:e=!1,chart:t,onBackToCharts:n,onSaveChart:r})=>{const{folders:s,setFolders:o,actionButtons:a}=mn(),l=s.flatMap($=>$.ranges),[c,u]=h.useState(t.name),[d,f]=h.useState(!1),[p,g]=h.useState(t.buttons),[S,w]=h.useState(t.canvasWidth||800),[j,m]=h.useState(t.canvasHeight||500),[v,x]=h.useState(!1),[y,k]=h.useState(null),[_,b]=h.useState(!1),[C,N]=h.useState(!1),[R,P]=h.useState(!1),T=h.useRef(null),L=100,F=5,{activeButtonId:V,handleMouseDown:B,handleTouchStart:q,handleButtonMouseMove:I,handleButtonMouseLeave:E}=rM({buttons:p,setButtons:g,canvasRef:T,isMoveMode:R});h.useEffect(()=>{u(t.name),g(t.buttons),w(t.canvasWidth||800),m(t.canvasHeight||500)},[t]),h.useEffect(()=>{g($=>{let G=!1;const te=$.map(M=>{let Q=M.x,ee=M.y,ae=M.width,Se=M.height;return ae=Math.max(F,ae),Se=Math.max(F,Se),Q=Math.max(0,Math.min(Q,S-ae)),ee=Math.max(0,Math.min(ee,j-Se)),ae=Math.min(ae,S-Q),Se=Math.min(Se,j-ee),Q!==M.x||ee!==M.y||ae!==M.width||Se!==M.height?(G=!0,{...M,x:Q,y:ee,width:ae,height:Se}):M});return G?te:$})},[S,j]),h.useEffect(()=>{const $=G=>{if(!R||!V||!p.find(ae=>ae.id===V))return;["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(G.key)&&G.preventDefault();let M=0,Q=0;const ee=G.shiftKey?10:1;switch(G.key){case"ArrowUp":Q=-ee;break;case"ArrowDown":Q=ee;break;case"ArrowLeft":M=-ee;break;case"ArrowRight":M=ee;break;default:return}g(ae=>ae.map(Se=>{if(Se.id===V){const Ze=Math.max(0,Math.min(Se.x+M,S-Se.width)),vn=Math.max(0,Math.min(Se.y+Q,j-Se.height));return{...Se,x:Ze,y:vn}}return Se}))};return window.addEventListener("keydown",$),()=>{window.removeEventListener("keydown",$)}},[R,V,p,g,S,j]);const O=()=>{const $={id:String(Date.now()),name:"new",color:"#60A5FA",linkedItem:l.length>0?l[0].id:"label-only",x:50,y:50,width:120,height:40,type:l.length>0?"button":"label",isFontAdaptive:!0,fontSize:16,fontColor:"white",showLegend:!0,legendIsMultiLine:!0,showRandomizer:!1,legendOverrides:{},linkButtons:Array(6).fill(null).map(()=>({enabled:!1,text:"",position:"center",targetRangeId:""})),textAlign:"center",textWrap:!0,showNameLine2:!1,nameLine2:"",showNameLine3:!1,nameLine3:""};g(G=>[...G,$]),k($),b(!0),x(!0)},z=($,G)=>{$.stopPropagation(),k(G),b(!1),x(!0)},H=()=>{y&&(g($=>$.map(G=>G.id===y.id?y:G)),x(!1),k(null),b(!1))},J=()=>{y&&!t.buttons.some($=>$.id===y.id)&&g($=>$.filter(G=>G.id!==y.id)),x(!1),k(null),b(!1)},K=()=>{if(y){let G,te;const M=y.x+y.width+10;if(M+y.width<=S)G=M,te=y.y;else{const ee=y.y+y.height+10;ee+y.height<=j?(G=y.x,te=ee):(G=Math.min(y.x+10,S-y.width),te=Math.min(y.y+10,j-y.height))}G=Math.max(0,G),te=Math.max(0,te);const Q={...y,id:String(Date.now()),x:G,y:te};g(ee=>[...ee,Q]),x(!1),k(null),b(!1)}},he=()=>{y&&(g($=>$.filter(G=>G.id!==y.id)),x(!1),k(null),b(!1))},ie=()=>{const $={...t,name:c,buttons:p,canvasWidth:S,canvasHeight:j};r($),n(),console.log("[ChartEditor] Chart saved, triggering background sync."),qr(!1)},Z=($,G)=>{(G==="width"?w:m)(parseInt($,10))},le=($,G)=>{const te=G==="width"?w:m;(isNaN($)||$<L)&&te(L)},ge=()=>{e?(w(window.innerWidth),m(window.innerHeight)):(w(Math.round(window.innerWidth*.97)),m(Math.round(window.innerHeight*.91)))},pe=()=>{y&&N(!0)},oe=$=>{if(k(G=>G?{...G,legendOverrides:$.overrides,linkButtons:$.linkButtonsConfig,legendIsMultiLine:$.legendIsMultiLine}:null),$.titleConfig&&(y!=null&&y.linkedItem)){const G=y.linkedItem;o(te=>te.map(M=>({...M,ranges:M.ranges.map(Q=>Q.id===G?{...Q,showTitle:$.titleConfig.showTitle,titleText:$.titleConfig.titleText,titleFontSize:$.titleConfig.titleFontSize,titleAlignment:$.titleConfig.titleAlignment}:Q)})))}N(!1)},ue=()=>{P($=>!$)},A=y!=null&&y.linkedItem?l.find($=>$.id===y.linkedItem):null;return i.jsx("div",{className:D("p-6",e?"flex-1 overflow-y-auto":"min-h-screen"),children:i.jsxs("div",{className:D("mx-auto",e?"w-full":""),children:[i.jsx("div",{className:"flex justify-between items-center mb-2",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(Y,{variant:"ghost",size:"icon",onClick:ie,title:"Назад к чартам",children:i.jsx(A2,{className:"h-6 w-6 text-foreground"})}),d?i.jsx(be,{value:c,onChange:$=>u($.target.value),onBlur:()=>f(!1),onKeyDown:$=>{$.key==="Enter"&&($.preventDefault(),f(!1))},className:"text-3xl font-bold h-auto p-0 border-none focus-visible:ring-0 bg-transparent",autoFocus:!0}):i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground",children:c}),i.jsx(Y,{variant:"ghost",size:"icon",onClick:()=>f(!0),title:"Редактировать название",children:i.jsx(Nh,{className:"h-5 w-5 text-muted-foreground"})})]})]})}),i.jsx(oM,{isMobileMode:e||!1,canvasWidth:S,canvasHeight:j,onAddButton:O,onMaximizeCanvas:ge,onDimensionChange:Z,onDimensionBlur:le,isMoveMode:R,onToggleMoveMode:ue}),i.jsx(sM,{canvasRef:T,width:S,height:j,buttons:p,activeButtonId:V,onButtonMouseDown:B,onButtonTouchStart:q,onButtonMouseMove:I,onButtonMouseLeave:E,onSettingsClick:z}),i.jsx(iM,{isOpen:v,onOpenChange:x,isMobileMode:e||!1,editingButton:y,setEditingButton:k,onSave:H,onCancel:J,onDuplicate:K,onDelete:he,allRanges:l,folders:s,onOpenLegendPreview:pe,isCreatingNewButton:_}),i.jsx(cM,{isOpen:C,onOpenChange:N,linkedRange:A,actionButtons:a,editingButton:y,onSave:oe,folders:s})]})})};/*! Capacitor: https://capacitorjs.com/ - MIT License */const dM=e=>{const t=new Map;t.set("web",{name:"web"});const n=e.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:t},r=(o,a)=>{n.platforms.set(o,a)},s=o=>{n.platforms.has(o)&&(n.currentPlatform=n.platforms.get(o))};return n.addPlatform=r,n.setPlatform=s,n},fM=e=>e.CapacitorPlatforms=dM(e),u1=fM(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});u1.addPlatform;u1.setPlatform;var oo;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(oo||(oo={}));class Iu extends Error{constructor(t,n,r){super(t),this.message=t,this.code=n,this.data=r}}const hM=e=>{var t,n;return e!=null&&e.androidBridge?"android":!((n=(t=e==null?void 0:e.webkit)===null||t===void 0?void 0:t.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},pM=e=>{var t,n,r,s,o;const a=e.CapacitorCustomPlatform||null,l=e.Capacitor||{},c=l.Plugins=l.Plugins||{},u=e.CapacitorPlatforms,d=()=>a!==null?a.name:hM(e),f=((t=u==null?void 0:u.currentPlatform)===null||t===void 0?void 0:t.getPlatform)||d,p=()=>f()!=="web",g=((n=u==null?void 0:u.currentPlatform)===null||n===void 0?void 0:n.isNativePlatform)||p,S=b=>{const C=y.get(b);return!!(C!=null&&C.platforms.has(f())||m(b))},w=((r=u==null?void 0:u.currentPlatform)===null||r===void 0?void 0:r.isPluginAvailable)||S,j=b=>{var C;return(C=l.PluginHeaders)===null||C===void 0?void 0:C.find(N=>N.name===b)},m=((s=u==null?void 0:u.currentPlatform)===null||s===void 0?void 0:s.getPluginHeader)||j,v=b=>e.console.error(b),x=(b,C,N)=>Promise.reject(`${N} does not have an implementation of "${C}".`),y=new Map,k=(b,C={})=>{const N=y.get(b);if(N)return console.warn(`Capacitor plugin "${b}" already registered. Cannot register plugins twice.`),N.proxy;const R=f(),P=m(b);let T;const L=async()=>(!T&&R in C?T=typeof C[R]=="function"?T=await C[R]():T=C[R]:a!==null&&!T&&"web"in C&&(T=typeof C.web=="function"?T=await C.web():T=C.web),T),F=(O,z)=>{var H,J;if(P){const K=P==null?void 0:P.methods.find(he=>z===he.name);if(K)return K.rtype==="promise"?he=>l.nativePromise(b,z.toString(),he):(he,ie)=>l.nativeCallback(b,z.toString(),he,ie);if(O)return(H=O[z])===null||H===void 0?void 0:H.bind(O)}else{if(O)return(J=O[z])===null||J===void 0?void 0:J.bind(O);throw new Iu(`"${b}" plugin is not implemented on ${R}`,oo.Unimplemented)}},V=O=>{let z;const H=(...J)=>{const K=L().then(he=>{const ie=F(he,O);if(ie){const Z=ie(...J);return z=Z==null?void 0:Z.remove,Z}else throw new Iu(`"${b}.${O}()" is not implemented on ${R}`,oo.Unimplemented)});return O==="addListener"&&(K.remove=async()=>z()),K};return H.toString=()=>`${O.toString()}() { [capacitor code] }`,Object.defineProperty(H,"name",{value:O,writable:!1,configurable:!1}),H},B=V("addListener"),q=V("removeListener"),I=(O,z)=>{const H=B({eventName:O},z),J=async()=>{const he=await H;q({eventName:O,callbackId:he},z)},K=new Promise(he=>H.then(()=>he({remove:J})));return K.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await J()},K},E=new Proxy({},{get(O,z){switch(z){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return P?I:B;case"removeListener":return q;default:return V(z)}}});return c[b]=E,y.set(b,{name:b,proxy:E,platforms:new Set([...Object.keys(C),...P?[R]:[]])}),E},_=((o=u==null?void 0:u.currentPlatform)===null||o===void 0?void 0:o.registerPlugin)||k;return l.convertFileSrc||(l.convertFileSrc=b=>b),l.getPlatform=f,l.handleError=v,l.isNativePlatform=g,l.isPluginAvailable=w,l.pluginMethodNoop=x,l.registerPlugin=_,l.Exception=Iu,l.DEBUG=!!l.DEBUG,l.isLoggingEnabled=!!l.isLoggingEnabled,l.platform=l.getPlatform(),l.isNative=l.isNativePlatform(),l},mM=e=>e.Capacitor=pM(e),Ci=mM(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),ap=Ci.registerPlugin;Ci.Plugins;class d1{constructor(t){this.listeners={},this.retainedEventArguments={},this.windowListeners={},t&&(console.warn(`Capacitor WebPlugin "${t.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=t)}addListener(t,n){let r=!1;this.listeners[t]||(this.listeners[t]=[],r=!0),this.listeners[t].push(n);const o=this.windowListeners[t];o&&!o.registered&&this.addWindowListener(o),r&&this.sendRetainedArgumentsForEvent(t);const a=async()=>this.removeListener(t,n);return Promise.resolve({remove:a})}async removeAllListeners(){this.listeners={};for(const t in this.windowListeners)this.removeWindowListener(this.windowListeners[t]);this.windowListeners={}}notifyListeners(t,n,r){const s=this.listeners[t];if(!s){if(r){let o=this.retainedEventArguments[t];o||(o=[]),o.push(n),this.retainedEventArguments[t]=o}return}s.forEach(o=>o(n))}hasListeners(t){return!!this.listeners[t].length}registerWindowListener(t,n){this.windowListeners[n]={registered:!1,windowEventName:t,pluginEventName:n,handler:r=>{this.notifyListeners(n,r)}}}unimplemented(t="not implemented"){return new Ci.Exception(t,oo.Unimplemented)}unavailable(t="not available"){return new Ci.Exception(t,oo.Unavailable)}async removeListener(t,n){const r=this.listeners[t];if(!r)return;const s=r.indexOf(n);this.listeners[t].splice(s,1),this.listeners[t].length||this.removeWindowListener(this.windowListeners[t])}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){t&&(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}sendRetainedArgumentsForEvent(t){const n=this.retainedEventArguments[t];n&&(delete this.retainedEventArguments[t],n.forEach(r=>{this.notifyListeners(t,r)}))}}const Wg=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Kg=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class gM extends d1{async getCookies(){const t=document.cookie,n={};return t.split(";").forEach(r=>{if(r.length<=0)return;let[s,o]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");s=Kg(s).trim(),o=Kg(o).trim(),n[s]=o}),n}async setCookie(t){try{const n=Wg(t.key),r=Wg(t.value),s=`; expires=${(t.expires||"").replace("expires=","")}`,o=(t.path||"/").replace("path=",""),a=t.url!=null&&t.url.length>0?`domain=${t.url}`:"";document.cookie=`${n}=${r||""}${s}; path=${o}; ${a};`}catch(n){return Promise.reject(n)}}async deleteCookie(t){try{document.cookie=`${t.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const t=document.cookie.split(";")||[];for(const n of t)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(t){return Promise.reject(t)}}async clearAllCookies(){try{await this.clearCookies()}catch(t){return Promise.reject(t)}}}ap("CapacitorCookies",{web:()=>new gM});const vM=async e=>new Promise((t,n)=>{const r=new FileReader;r.onload=()=>{const s=r.result;t(s.indexOf(",")>=0?s.split(",")[1]:s)},r.onerror=s=>n(s),r.readAsDataURL(e)}),xM=(e={})=>{const t=Object.keys(e);return Object.keys(e).map(s=>s.toLocaleLowerCase()).reduce((s,o,a)=>(s[o]=e[t[a]],s),{})},yM=(e,t=!0)=>e?Object.entries(e).reduce((r,s)=>{const[o,a]=s;let l,c;return Array.isArray(a)?(c="",a.forEach(u=>{l=t?encodeURIComponent(u):u,c+=`${o}=${l}&`}),c.slice(0,-1)):(l=t?encodeURIComponent(a):a,c=`${o}=${l}`),`${r}&${c}`},"").substr(1):null,wM=(e,t={})=>{const n=Object.assign({method:e.method||"GET",headers:e.headers},t),s=xM(e.headers)["content-type"]||"";if(typeof e.data=="string")n.body=e.data;else if(s.includes("application/x-www-form-urlencoded")){const o=new URLSearchParams;for(const[a,l]of Object.entries(e.data||{}))o.set(a,l);n.body=o.toString()}else if(s.includes("multipart/form-data")||e.data instanceof FormData){const o=new FormData;if(e.data instanceof FormData)e.data.forEach((l,c)=>{o.append(c,l)});else for(const l of Object.keys(e.data))o.append(l,e.data[l]);n.body=o;const a=new Headers(n.headers);a.delete("content-type"),n.headers=a}else(s.includes("application/json")||typeof e.data=="object")&&(n.body=JSON.stringify(e.data));return n};class SM extends d1{async request(t){const n=wM(t,t.webFetchExtra),r=yM(t.params,t.shouldEncodeUrlParams),s=r?`${t.url}?${r}`:t.url,o=await fetch(s,n),a=o.headers.get("content-type")||"";let{responseType:l="text"}=o.ok?t:{};a.includes("application/json")&&(l="json");let c,u;switch(l){case"arraybuffer":case"blob":u=await o.blob(),c=await vM(u);break;case"json":c=await o.json();break;case"document":case"text":default:c=await o.text()}const d={};return o.headers.forEach((f,p)=>{d[p]=f}),{data:c,headers:d,status:o.status,url:o.url}}async get(t){return this.request(Object.assign(Object.assign({},t),{method:"GET"}))}async post(t){return this.request(Object.assign(Object.assign({},t),{method:"POST"}))}async put(t){return this.request(Object.assign(Object.assign({},t),{method:"PUT"}))}async patch(t){return this.request(Object.assign(Object.assign({},t),{method:"PATCH"}))}async delete(t){return this.request(Object.assign(Object.assign({},t),{method:"DELETE"}))}}ap("CapacitorHttp",{web:()=>new SM});const bM=ap("App",{web:()=>fn(()=>import("./web-DOSkTYnc.js"),[]).then(e=>new e.AppWeb)}),Gg=(e,t)=>{if(e==="fold")return"#6b7280";const n=t.find(r=>r.id===e);return n&&n.type==="simple"?n.color:"#ffffff"},jM=(e,t)=>{if(e.type==="simple")return{backgroundColor:e.color};if(e.type==="weighted"){const n=Gg(e.action1Id,t),r=Gg(e.action2Id,t);return{background:`linear-gradient(to right, ${n} ${e.weight}%, ${r} ${e.weight}%)`}}return{}},CM=({usedActions:e,allActionButtons:t,legendOverrides:n,legendIsMultiLine:r})=>{if(e.length===0)return null;const s=r??!0;return i.jsx("div",{className:D("mt-4",s?"flex flex-col items-start gap-y-2":"flex flex-row flex-wrap items-center gap-x-4 gap-y-2"),children:e.map(o=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 rounded-sm border",style:jM(o,t)}),i.jsx("span",{className:"text-sm font-medium",children:(n==null?void 0:n[o.id])||o.name})]},o.id))})},_M=({isOpen:e,onClose:t,children:n,isMobileMode:r=!1})=>e?i.jsx("div",{className:D("fixed inset-0 z-50 flex bg-black/50",r?"items-stretch p-0":"items-center justify-center p-2"),onClick:t,children:i.jsx("div",{className:D("bg-background shadow-2xl",r?"w-full h-full rounded-none":"w-auto p-4 rounded-lg"),onClick:s=>s.stopPropagation(),children:n})}):null,kM=({isMobileMode:e=!1,chart:t,allRanges:n,onBackToCharts:r})=>{const{actionButtons:s}=mn(),[o,a]=h.useState(null),[l,c]=h.useState(!1),[u,d]=h.useState(null),[f,p]=h.useState(null),[g,S]=h.useState({width:0,height:0}),[w,j]=h.useState({}),m=C=>{if(!C){console.warn("[Stats] recordRangeAccess called with no rangeId.");return}let N={};try{const R=localStorage.getItem("poker-range-access-statistics");if(R){const P=JSON.parse(R);typeof P=="object"&&P!==null&&!Array.isArray(P)&&(N=P)}}catch(R){console.error("Error parsing range access statistics, starting fresh for this session.",R),N={}}try{const R=Number(N[C])||0;N[C]=R+1,localStorage.setItem("poker-range-access-statistics",JSON.stringify(N))}catch(R){console.error("Error saving range access statistics to localStorage.",R),alert("Не удалось сохранить статистику. Возможно, хранилище переполнено.")}};h.useEffect(()=>{const C=()=>{S({width:window.innerWidth,height:window.innerHeight})};C(),window.addEventListener("resize",C);try{const N=getComputedStyle(document.documentElement).getPropertyValue("--background").trim();if(!N)return;const R=N.replace(/%/g,"").split(" ");if(R.length<3)return;const P=parseFloat(R[0]),T=parseFloat(R[1]),L=parseFloat(R[2]);if(isNaN(P)||isNaN(T)||isNaN(L))return;const F=L+(100-L)*.15,V=`hsl(${P} ${T}% ${Math.min(100,F)}%)`;j({borderColor:V,borderWidth:"1px",borderStyle:"solid"})}catch(N){console.error("Could not calculate dynamic border color, falling back.",N),j({borderColor:"hsl(var(--border))",borderWidth:"1px",borderStyle:"solid"})}return()=>window.removeEventListener("resize",C)},[]),h.useEffect(()=>{if(!Ci.isNativePlatform())return;const C=bM.addListener("backButton",()=>{l?x():r()});return()=>{C.then(N=>N.remove()).catch(N=>{console.error("Failed to remove back button listener",N)})}},[l,r]);const v=C=>{if(C.type==="label")return;if(C.type==="exit"){r();return}const N=n.find(R=>R.id===C.linkedItem);N?(m(N.id),a(N),d(C),C.showRandomizer?p(Math.floor(Math.random()*101)):p(null),c(!0)):alert("Привязанный диапазон не найден.")},x=()=>{c(!1),a(null),d(null),p(null)},y=C=>{const N=n.find(R=>R.id===C);N?(m(N.id),a(N)):alert("Связанный ренж не найден!")},k=X.useMemo(()=>{if(!o)return[];const C=new Set(Object.values(o.hands));return s.filter(N=>C.has(N.id))},[o,s]),_=e&&g.width>0&&t.canvasWidth>0?Math.min(g.width/t.canvasWidth,g.height/t.canvasHeight):1,b={left:"justify-start",center:"justify-center",right:"justify-end"};return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:D(e?"fixed inset-0 z-50 flex flex-col items-center justify-center bg-background":"p-6 min-h-screen"),children:i.jsx("div",{className:D(e?"w-full h-full flex flex-col items-center justify-center":"w-full flex justify-center items-start"),children:i.jsxs("div",{className:D("relative flex items-center justify-center overflow-hidden",e?"bg-background":"bg-card rounded-lg"),style:{width:t.canvasWidth,height:t.canvasHeight,...e?{transform:`scale(${_})`,transformOrigin:"center center"}:{flexShrink:0,...w}},children:[(!e||!l)&&t.buttons.map(C=>{const N={backgroundColor:C.color,position:"absolute",left:C.x,top:C.y,width:Math.max(5,C.width||0),height:Math.max(5,C.height||0),color:C.isFontAdaptive===!1&&C.fontColor?C.fontColor:"white",display:"flex",flexDirection:"column",alignItems:C.textAlign==="left"?"flex-start":C.textAlign==="right"?"flex-end":"center",justifyContent:"center",padding:"0 8px",textAlign:C.textAlign};return C.isFontAdaptive===!1&&C.fontSize&&(N.fontSize=`${C.fontSize}px`),i.jsxs("div",{style:N,className:D("rounded-md shadow-md font-semibold z-20",{"whitespace-nowrap":!C.textWrap,"overflow-hidden":!C.textWrap,"text-ellipsis":!C.textWrap},C.type!=="label"&&"cursor-pointer hover:opacity-90 transition-opacity"),onClick:()=>v(C),children:[i.jsx("span",{style:{lineHeight:"0.9em"},children:C.name}),C.showNameLine2&&C.nameLine2&&i.jsx("span",{style:{lineHeight:"0.9em"},children:C.nameLine2}),C.showNameLine3&&C.nameLine3&&i.jsx("span",{style:{lineHeight:"0.9em"},children:C.nameLine3})]},C.id)}),t.buttons.length===0&&(!e||!l)&&i.jsx("p",{className:"text-muted-foreground z-10",children:"В этом чарте нет кнопок."})]})})}),i.jsx(_M,{isOpen:l,onClose:x,isMobileMode:e,children:o&&i.jsxs("div",{className:D("relative flex flex-col h-full",e?"pb-[30px]":"p-4"),children:[(u==null?void 0:u.showRandomizer)&&f!==null&&i.jsx("div",{className:"absolute top-0 right-0 font-bold z-10 rounded-md",style:{fontSize:"20px",color:"white",backgroundColor:"#0d0e12",padding:"4px 12px"},children:f}),o.showTitle&&o.titleText&&i.jsx("h3",{className:"pt-10 mb-2 px-4 font-bold text-white flex-shrink-0",style:{fontSize:`${o.titleFontSize||20}px`,textAlign:o.titleAlignment||"center"},children:o.titleText}),i.jsx("div",{className:D("flex items-center justify-center flex-shrink-0",e?"w-full":"h-full"),children:i.jsx("div",{className:D("aspect-square",e?"w-full":"h-full"),children:i.jsx(Yr,{selectedHands:o.hands,onHandSelect:()=>{},activeAction:"",actionButtons:s,readOnly:!0,isBackgroundMode:!1})})}),i.jsxs("div",{className:D("flex-shrink-0",e&&"px-4 pb-4"),children:[(u==null?void 0:u.showLegend)&&i.jsx(CM,{usedActions:k,allActionButtons:s,legendOverrides:u==null?void 0:u.legendOverrides,legendIsMultiLine:u==null?void 0:u.legendIsMultiLine}),(u==null?void 0:u.linkButtons)&&u.linkButtons.some(C=>C.enabled)&&i.jsx("div",{className:D("mt-4 flex",b[u.linkButtons[0].position]),children:i.jsx("div",{className:"grid grid-cols-3 gap-[0.625rem]",children:u.linkButtons.map((C,N)=>C.enabled&&C.targetRangeId&&i.jsx(Y,{onClick:()=>y(C.targetRangeId),className:"bg-green-600 hover:bg-green-700 text-white font-bold h-11 px-2.5",style:{fontSize:"14.6205px"},children:C.text||"Перейти"},N))})})]}),e&&i.jsx(Y,{onClick:x,className:"absolute bottom-0 left-0 w-full rounded-none text-white font-bold bg-gray-800 hover:bg-gray-700 z-20",style:{height:"30px"},children:"Назад"})]})})]})},NM=()=>{console.log("Index.tsx rendered");const{folders:e}=mn(),t=e.flatMap(C=>C.ranges),[n,r]=h.useState("chart"),[s,o]=h.useState(null),[a,l]=h.useState(null),[c,u]=h.useState(!1),d=In(),[f,p]=h.useState(()=>{try{const C=localStorage.getItem("userCharts");return C?JSON.parse(C):[]}catch(C){return console.error("Failed to parse charts from localStorage:",C),[]}});h.useEffect(()=>{try{localStorage.setItem("userCharts",JSON.stringify(f))}catch(C){console.error("Failed to save charts to localStorage:",C)}},[f]);const g=d&&a!=="desktop"||!d&&c,S=n==="chartViewer",w=C=>{o(C),r("chartEditor")},j=C=>{o(C),r("chartViewer")},m=C=>{const N=String(Date.now()),R={id:N,name:C.trim(),buttons:[{id:`exit-${N}`,name:"Выход",color:"#EF4444",linkedItem:"",x:10,y:10,width:150,height:40,type:"exit"}],canvasWidth:800,canvasHeight:500};p(P=>[...P,R])},v=C=>{p(N=>N.filter(R=>R.id!==C))},x=C=>{p(N=>N.map(R=>R.id===C.id?C:R)),o(N=>N&&N.id===C.id?C:N)},y=()=>{switch(console.log("Index.tsx: renderSection called. activeSection:",n),n){case"editor":return i.jsx(zg,{isMobileMode:g});case"training":return i.jsx(ZD,{isMobileMode:g});case"chart":return i.jsx(nM,{isMobileMode:g,charts:f,onCreateChart:m,onDeleteChart:v,onEditChart:w,onPlayChart:j});case"chartEditor":return s?i.jsx(uM,{isMobileMode:g,chart:s,onBackToCharts:()=>r("chart"),onSaveChart:x}):null;case"chartViewer":return s?i.jsx(kM,{isMobileMode:g,chart:s,allRanges:t,onBackToCharts:()=>r("chart")}):null;default:return i.jsx(zg,{isMobileMode:g})}},k=i.jsx(Y,{variant:"outline",size:"sm",onClick:()=>{d?l(a==="desktop"?null:"desktop"):u(!c)},className:"flex items-center justify-center h-10 w-10 p-0",children:g?i.jsx(W2,{className:"h-4 w-4"}):i.jsx(q2,{className:"h-4 w-4"})}),_=i.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[k,i.jsx(Ag,{isMobileMode:g})]}),{loading:b}=zh();return console.log("Index.tsx: AuthContext loading state:",b),console.log("Index.tsx: isFullScreenViewer:",S),console.log("Index.tsx: isMobileLayout:",g),console.log("Index.tsx: activeSection:",n),console.log("Index.tsx: folders (from RangeContext):",e),console.log("Index.tsx: charts (local state):",f),b?(console.log("Index.tsx: AuthContext is still loading, rendering null."),null):S?i.jsx(X.Fragment,{children:(()=>{try{return y()}catch(C){return console.error("Index.tsx: Error rendering full screen section:",C),i.jsxs("div",{className:"text-red-500 p-4",children:["Ошибка загрузки полноэкранного режима: ",C instanceof Error?C.message:String(C)]})}})()}):i.jsx("div",{className:"min-h-screen bg-background",children:g?i.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[i.jsx("div",{className:"px-4 border-b bg-card",children:i.jsx("div",{className:"flex items-center justify-between",children:i.jsx(_m,{activeSection:n,onSectionChange:r,isMobile:!0,mobileActions:_})})}),i.jsx("div",{className:"flex-1 flex flex-col",children:i.jsx(X.Fragment,{children:(()=>{try{return y()}catch(C){return console.error("Index.tsx: Error rendering mobile section:",C),i.jsxs("div",{className:"text-red-500 p-4",children:["Ошибка загрузки мобильного режима: ",C instanceof Error?C.message:String(C)]})}})()})})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"py-1 border-b bg-card",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-80 flex-shrink-0 pl-4",children:i.jsx(_m,{activeSection:n,onSectionChange:r})}),i.jsx("div",{className:"flex-1 flex items-center justify-end pr-4",children:i.jsxs("div",{className:"flex items-center gap-2",children:[k,i.jsx(Ag,{isMobileMode:g})]})})]})}),i.jsx(X.Fragment,{children:(()=>{try{return y()}catch(C){return console.error("Index.tsx: Error rendering desktop section:",C),i.jsxs("div",{className:"text-red-500 p-4",children:["Ошибка загрузки десктопного режима: ",C instanceof Error?C.message:String(C)]})}})()})]})})};function EM(){return i.jsx(UA,{children:i.jsx(uI,{children:i.jsx(NM,{})})})}console.log("main.tsx executed");ly(document.getElementById("root")).render(i.jsx(X.StrictMode,{children:i.jsx(EM,{})}));const _i=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));export{d1 as W};
